!function(e){function t(t){for(var r,c,u=t[0],l=t[1],s=t[2],f=t[3]||[],m=0,p=[];m<u.length;m++)c=u[m],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(d&&d(t),i.push.apply(i,f);p.length;)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return 0===o.length&&(i.forEach((function(e){if(void 0===a[e]){a[e]=null;var t=document.createElement("link");u.nc&&t.setAttribute("nonce",u.nc),t.rel="prefetch",t.as="script",t.href=c(e),document.head.appendChild(t)}})),i.length=0),e}var r={},a={9:0},o=[],i=[];function c(e){return u.p+"common/"+({3:"im_sdk_module",4:"im_web",5:"loginsdk_module",6:"lottie-web",16:"ttwid_m",17:"vendors~qrcode-module"}[e]||e)+"."+{3:"29372f8d",4:"2316bfac",5:"4619f4d5",6:"92cc9b2f",16:"89f6af38",17:"40207d42"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[];if(!o||!o.prototype.then){var n=setTimeout;function r(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(a){return void s(t.promise,a)}l(t.promise,r)}else(1===e._state?l:s)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void f(e);if("function"==typeof n)return void m((r=n,a=t,function(){r.apply(a,arguments)}),e)}e._state=1,e._value=t,f(e)}catch(i){s(e,i)}var r,a}function s(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&o._immediateFn((function(){e._handled||o._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(r){if(n)return;n=!0,s(t,r)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new d(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},o.all=function(e){return new o((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var a=r.length;function o(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var c=i.then;if("function"==typeof c)return void c.call(i,(function(t){o(e,t)}),n)}r[e]=i,0==--a&&t(r)}catch(u){n(u)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){for(var r=0,a=e.length;r<a;r++)e[r].then(t,n)}))},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)}}var p=a[e];if(0!==p)if(p)t.push(p[2]);else{var b=new o((function(t,n){p=a[e]=[t,n]}));t.push(p[2]=b);var v,h=document.createElement("script");h.charset="utf-8",h.timeout=120,u.nc&&h.setAttribute("nonce",u.nc),h.src=c(e);var g=new Error;v=function(t){h.onerror=h.onload=null,clearTimeout(_);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;g.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",g.name="ChunkLoadError",g.type=r,g.request=o,n[1](g)}a[e]=void 0}};var _=setTimeout((function(){v({type:"timeout",target:h})}),12e4);h.onerror=h.onload=v,document.head.appendChild(h)}return o.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="//lf3-cdn2-tos.bytescm.com/toutiao/toutiao_web_pc/",u.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var d=s,m=(o.push([3,1,2,0]),n());t([[],{},0,[17]])}({0:function(e,t){},"028f84ba6d27e52aa246":function(e,t,n){},"02bf73d0fc60a69393f6":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("4f6e6e2b02b6a70b9d23"),a=n.n(r),o=n("6bb41c796464fc214f15"),i=n.n(o),c=n("6104d0ccf35b3944ecf2"),u=n.n(c),l=n("4cc68b2efb2eff1c34aa"),s=n.n(l),f=n("f9aa1a8184c17c535d23"),d=n.n(f),m=n("b1b96d53056a3b30ef69"),p=n.n(m),b=n("3b76dd97653dea47ddc2"),v=n("fdbcb2f5089886a59aee");function h(e){var t=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var g=b.b.POSITIONS,_=function(e){s()(n,e);var t=h(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).timer=0,e.handleUserAction=function(t){window.clearTimeout(e.timer);var n=t.action,r=t.props;if(n===v.e.SEEK){var a,o=(null==r||null===(a=r[0])||void 0===a?void 0:a.currentTime)||{},i=o.from,c=void 0===i?0:i,u=o.to;c<=(void 0===u?0:u)?e.player.emit(v.b.SHOW_BOTTOM_LEFT_TIPS,{content:e.getText("forward")}):e.player.emit(v.b.SHOW_BOTTOM_LEFT_TIPS,{content:e.getText("back")})}},e.getText=function(e){return"forward"===e?'\n        <div class="xgplayer-seek-tips">\n          <i class="icon-forward"></i>\u5feb\u8fdb10\u79d2\n        </div>\n      ':'\n        <div class="xgplayer-seek-tips">\n          <i class="icon-back"></i>\u5feb\u900010\u79d2\n        </div>\n      '},e}return u()(n,[{key:"afterCreate",value:function(){this.player.on(v.b.USER_ACTION,this.handleUserAction)}},{key:"destroy",value:function(){this.player.off(v.b.USER_ACTION,this.handleUserAction)}}],[{key:"pluginName",get:function(){return"seekTips"}},{key:"defaultConfig",get:function(){return{position:g.ROOT,index:0}}}]),n}(b.b)},"031de0cb2c8fe1390617":function(e,t,n){},"03bba7e82aff374edd21":function(e,t,n){},"08172d9560ad9ddbd809":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("167789bd516d2baf7295");function a(){return!!r.a&&"serviceWorker"in navigator}function o(){var e,t;return null===(e=(t=window).matchMedia)||void 0===e?void 0:e.call(t,"(display-mode: standalone), (display-mode: minimal-ui)")}function i(){var e,t;return r.a&&((null===(e=navigator)||void 0===e?void 0:e.standalone)||(null===(t=o())||void 0===t?void 0:t.matches))||!1}},"0aab18c30afb7e36a8bb":function(e,t,n){"use strict";n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("714667d626fd04a26548"),n("17d091243b0d38080c9b"),n("1c4b8d4085d28a8b83d7"),n("a909ca3296d499985c89");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o),c=(n("d0cdb1573eb353e026ef"),n("102c68ff4eb277341743")),u=(n("281981c6b99b2a82c28b"),n("21460410443b5c09d963"),n("d01523487ce5c2f3fd39"),n("ec7d18b3433a1d1d5e4e")),l=n("b41771ccc50908d4ad97"),s=(n("d21e1985b4157995b9e6"),n("742f59eaa59127e610f4")),f=a.a.forwardRef((function(e,t){var n=e.className,o=e.children,c=e.iconType,u=e.ariaLabel,l=e.onClick,f=e.onFocus,d=e.onBlur,m=Object(r.useRef)(null);function p(){null==l||l()}return Object(r.useImperativeHandle)(t,(function(){return{dom:m.current}})),a.a.createElement(s.a.MenuItem,{onKeyDown:function(e){var t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),p())},onFocus:f,onBlur:d},a.a.createElement("div",{ref:m,"aria-label":u,className:i()("ttp-interact-item",n,"icon-".concat(c)),onClick:p},o))})),d=n("d1afa150e54e7d13351c"),m=n("88486649d0e05a6137d0"),p=n("600ecdf555875453c941");function b(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,c,"next",e)}function c(e){b(o,r,a,i,c,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t,n=e.data,o=Object(r.useMemo)((function(){var e;if(null===(e=n.user)||void 0===e?void 0:e.uid)return Object(p.a)(n.user.uid)}),[null===(t=n.user)||void 0===t?void 0:t.uid]);return a.a.createElement("div",{className:"origin-content"},n.cover&&a.a.createElement("img",{className:"cover",src:globalThis.getFilterXss().filterUrl(n.cover,null,{logType:"js.href/src",reportOnly:"all"}),alt:""}),a.a.createElement("div",{className:"detail"},n.user&&a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:"user-name",href:globalThis.getFilterXss().filterUrl(o,null,{logType:"js.href/src",reportOnly:"all"}),rel:"nofollow",target:"_blank"},"@",n.user.name),"\uff1a"),a.a.createElement("div",{className:"rich-content",dangerouslySetInnerHTML:{__html:Object(m.a)(n.content)}})))},y=function(e){var t=e.origin,n=e.onSubmit,o=h(Object(r.useState)(""),2),c=o[0],u=o[1];function l(){return(l=v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=c.trim()).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,null==n?void 0:n(t);case 5:e.sent&&u("");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("div",{className:"ttp-wtt-repost-panel"},a.a.createElement("div",{className:"input-area"},a.a.createElement("textarea",{className:"first-focus-el",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",rows:3,maxLength:2e3,value:c,onChange:function(e){var t=e.target.value;u(t)}}),a.a.createElement("div",{className:"input-meta"},a.a.createElement("span",{className:"words-count"},a.a.createElement("span",{className:"count"},c.length),"/2000"))),t&&a.a.createElement(_,{data:t}),a.a.createElement("div",{className:"publish-action"},a.a.createElement("button",{className:i()("submit-btn",{disable:!c.trim().length}),onClick:function(){return l.apply(this,arguments)}},"\u786e\u5b9a")))},w=n("48fbcd2606cff6fd296a");function E(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,c,"next",e)}function c(e){E(o,r,a,i,c,"throw",e)}i(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e||{},n=t.origin,o=t.repostParams,i=t.loginUserInfo,c=t.onModalClose,s=t.onModalOpen,m=t.onSubmit,p=O(Object(r.useState)(!1),2),b=p[0],v=p[1],h=Object(r.useRef)(!1);function g(e){return Object.assign({content:e,cover_image_url:null==n?void 0:n.cover},o)}function _(){return(_=k(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.current){e.next=2;break}return e.abrupt("return",!1);case 2:return h.current=!0,null==m||m(),e.prev=4,n=g(t),e.next=8,u.a.ugc.repostContent(n);case 8:if("success"!==(r=e.sent).data.message){e.next=15;break}return w.a.info("\u8f6c\u53d1\u6210\u529f"),h.current=!1,v(!1),null==c||c(),e.abrupt("return",!0);case 15:throw new Error(r.data.message);case 18:return e.prev=18,e.t0=e.catch(4),h.current=!1,console.log(e.t0),w.a.info("\u8f6c\u53d1\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[4,18]])})))).apply(this,arguments)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(f,{iconType:"wtt",className:"wtt",onClick:function(){Object(l.a)(i)&&(v(!0),null==s||s())}},"\u8f6c\u53d1\u5230\u5934\u6761"),a.a.createElement(d.a,{className:"ttp-wtt-repost-modal",title:"\u8f6c\u53d1",visible:b,maskClosable:!1,onClose:function(){v(!1),null==c||c()},footer:null},a.a.createElement(y,{origin:n,onSubmit:function(e){return _.apply(this,arguments)}})))};n("3b3ecbc8530a8b2a47e4");function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){var t=e.shareConfig,o=e.onShare,i=Object(r.useRef)(null),c=Object(r.useRef)(null),u=I(Object(r.useState)(!1),2),l=u[0],s=u[1],d=Object(r.useRef)(-1),m=Object(r.useRef)(!1),p=Object(r.useRef)(!1);function b(){clearTimeout(d.current),m.current||p.current||(m.current=!0,n.e(17).then(n.bind(null,"cb2c03285d67c630fee6")).then((function(e){new e.default(c.current||"_qrcode",{width:t.width||80,height:t.height||80}).makeCode(t.url),m.current=!1,p.current=!0})).catch((function(){m.current=!1}))),s(!0),null==o||o()}function v(){clearTimeout(d.current),d.current=window.setTimeout((function(){s(!1)}),100)}return a.a.createElement("div",{className:"ttp-interact-wx-wrapper",ref:i,onMouseEnter:b,onMouseLeave:v},a.a.createElement(f,{ariaLabel:"\u5fae\u4fe1\u626b\u7801\u5206\u4eab",iconType:"wx",className:"wx",onFocus:b,onBlur:v},"\u5fae\u4fe1"),a.a.createElement("div",{className:"qrcode-panel",style:{display:l?"block":"none"}},a.a.createElement("div",{id:"_qrcode",ref:c}),a.a.createElement("span",null,"\u5fae\u4fe1\u626b\u7801\u5206\u4eab")))},S=(n("1745119f90252e18f73c"),n("2424222fdd55b7282442"),{qzone:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}&pics={{IMAGE}}",weibo:"https://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}"});function N(e,t){return S[e].replace(/\{\{(\w*)\}\}/g,(function(e,n){var r=n.toLowerCase();return encodeURIComponent(t[r]?t[r]:"")}))}var L,R=function(e){return a.a.createElement(f,{iconType:"weibo",className:"weibo",onClick:function(){var t,n,r;n=e.shareConfig,r=N("weibo",Object.assign({},n)),window.open(r),null===(t=e.onShare)||void 0===t||t.call(e)}},"\u65b0\u6d6a\u5fae\u535a")},A=(n("ee4c6d66e74a74b6b480"),function(e){return a.a.createElement(f,{iconType:"qzone",className:"qzone",onClick:function(){var t,n,r;n=e.shareConfig,r=N("qzone",Object.assign({},n)),window.open(r),null===(t=e.onShare)||void 0===t||t.call(e)}},"QQ\u7a7a\u95f4")}),P=n("d5baf0dd685092a927fa"),D=n.n(P),M=(n("a30a8014fe3ebfc628da"),function(e){var t=e.shareConfig,n=e.show,o=e.onShare,i=Object(r.useRef)(null),c=Object(r.useRef)(!1),u=Object(r.useRef)(o);u.current=o;var l=Object(r.useCallback)((function(){var e;if(!c.current){var n=null===(e=i.current)||void 0===e?void 0:e.dom;if(n)new D.a(n,{text:function(){return t.url}}).on("success",(function(){var e;w.a.info(t.tips||"\u5df2\u590d\u5236\u6587\u7ae0\u94fe\u63a5\n\u53bb\u5206\u4eab\u5427"),null===(e=u.current)||void 0===e||e.call(u)})),c.current=!0}}),[t.tips,t.url]);return Object(r.useEffect)((function(){n&&l()}),[n,l]),a.a.createElement(f,{iconType:"copy",className:"copy",ref:i},"\u590d\u5236\u94fe\u63a5")});function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.WTT="wtt",e.COPY="copy",e.WX="wx",e.WEIBO="weibo",e.QZONE="qzone"}(L||(L={}));var F=[{type:L.WTT},{type:L.COPY},{type:L.WX},{type:L.WEIBO},{type:L.QZONE}];t.a=function(e){var t=e.options,n=void 0===t?F:t,o=e.shareConfig,u=e.wtt,l=e.qzone,f=e.weibo,d=e.copy,m=e.openType,p=void 0===m?"hover":m,b=e.direction,v=void 0===b?"right":b,h=e.closeTimeout,g=e.children,_=e.onShare,y=e.onShareAction,w=e.onWttSubmit,E=U(Object(r.useState)(!1),2),k=E[0],O=E[1],j=Object(r.useRef)(!1),I=U(Object(r.useState)(!1),2),x=I[0],S=I[1],N=Object(r.useRef)(null);function P(){var e;if(!j.current){if("right"===v){var t=(null===(e=N.current)||void 0===e?void 0:e.getBoundingClientRect())||{},n=t.top,r=void 0===n?1/0:n,a=t.height,o=r+(void 0===a?0:a)/2<window.innerHeight/2;S(o)}O(!0)}}function D(){O(!1)}function V(e){null==_||_(e)}function H(){j.current=!0,V("toutiao"),D()}function B(){j.current=!1}function W(){V("copy"),D(),setTimeout((function(){var e,t;null===(t=null===(e=N.current)||void 0===e?void 0:e.childNodes[0])||void 0===t||t.focus()}),2500)}function Y(e){var t;(null===(t=N.current)||void 0===t?void 0:t.contains(e.target))||D()}function G(e){V(e),D()}function K(){null==y||y("click"),P()}Object(r.useEffect)((function(){k&&Object(c.a)("interaction_bar_action",{action_type:"click",from_position:"share"})}),[k]),Object(r.useEffect)((function(){if("click"===p)return k?(window.addEventListener("click",Y),window.addEventListener("keydown",Y)):(window.removeEventListener("click",Y),window.removeEventListener("keydown",Y)),function(){window.removeEventListener("click",Y),window.removeEventListener("keydown",Y)}}),[k]);return a.a.createElement(s.a,{closeTimeout:h,onOpen:function(){"click"!==p&&P()},onClose:function(){"click"!==p&&D()},getListItems:function(e){return Array.prototype.slice.call((null==e?void 0:e.childNodes)||[]).map((function(e){var t=e.childNodes[0];return t.className.indexOf("wx")>-1?t.childNodes[0]:t})).filter(Boolean)}},a.a.createElement("div",{className:"ttp-interact-share",ref:N},a.a.createElement(s.a.MenuButton,{onMouseEnter:function(){return null==y?void 0:y("hover")}},g?a.a.cloneElement(g,{onClick:K}):a.a.createElement("div",{className:"share-btn",onClick:K},"\u5206\u4eab")),a.a.createElement(s.a.MenuList,null,a.a.createElement("ul",{className:i()("share-tools",{"panel-right":"right"===v,"panel-right-top":!x&&"right"===v,"panel-right-bottom":x&&"right"===v,"panel-top":"top"===v,"panel-bottom":"bottom"===v,"pop-anime":k})},n.map((function(e){switch(e.type){case L.WTT:return u||e.config?a.a.createElement("li",{key:L.WTT},a.a.createElement(C,Object.assign({},u,e.config,{onModalOpen:H,onModalClose:B,onSubmit:w}))):null;case L.COPY:return a.a.createElement("li",{key:L.COPY},a.a.createElement(M,{shareConfig:Object.assign(Object.assign({url:o.url},d),e.config),show:k,onShare:W}));case L.WX:return a.a.createElement("li",{key:L.WX},a.a.createElement(T,{shareConfig:Object.assign({url:o.url},e.config),onShare:function(){return V("wechat")}}));case L.WEIBO:return a.a.createElement("li",{key:L.WEIBO},a.a.createElement(R,{shareConfig:Object.assign(Object.assign({title:o.title,url:o.url,image:o.cover},f),e.config),onShare:function(){return G("weibo")}}));case L.QZONE:return a.a.createElement("li",{key:L.QZONE},a.a.createElement(A,{shareConfig:Object.assign(Object.assign({title:o.title,url:o.url,image:o.cover},l),e.config),onShare:function(){return G("qzone")}}));default:return null}}))))))}},"0c48ad6a4a80b410134d":function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return _}));n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("714667d626fd04a26548"),n("c93a3409710bc0c7e7f7"),n("96e657875a3e8636f3a2"),n("3001a3934397946b1a1f"),n("562804f2026cdb551686");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("ad3ac99ada113225a3d8"),i=n.n(o),c=(n("9e83cf69ce1e36dd82aa"),n("102c68ff4eb277341743")),u=(n("1c4b8d4085d28a8b83d7"),n("098de4f1853062b3a141")),l=n.n(u),s=n("742f59eaa59127e610f4"),f=n("c3f6c65547e619f96c18");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.option,n=e.list,o=e.onChange,i=d(Object(r.useState)(!1),2),c=i[0],u=i[1];function m(){u(!1)}function p(e){null==o||o(e),m()}return a.a.createElement(s.a,{onOpen:function(){u(!0)},onClose:m},a.a.createElement(s.a.MenuButton,null,a.a.createElement("div",{className:"ttp-city-selector-cascade-option"},a.a.createElement("div",{className:"current-option"},t),a.a.createElement(s.a.MenuList,null,a.a.createElement("ul",{className:l()("options-list",{show:c})},n.map((function(e){return a.a.createElement(s.a.MenuItem,{key:e,onKeyDown:function(t){return function(e,t){var n=e.keyCode;n!==f.a.ENTER&&n!==f.a.SPACE||(e.preventDefault(),p(t))}(t,e)}},a.a.createElement("li",{className:"option",onClick:function(){return p(e)}},e))})))))))},b=n("b35cd4aad903919810e4");function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g="local_city_cache",_=30;t.c=function(e){var t=e.city,n=e.cities,o=e.cacheCookieKey,u=void 0===o?g:o,l=e.cacheCookieExpires,s=void 0===l?_:l,f=e.logParams,d=e.onCancel,m=e.onSubmit,h=v(Object(r.useState)((function(){return Object(b.b)(t,n)})),2),y=h[0],w=h[1],E=v(Object(r.useState)(t),2),k=E[0],O=E[1];Object(r.useEffect)((function(){t&&n&&(Object(b.b)(t,n)?(w(Object(b.b)(t,n)),O(t)):(w("\u5317\u4eac"),O("\u5317\u4eac")))}),[t,n]);var j=Object(r.useMemo)((function(){return n?Object.keys(n):[]}),[n]),C=Object(r.useMemo)((function(){return y&&n?Object.keys(n[y]):[]}),[y,n]);return a.a.createElement("div",{className:"ttp-city-selector-panel",onClick:function(e){e.stopPropagation()},onKeyDown:function(e){e.stopPropagation()}},a.a.createElement("div",{className:"desc"},"\u9009\u62e9\u4f60\u6240\u5728\u7684\u5730\u533a\uff1a"),a.a.createElement("div",{className:"cascade-options"},a.a.createElement(p,{option:y,list:j,onChange:function(e){w(e),O(n?Object.keys(n[e])[0]:"")}}),a.a.createElement(p,{key:y,option:k,list:C,onChange:function(e){O(e)}})),a.a.createElement("div",{className:"actions"},a.a.createElement("button",{type:"button",className:"btn cancel",onClick:function(){Object(c.a)("location_switch_cancel",Object.assign({location1_now:Object(b.b)(t,n),location2_now:t},f)),d()}},"\u53d6\u6d88"),a.a.createElement("button",{type:"button",className:"btn ok",onClick:function(){Object(c.a)("location_switch_confirm",Object.assign({from_location1:Object(b.b)(t,n),from_location2:t,to_location1:y,to_location2:k},f)),m(y,k),i.a.set(u,k,{expires:s})}},"\u786e\u5b9a")))}},"0c7cb8e7fa7d864c06e8":function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("90cd159fadd272c59cf2"),v=n.n(b),h=n("819716bda1fd0681a754"),g=n.n(h),_=n("fbbd810ddf979da8e79a"),y=n.n(_),w=n("dfb30137603785af9d6e"),E=n.n(w),k=n("098de4f1853062b3a141"),O=n.n(k),j=(n("7c4288154d94f45c1e67"),n("7009f854fb449fc1b23d")),C=n("988714ff9eba2503d80f"),I=n("fb622297466e7a637f99"),x=n("10130cfc2ba27a09b7e5"),T=n("3aac1932c02d51e20abb"),S=n("733b0b7fc50b301159ca"),N=n("41e81a6b6b2e87160a0d"),L=n("b6051f0fa8998ea16e97");function R(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?i()(e,u()(n)):R(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}t.a=function(e){var t,n,r=e.cell,a=e.logParams,o=e.disableDislike,i=void 0!==o&&o,c=e.onDislike,u=e.onSubscribe,l=e.onLikeChange,s=e.onItemClick,f=Object(w.useContext)(j.a),d=Object(w.useState)(!1),m=y()(d,2),p=m[0],b=m[1],h=r.__channel_id===x.a.get().follow.channelId,g=null;if(56===r.cell_type){var _,k,R,P,D,M,U,V,F,H;g={subType:C.a.COMMENT,groupId:r.id_str,itemId:r.id_str,userInfo:r.__user_info,showSubscribe:!(null===(_=r.comment_base)||void 0===_||null===(k=_.user)||void 0===k||null===(R=k.relation)||void 0===R?void 0:R.is_following),commentCount:null===(P=r.comment_base)||void 0===P?void 0:P.action.comment_count,userDigg:null===(D=r.comment_base)||void 0===D?void 0:D.action.user_digg,likeCount:null===(M=r.comment_base)||void 0===M?void 0:M.action.digg_count,timestamp:null===(U=r.comment_base)||void 0===U?void 0:U.create_time,content:null===(V=r.comment_base)||void 0===V?void 0:V.content,articleUrl:r.__detail_url,coverUrls:[],filterWords:null===(F=r.filter_words)||void 0===F?void 0:F.filter_words,title:r.title,repostParams:null===(H=r.comment_base)||void 0===H?void 0:H.repost_params,commentType:r.comment_type,originGroup:r.origin_group,originThread:r.origin_thread,originUgcVideo:r.origin_ugc_video,originCommonContent:r.origin_common_content,showOrigin:r.show_origin,showTips:r.show_tips}}else{var B,W,Y,G=(r.__cover_urls||[]).length,K=Boolean(r.attach_card_info&&G>0&&G<4);g={subType:C.a.UGC,groupId:r.item_id,itemId:r.item_id,userInfo:A(A({},r.__user_info),{},{avatarUrl:null===(B=r.user)||void 0===B?void 0:B.avatar_url,isFollow:!!(null===(W=r.user)||void 0===W?void 0:W.is_following)}),showSubscribe:r.__show_subscribe,commentCount:r.comment_count,userDigg:r.user_digg,likeCount:r.digg_count,timestamp:r.publish_time,content:"".concat(r.content).concat(K?"[\u56fe\u7247]":""),articleUrl:r.__detail_url,coverUrls:K?[]:r.__cover_urls,filterWords:null===(Y=r.filter_words)||void 0===Y?void 0:Y.filter_words,title:r.title,repostParams:r.repost_params,originGroup:null,originThread:null,originUgcVideo:null,originCommonContent:null,videoCoverInfo:Object(T.b)(r),attachCardInfo:r.attach_card_info}}var z={impr_id:null===(t=r.log_pb)||void 0===t?void 0:t.impr_id,impr_type:Object(I.l)(r),group_type:Object(I.k)(g.coverUrls.length),category_name:Object(I.i)(r),enter_from:Object(I.j)(r),from_page_name:a.page_name,channel_id:r.__channel_id,section:r.__log_section||"feed",position:a.position,is_following:(null===(n=r.__user_info)||void 0===n?void 0:n.isFollow)?"1":"0",is_top_content:"0",show_rank:r.__log_show_rank},q={position:a.position,article_type:"wtt"};return E.a.createElement(N.a,{cell:r},E.a.createElement("div",{className:O()("feed-card-wrapper feed-card-wtt-wrapper",{visited:p})},E.a.createElement(L.a,{data:g,disableSubscribe:h,disableDislike:i,hideAuthInfo:h,logInfo:z,onDislike:function(e){var t;c(A(A({},r),{},{dislikeType:e})),Object(I.n)(r,A(A({},q),{},{is_following:(null===(t=r.__user_info)||void 0===t?void 0:t.isFollow)?"1":"0",dislike_type:e,content_type:"single"}))},onSubscribe:function(e){u(e,r),e?Object(I.o)(r,f):Object(I.r)(r,f)},onLikeChange:function(e){l(r,e),1===e?Object(I.p)(r,f,q):Object(I.s)(r,f,q)},onClickToDetail:function(){var e,t,n;null==s||s(),b(!0),Object(I.c)(A(A({area:r.__log_area||("all"===(null===(e=r.__channel_info)||void 0===e?void 0:e.key)?"feed":"category"),gid:r.group_id,href:r.__detail_url},a),{},{enter_from:Object(I.j)(r),category_name:Object(I.i)(r),channel_id:null===(t=r.__channel_info)||void 0===t?void 0:t.channelId,impr_id:null===(n=r.log_pb)||void 0===n?void 0:n.impr_id,is_top_content:r.is_stick?"1":"0",section:r.__log_section||("list"===a.position?"feed":"detail_feed"),group_source:r.group_source,article_type:"wtt",group_id:r.group_id,show_rank:r.__log_show_rank,group_type:Object(I.k)(g.coverUrls.length),log_pb:v()(r.log_pb),wtt_video:Object(S.a)(r),wtt_link:r.attach_card_info?"1":void 0}))},onShare:function(e){Object(I.q)(r,f,A(A({},q),{},{share_platform:e}))},onDislikeClick:function(){var e;Object(I.g)(r,{is_following:(null===(e=r.__user_info)||void 0===e?void 0:e.isFollow)?"1":"0",article_type:"wtt",position:a.position})},onShareAction:function(e){Object(I.t)(r,A(A({},q),{},{action_type:e}))},onWttSubmit:function(){Object(I.w)(r,q)}})))}},"0cf12f4e582259e8d6e3":function(e,t,n){},"0e07c12661fbe9d3d4af":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("5f2df22a04de7668a003"),i=n("387174a33cbf68342720"),c=n("098de4f1853062b3a141"),u=n.n(c),l=(n("85bedbb2b0d842c78b07"),n("be6323750fae7868d676")),s=n("6740510cbb0e5ccf88eb"),f=n("acff6c447f863638e55f"),d=n("b65c96faf0c123cf88e4"),m=n("38c58096afa111fcdfd2"),p=n("42d4f6648edde20f9953");t.a=function(e){var t,n=e.originGroup,c=e.originThread,b=e.originUgcVideo,v=e.originCommonContent,h=e.commentType,g=void 0===h?0:h,_=e.logInfo,y=e.showOrigin,w=e.onClick,E=0===y&&e.showTips,k=Object(s.a)({commentType:g,originGroup:n,originThread:c,originUgcVideo:b,originCommonContent:v}),O=Object(r.useMemo)((function(){return E?e.showTips:(null==k?void 0:k.content)?Object(i.a)(Object(l.d)(k.content||"")):""}),[null==k?void 0:k.content,E,e.showTips]),j=Object(r.useMemo)((function(){var e;if(null==k||null===(e=k.userInfo)||void 0===e?void 0:e.uid)return Object(l.q)(Object(f.c)(k.userInfo.uid),{source:(null==_?void 0:_.page_name)||""})}),[null==k||null===(t=k.userInfo)||void 0===t?void 0:t.uid,null==_?void 0:_.page_name]);if(E)return a.a.createElement("div",{className:"origin-card-wrapper origin-deleted"},O);if(!k)return null;var C=0!==k.coverUrls.length,I=function(){null==w||w(k)};return a.a.createElement("div",{className:"origin-card-wrapper"},a.a.createElement("div",{className:u()("card-l",{"with-pic":C})},k.userInfo&&a.a.createElement("div",{className:"user-info"},a.a.createElement("a",{href:j,target:"_blank",rel:"noopener nofollow",title:k.userInfo.name},a.a.createElement(o.a,{url:k.userInfo.avatarUrl}),a.a.createElement("span",{className:"name"},k.userInfo.name)),a.a.createElement(p.a,{size:13,authType:k.userInfo.authType}),a.a.createElement("span",{className:"auth-info"},k.userInfo.authInfo)),a.a.createElement("p",{className:"origin-content"},k.content?a.a.createElement(m.a,{href:k.articleUrl,target:"_blank",rel:"noopener",logInfo:_,dangerouslySetInnerHTML:{__html:O},onClick:I},null):O)),C&&a.a.createElement("div",{className:"card-r"},a.a.createElement(d.a,{cover:k.coverUrls[0],articleUrl:k.articleUrl,logInfo:_,onClickToDetail:I}),!!k.hasVideo&&!k.videoDuration&&a.a.createElement("i",null),!!k.videoDuration&&a.a.createElement("span",{className:"video-duration"},Object(l.h)(k.videoDuration))))}},"0f46dda6f1b1c5bdfea1":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return p}));n("e934f008ce014eda6535"),n("17d091243b0d38080c9b"),n("644ee2c2adee959c985f"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("714667d626fd04a26548"),n("a909ca3296d499985c89"),n("c93a3409710bc0c7e7f7"),n("96e657875a3e8636f3a2"),n("3001a3934397946b1a1f"),n("4d29b26999e97f1d28ec"),n("ae3f6b713af29937bbac"),n("eef23a05705d8b46f87b"),n("1c4b8d4085d28a8b83d7");var r=n("fa39963efae5fe5415e8"),a=n("88486649d0e05a6137d0"),o=n("5198e738d473f46c850b");function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return(e||[]).map((function(e){var t=e.text;return e.reply_to_comment&&(t="".concat(e.text,"//@").concat(e.reply_to_comment.user_name,"\uff1a").concat(e.reply_to_comment.text)),{id:e.id_str,user:{uid:e.user.user_id,secUid:e.user.sec_user_id,name:e.user.name,avatar:e.user.avatar_url,authInfo:e.user.user_auth_info&&Object(o.e)(e.user.user_auth_info),hasAuthorBadge:(e.user.author_badge||[]).some((function(e){return"\u4f5c\u8005"===e.image_des}))},time:Object(r.a)(e.create_time),text:Object(a.a)(t),userLike:!!e.user_digg,likeCount:e.digg_count||0,replyCount:0,replyList:null}}))}function l(e){return(e||[]).map((function(e){var t=e;return{id:t.id_str,user:{uid:t.user_id,secUid:t.sec_user_id,name:t.user_name,avatar:t.user_profile_image_url,authInfo:t.user_auth_info&&Object(o.e)(t.user_auth_info),hasAuthorBadge:(t.author_badge||[]).some((function(e){return"\u4f5c\u8005"===e.image_des}))},time:Object(r.a)(t.create_time),text:Object(a.a)(t.text),userLike:!!t.user_digg,likeCount:t.digg_count||0,replyCount:0,replyList:null,isHighlightReply:!0}}))}function s(e){return(e||[]).map((function(e){var t=e.comment,n=t.reply_count||0,i=t.reply_list||[],c=t.source&&t.source.group_id_str?t.source:void 0;return{id:t.id_str,user:{uid:t.user_id,secUid:t.sec_user_id,name:t.user_name,avatar:t.user_profile_image_url,authInfo:t.user_auth_info&&Object(o.e)(t.user_auth_info),hasAuthorBadge:(t.author_badge||[]).some((function(e){return"\u4f5c\u8005"===e.image_des}))},time:Object(r.a)(t.create_time),text:Object(a.a)(t.text),userLike:!!t.user_digg,likeCount:t.digg_count||0,replyCount:n,replyList:{hasMore:n>i.length,offset:0,list:i.length?l(i):[]},source:c&&{groupId:c.group_id_str,itemId:c.item_id_str,description:c.description,openUrl:c.open_url}}}))}function f(e,t){var n=new Set;return e.forEach((function(e){return n.add(e.id)})),t.filter((function(e){return!n.has(e.id)}))}function d(e,t,n){return n.map((function(n){var r;if(n.id===e){var a=(null===(r=n.replyList)||void 0===r?void 0:r.list)||[],o=f(a,t.list);return Object.assign(Object.assign({},n),{replyList:{list:a.concat(o)||[],hasMore:t.hasMore,offset:t.offset}})}return n}))}function m(e,t,n,r,a){var o=u([e])[0];return!n||a?[o].concat(t):t.map((function(e){var t,a,c,u;if(!r)return e.id===n.id?Object.assign(Object.assign({},e),{replyCount:e.replyCount+1,replyList:{list:[o].concat((null===(t=e.replyList)||void 0===t?void 0:t.list)||[]),hasMore:(null===(a=e.replyList)||void 0===a?void 0:a.hasMore)||!1,offset:(null===(c=e.replyList)||void 0===c?void 0:c.offset)||0}}):e;if(r.id===e.id&&(null===(u=e.replyList)||void 0===u?void 0:u.list)){var l=0;e.replyList.list.some((function(e,t){return e.id===n.id&&(l=t,!0)}));var s=i(e.replyList.list);return s.splice(l+1,0,o),e.replyList.list=s,e.replyCount+=1,e}return e}))}function p(e,t,n,r){return r?n.map((function(n){return n.id===r&&n.replyList&&(n.replyList.list=n.replyList.list.map((function(n){return n.id===e?Object.assign(Object.assign({},n),{userLike:t,likeCount:t?n.likeCount+1:n.likeCount-1}):n}))),n})):n.map((function(n){return n.id===e?Object.assign(Object.assign({},n),{userLike:t,likeCount:t?n.likeCount+1:n.likeCount-1}):n}))}},"0faef3a5864b370ab140":function(e,t,n){},"10130cfc2ba27a09b7e5":function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return N})),n.d(t,"g",(function(){return L})),n.d(t,"e",(function(){return R})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return P})),n.d(t,"f",(function(){return D}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("d9617e2df9811475fad3"),v=n.n(b),h=n("819716bda1fd0681a754"),g=n.n(h),_=n("90cd159fadd272c59cf2"),y=n.n(_),w=n("6bb41c796464fc214f15"),E=n.n(w),k=n("6104d0ccf35b3944ecf2"),O=n.n(k),j=n("ad3ac99ada113225a3d8"),C=n.n(j),I=n("be6323750fae7868d676");function x(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?i()(e,u()(n)):x(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var S=new(function(){function e(t){E()(this,e),this.channelMap=void 0,this.channelMap=JSON.parse(y()(t))}return O()(e,[{key:"addChannel",value:function(e,t){return this.channelMap[e]=t,this.channelMap}},{key:"updateChannel",value:function(e,t){return this.channelMap[e]=T(T({},this.channelMap[e]),t),this.channelMap}},{key:"get",value:function(){return this.channelMap}}]),e}())({follow:{key:"follow",category:"news_follow",channelId:60021127260,name:"\u5173\u6ce8"},all:{key:"all",category:"__all__",channelId:0,name:"\u63a8\u8350"},hot:{key:"hot",category:"news_hot",channelId:3189398996,name:"\u70ed\u70b9"},xigua:{key:"xigua",category:"xigua",channelId:-1,name:"\u89c6\u9891",url:"https://www.ixigua.com/"},video:{key:"video",category:"video",channelId:3431225546,name:"\u89c6\u9891"},local:{key:"local",category:"news_local",channelId:3202164529,name:"\u5317\u4eac"},finance:{key:"finance",category:"news_finance",channelId:3189399007,name:"\u8d22\u7ecf"},tech:{key:"tech",category:"news_tech",channelId:3189398999,name:"\u79d1\u6280"},entertainment:{key:"entertainment",category:"news_entertainment",channelId:3189398972,name:"\u5a31\u4e50"},sports:{key:"sports",category:"news_sports",channelId:3189398957,name:"\u4f53\u80b2"},wenda:{key:"wenda",category:"question_and_answer",channelId:6761210920,name:"\u95ee\u7b54"},dcd:{key:"dcd",category:"dcd",channelId:-1,name:"\u61c2\u8f66\u5e1d",url:"https://www.dongchedi.com/?zt=tt_pc_home_channel"},live:{key:"live",category:"live",channelId:94349530259,name:"\u76f4\u64ad",url:"https://live.ixigua.com"},world:{key:"world",category:"news_world",channelId:3189398968,name:"\u56fd\u9645"},digital:{key:"digital",category:"digital",channelId:3189398981,name:"\u6570\u7801"},military:{key:"military",category:"news_military",channelId:3189398960,name:"\u519b\u4e8b"},game:{key:"game",category:"news_game",channelId:3189398995,name:"\u6e38\u620f"},history:{key:"history",category:"news_history",channelId:3189398965,name:"\u5386\u53f2"},food:{key:"food",category:"news_food",channelId:3189399002,name:"\u7f8e\u98df"},essay:{key:"essay",category:"news_essay",channelId:3189399001,name:"\u7f8e\u6587"},regimen:{key:"regimen",category:"news_regimen",channelId:3189398959,name:"\u517b\u751f"},travel:{key:"travel",category:"news_travel",channelId:3189398983,name:"\u65c5\u6e38"},discovery:{key:"discovery",category:"news_discovery",channelId:3189398978,name:"\u63a2\u7d22"},fashion:{key:"fashion",category:"news_fashion",channelId:3189398984,name:"\u65f6\u5c1a"},baby:{key:"baby",category:"news_baby",channelId:3189399004,name:"\u80b2\u513f"}});function N(e){return v()(S.get()).filter((function(t){return t.channelId===e}))[0]}function L(e,t){var n=e;if(t&&n.more.some((function(e){return e===t})))return{default:n.default.map((function(e,r){return r===n.default.length-1?t:e})),more:n.more.map((function(e){return e===t?n.default[n.default.length-1]:e}))};return n}function R(e,t,n){var r=S.get(),a=L(e,n);return t&&(r=S.updateChannel(r.local.key,{name:t.name,channelId:t.channelId})),{default:a.default.map((function(e,t){return T(T({},r[e]),{},{rank:t+1,inMore:0})})),more:a.more.map((function(e,t){return T(T({},r[e]),{},{rank:t+1,inMore:1})}))}}function A(e,t,n){var r,a=R(L({default:t.default.map((function(e){return e.key})),more:t.more.map((function(e){return e.key}))},e),n);return r=e,C.a.set("__feed_out_channel_key",r,{expires:365}),a}function P(){var e=S.get();return e[Object(I.m)().channel||e.all.key]||e.all}function D(e,t){var n=e.default.map((function(e){return e.key})).indexOf(t)+1,r=e.more.map((function(e){return e.key})).indexOf(t)+1;return n||r||0}},"102c68ff4eb277341743":function(e,t,n){"use strict";function r(e,t){window.collectEvent&&window.collectEvent(e,t||{})}n.d(t,"a",(function(){return r}))},"1114286b3a839994fd62":function(e,t,n){"use strict";n.d(t,"e",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return R}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("dfb30137603785af9d6e"),g=n.n(h),_=n("098de4f1853062b3a141"),y=n.n(_),w=n("a7cb42378ff2e016201f"),E=n("be6323750fae7868d676"),k=n("6cf195ddfada1b0033e1"),O=n("6f7c19fbb5122ede4b67"),j=n("c0c721f9f12a8d2dd2bc"),C=n("82028901f8980c14ba42");function I(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):I(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function T(){window.sessionStorage.setItem("__enter_from_follow_channel","1")}function S(){return!!window.sessionStorage.getItem("__enter_from_follow_channel")&&"follow"===Object(E.m)("from_scene")}var N=["all","video","short_video"];function L(){var e=Object(E.m)("from_scene");return N.includes(e)}function R(){return"hotboard"===Object(E.m)("from_scene")}t.a=function(e){var t=e.showFollow,n=e.showWorks,r=e.tabs,a=e.activeTabKey,o=e.logParams,i=e.onTabChange,c=Object(h.useRef)(!1);function u(e){var t=Object(w.a)();Object(k.a)("content_section_show",x(x({},o),{},{category_name:(null==t?void 0:t.category_name)||"",enter_from:(null==t?void 0:t.enter_from)||"",list_entrance:(null==t?void 0:t.category_name)||"",section:e}))}return Object(j.a)((function(){!(S()||L())&&u("video_detail_related")})),Object(O.a)((function(){a!==C.c.RECOMMEND.key||c.current||(c.current=!0,u("video_detail_related"))}),[a]),Object(O.a)((function(){t?u("video_detail_follow"):n&&u("video_detail_profile")}),[t,n]),g.a.createElement("div",{className:y()("video-detail-tabs",{more:r.length>1})},g.a.createElement("ul",null,r.map((function(e){return g.a.createElement("li",{className:y()({active:e.key===a}),tabIndex:0,role:"tab","aria-label":e.name,key:e.key,onClick:function(){return i(e.key)}},g.a.createElement("h2",null,e.name))}))))}},"131d74e95e8c5fcb4771":function(e,t,n){e.exports=n.p+"svgs/wenda_icon.0d6d1616.svg"},"1364f485450c5b33f8c4":function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("dfb30137603785af9d6e"),g=n.n(h),_=n("6ebe1403b6a5cafdbcbe"),y=n.n(_);function w(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):w(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}t.a=function(e){var t=e.disable,n=void 0!==t&&t,r=e.position,a=e.placeholderWidth,o=void 0===a?0:a,i=e.placeholderHeight,c=void 0===i?0:i,u=e.children,l=Object(h.useRef)(!1),s=Object(h.useRef)(null),f=Object(h.useCallback)((function(){if(!n){var e=window.scrollX;l.current=!0,y()((function(){s.current&&(s.current.style.transform="translateX(-".concat(e,"px)")),l.current=!1}))}}),[n]);return Object(h.useEffect)((function(){return window.addEventListener("scroll",f),f(),function(){window.removeEventListener("scroll",f)}}),[f]),Object(h.useEffect)((function(){s.current&&(s.current.style.transform=n?"none":"translateX(-".concat(window.scrollX,"px)"))}),[n]),g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{style:{display:n?"none":"block",width:o,height:c}}),g.a.createElement("div",{style:E({position:n?"static":"fixed"},r),ref:s},u))}},"13e917642399ec04710a":function(e,t,n){"use strict";n("281981c6b99b2a82c28b"),n("3001a3934397946b1a1f"),n("21460410443b5c09d963"),n("714667d626fd04a26548");var r=n("3b6da333073325e45942"),a=n.n(r),o=n("ad3ac99ada113225a3d8"),i=n.n(o),c=["/tt-anti-token","/video/urls/v/1/toutiao/mp4/"],u=["/hot-event/hot-board/","/api/pc/user/follow","/browser/2/"];function l(e,t){var n,r,a="".concat(location.protocol,"//").concat(location.host);(function(e){return!u.some((function(t){return e.indexOf(t)>-1}))})(e)&&(a+="/toutiao");var o={url:a+e};return t.data&&(o.body=t.data),(null===(r=null===(n=window.byted_acrawler)||void 0===n?void 0:n.sign)||void 0===r?void 0:r.call(n,o))||""}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.show=!1,this.success=!1,this.waitVerify=null}var t,n,r;return t=e,(n=[{key:"verify",value:function(e){var t=this;return this.waitVerify=new Promise((function(n){var r;t.show=!0,r={verifyData:e,successCb:function(){t.show=!1,t.success=!0,n()},closeCb:function(){t.show=!1,t.success=!1,n()}},window.TTGCaptcha?window.TTGCaptcha.render({verify_data:r.verifyData,captchaOptions:{app_name:"toutiao_web",showMode:"mask",successCb:function(e){var t;null===(t=r.successCb)||void 0===t||t.call(r,e)},errorCb:function(e){var t;null===(t=r.errorCb)||void 0===t||t.call(r,e)},closeCb:function(){var e;null===(e=r.closeCb)||void 0===e||e.call(r)}}}):console.error("No captcha.js")})),this.waitVerify}},{key:"waitVerifyFinish",value:function(){var e=this;return new Promise((function(t){e.waitVerify?e.waitVerify.then((function(){t()})):t()}))}}])&&s(t.prototype,n),r&&s(t,r),e}()),d=n("90b824f4de3f20fa2f01");function m(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}var p=a.a.create({timeout:1e4});p.interceptors.request.use((function(e){return e})),p.interceptors.request.use((function(e){return"post"===e.method&&(e.headers=Object.assign(Object.assign({},e.headers),{"X-CSRFToken":i.a.get("csrftoken"),"tt-anti-token":i.a.get("tt_anti_token")})),e})),p.interceptors.request.use((function(e){var t;if(!function(e){return!e||!c.some((function(t){return e.indexOf(t)>-1}))}(e.url))return e;(null===(t=e.params)||void 0===t?void 0:t._signature)&&delete e.params._signature;var n=l(p.getUri(e),e);return e.params=Object.assign(Object.assign({},e.params),{_signature:n}),e})),p.interceptors.response.use(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.decision)){e.next=19;break}if(f.show){e.next=13;break}return Object(d.a)("show-captcha",{type:"api"}),e.next=6,f.verify(r);case 6:if(!f.success){e.next=11;break}return Object(d.a)("pass-captcha",{type:"api"}),e.next=10,p.request(t.config);case 10:return e.abrupt("return",e.sent);case 11:e.next=19;break;case 13:return e.next=15,f.waitVerifyFinish();case 15:if(!f.success){e.next=19;break}return e.next=18,p.request(t.config);case 18:return e.abrupt("return",e.sent);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,c,"next",e)}function c(e){m(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());t.a=p},"1587a98d5918598bbe02":function(e,t,n){"use strict";var r=n("fbbd810ddf979da8e79a"),a=n.n(r),o=n("dfb30137603785af9d6e"),i=n.n(o),c=n("fae1a6313b4ef00cf618"),u=(n("e7201fa908046c02f513"),n("1364f485450c5b33f8c4"));t.a=function(e){var t=e.fixed,n=e.logParams,r=Object(o.useRef)(null),l=Object(o.useState)(611),s=a()(l,2),f=s[0],d=s[1];return i.a.createElement("div",{role:"complementary","aria-label":"\u5934\u6761\u70ed\u699c",className:"detail-hotboard"},i.a.createElement(u.a,{disable:!t,placeholderWidth:318,placeholderHeight:f,position:{top:88,zIndex:100}},i.a.createElement(c.a,{ref:r,logParams:n,onSuccess:function(){setTimeout((function(){var e,t,n=null===(e=r.current)||void 0===e||null===(t=e.dom)||void 0===t?void 0:t.clientHeight;n&&d(n)}))}})))}},"160a8425c578120b2627":function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"p",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return N})),n.d(t,"a",(function(){return L})),n.d(t,"n",(function(){return R})),n.d(t,"m",(function(){return A})),n.d(t,"k",(function(){return P})),n.d(t,"i",(function(){return D})),n.d(t,"l",(function(){return M})),n.d(t,"o",(function(){return U})),n.d(t,"j",(function(){return V})),n.d(t,"h",(function(){return F}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("6cf195ddfada1b0033e1"),g=n("544a2fe35893607768ff");function _(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):_(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var w={};function E(e){w=y(y({},w),e)}var k,O="video_play";function j(e){O=e}function C(e){k=e}var I={auto_play_status:Object(g.c)(g.a.AUTO_NEXT,!0)?"on":"off",is_auto_draw:0,fullscreen:0,draw_action:void 0};function x(e){I=y(y({},I),e)}function T(){return y({},I)}var S=!1;function N(e){S=e}function L(){return S}function R(e){Object(h.a)(O,y(y({action_type:k},w),e))}function A(e){Object(h.a)("video_play"===O?"video_over":"video_over_draw",y(y({action_type:k},w),e))}function P(e){Object(h.a)(e?"video_pause":"video_continue",w)}function D(e){Object(h.a)("clarity_switch",y(y({},w),e))}function M(e){Object(h.a)("adjust_playspeed",y(y({},w),e))}function U(e){Object(h.a)("adjust_volume",y(y({},w),e))}function V(e,t){Object(h.a)(e?"enter_fullscreen":"exit_fullscreen",y(y({},w),{},{stay_time:t}))}function F(e){Object(h.a)("auto_play_click",y(y({},w),{},{action_type:e?"on":"off"}))}},"167789bd516d2baf7295":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("89471ab1c35abdfb0e65"),a=n.n(r),o="undefined"!=typeof window,i=(o&&/macintosh|mac os x/.test(window.navigator.userAgent.toLowerCase()),o&&(/localhost/.test(location.origin)||/dev.eden.net/.test(location.origin))),c=function(){if(!o)return!1;var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>-1)return!!a()(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>-1){var n=e.indexOf("rv:");return!!a()(e.substring(n+3,e.indexOf(".",n)),10)}return!1};o&&/boe-gateway.byted.org/.test(location.host);function u(){if(!o)return!1;var e=window.navigator.userAgent;return!!/Dalvik/.test(e)||/mobile/i.test(e)}var l=o&&(/iPad/.test(window.navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)},"1745119f90252e18f73c":function(e,t,n){},"19e1e56018f7274819f9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAMAAACPHmKLAAAAM1BMVEVHcEzxQEHwQEHwQUHvQEDwQUHwQELvQEDwQUHvQEDwQEHwQEHvQEDwQELwQEHwQELwQULQdpGMAAAAEHRSTlMAn2DvEL+AIN86kFAhcM+vUcBIKwAAAVJJREFUSMfVVduChCAIVVTwsmn//7W76kybilbzNrwFnLgfhfgi0UQPnMFHtf+JMj7oa3+Xivch0q39yeyDpFV+284KTgt4BzBbICLn8FDwYcgWq8JTtYRVaTmIrjbfdYd8hTBNKxkopjOu/MoMepwGFz8FsvVFsACQMplo64Q6o8y6PiVoZzmG8H06coGQbBFNjNasJ5MF6REBgnP9KgemsrV4tuErMat1e2do46mXueHh4s7yRvx/csPoB599dDMNuoGgzxHiBsI1WQnbfE0Rp8pdtHDR3HwN8fHI5BNAKbwbWSaPAIDoJUx4STNE8hJgD1cOuzg7njcLuMW5ATeM1FVR2dxGk+RQRyUT4kpbsQ/yDGcfMNzBol0Y7efE+2qwxZNRo5oDzq8BZvKgsB0KvVo3RrbVqyZHf3NxOR1GJXfjdQ7e1HlGD/r+ehNp8U3yC/YPH/jMrgU4AAAAAElFTkSuQmCC"},"1b69c40e39893f89b5f5":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={all:{key:"all",category:"profile_all",show_name:"\u5168\u90e8",log_name:"all"},article:{key:"article",category:"pc_profile_article",show_name:"\u6587\u7ae0",log_name:"article"},video:{key:"video",category:"pc_profile_video",show_name:"\u89c6\u9891",log_name:"video"},wenda:{key:"wenda",category:"profile_wenda",show_name:"\u95ee\u7b54",log_name:"qa"},wtt:{key:"wtt",category:"pc_profile_ugc",show_name:"\u5fae\u5934\u6761",log_name:"wtt"},collection:{key:"collection",category:"profile_collection",show_name:"\u5408\u96c6",log_name:"collection"},short_video:{key:"short_video",category:"pc_profile_short_video",show_name:"\u5c0f\u89c6\u9891",log_name:"shortvideo"},fav:{key:"fav",category:"my_favorites",show_name:"\u6536\u85cf",log_name:"favorite"},search:{key:"search",category:"",show_name:"",log_name:"search"}}},"1b6e0af22b27be14137b":function(e,t,n){},"1d4bf58ebc5c26c7536d":function(e,t,n){},"1d7fcef557f69e9ba680":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return k}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("acff6c447f863638e55f"),g=n("be6323750fae7868d676");function _(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):_(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function w(e){var t,n;return e.label?e.label:(null===(t=e.video_detail_info)||void 0===t?void 0:t.video_watch_count)>=1e7?"\u5343\u4e07\u64ad\u653e":e.comment_count>=1e4?"".concat(Object(g.j)(e.comment_count,!1,!1),"\u8bc4\u8bba"):e.share_count>=1e4?"".concat(Object(g.j)(e.share_count,!1,!1),"\u5206\u4eab"):e.digg_count>=1e4?"".concat(Object(g.j)(e.digg_count,!1,!1),"\u70b9\u8d5e"):(null===(n=e.video_detail_info)||void 0===n?void 0:n.video_watch_count)>=1e6?"\u767e\u4e07\u64ad\u653e":""}function E(e){return e.filter((function(e){return 211===e.cell_type})).map((function(e){var t,n,r,a,o;return{behotTime:e.behot_time,itemId:e.item_id,groupId:e.group_id,gid:e.gid,groupSource:e.group_source,title:e.title,rank:Number(e.rank)+1,imgUrl:(null===(t=e.middle_image)||void 0===t?void 0:t.url)||(null===(n=e.video_detail_info)||void 0===n||null===(r=n.detail_video_large_image)||void 0===r?void 0:r.url),sourceUrl:Object(h.b)(h.a.SELF_VIDEO,e.group_id),duration:Object(g.h)(e.video_duration),name:e.media_name||e.source,profileUrl:"/c/user/token/".concat(null===(a=e.user_info)||void 0===a?void 0:a.sec_user_id,"/"),watchCount:Object(g.j)(null===(o=e.video_detail_info)||void 0===o?void 0:o.video_watch_count,!1,!1),tag:w(e),userInfo:e.user_info,logInfo:y(y({},e.log_pb),{},{item_id:e.item_id,show_rank:Number(e.rank)+1,section:"hot_video"})}}))}function k(e,t){return y(y({},e.logInfo),{},{category_name:t.category_name,enter_from:t.enter_from})}},"1dc3f3067b61c6f29ae2":function(e,t,n){},"1e57c421e41f48e4643f":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var r=n("92c8006d8139d763c605"),a=n.n(r),o=n("ee10aab64b9ea632f5ab"),i=n.n(o),c=n("ad3ac99ada113225a3d8"),u=n.n(c),l=n("663529bce6ee6d8996f5"),s=n("167789bd516d2baf7295"),f=n("4e16ef1abe038022cfb8"),d=n("be6323750fae7868d676");function m(){return p.apply(this,arguments)}function p(){return(p=i()(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.a){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l.a.tcc.getTccConfig();case 5:if(200===(null==(r=e.sent)?void 0:r.status)){e.next=8;break}throw new Error("request fail");case 8:t=Object(d.s)((null===(n=r.data.data)||void 0===n?void 0:n.wza_sdk)||{}).version,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),Object(f.b)("fetch_wza_tcc_error");case 14:t||(t="4.5.4"),(o=document.createElement("script")).src="//lf3-cdn-tos.bytescm.com/goofy/toutiao/toutiao_web_pc/wza/".concat(t,"/aria.js?appid=df8e29823e2f4c0822e3693ee653bfc5&__v=4"),document.body.appendChild(o);case 18:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function b(){var e;return!!s.a&&"true"===(null===(e=u.a.get("ariaStatus"))||void 0===e?void 0:e.toString())}},"1e93314aaf7aabdbfbff":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r);n("641fd1e48a712db13213");t.a=function(){return a.a.createElement("div",{className:"multi-item-error"},a.a.createElement("i",null),a.a.createElement("span",null,"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25"))}},"1ec3e8ffbef3bc77ca37":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b);function h(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):h(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function _(e){return(e||"").replace(/^http[s]?:/,"")}function y(e){var t={url_expire:e.url_expire};return e.video_list&&(t.video_list=e.video_list.map((function(t){return g(g(g(g({},t),t.video_meta),t.check_info),{},{url_expire:e.url_expire,main_url:_(t.main_url),backup_url:_(t.backup_url),backup_url_1:_(t.backup_url)})}))),e.dynamic_video&&(t.dynamic_video=g(g({},e.dynamic_video),{},{dynamic_video_list:[],dynamic_audio_list:[]}),t.dynamic_video.dynamic_video_list=(e.dynamic_video.dynamic_video_list||[]).map((function(e){return g(g(g(g(g({},e),e.base_range_info),e.check_info),e.video_meta),{},{main_url:_(e.main_url),backup_url:_(e.backup_url),backup_url_1:_(e.backup_url)})})),t.dynamic_video.dynamic_audio_list=(e.dynamic_video.dynamic_audio_list||[]).map((function(e){return g(g(g(g(g({},e),e.audio_meta),e.base_range_info),e.check_info),{},{main_url:_(e.main_url),backup_url:_(e.backup_url),backup_url_1:_(e.backup_url)})}))),t}},"2009d6865bc4e742072f":function(e,t,n){},"21ba294a771470c868d7":function(e,t,n){},"229a5ee8951efd08f85c":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("fbbd810ddf979da8e79a"),g=n.n(h),_=n("dfb30137603785af9d6e"),y=n("08172d9560ad9ddbd809"),w=n("6cf195ddfada1b0033e1"),E=n("617300dd2ee3a73fcfd5");function k(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):k(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function j(e){var t=Object(_.useRef)(null),n=Object(_.useState)(!1),r=g()(n,2),a=r[0],o=r[1];function i(e){e.preventDefault(),t.current=e,o(!0)}function c(){o(!1)}return Object(_.useEffect)((function(){return Object(y.a)()&&!Object(y.c)()&&(window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",c)),function(){window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",c)}}),[]),{PWAInstallable:a,addToDesktop:function(){if(t.current){var n=O({show_rank:Object(E.b)()},e.logParams);Object(w.a)("pwa_add_click",n),t.current.prompt(),t.current.userChoice.then((function(e){"accepted"===e.outcome?(Object(w.a)("pwa_add_confirm",n),Object(w.a)("pwa_add_result",O(O({},n),{},{result:"success"})),c()):Object(w.a)("pwa_add_cancel",n),t.current=null}))}}}}},"2422758950d9f66b7423":function(e,t,n){"use strict";n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return _})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return k})),n.d(t,"c",(function(){return E}));var r,a=n("b3d627bf45117b33693e"),o=n.n(a),i=n("305576e46300a8ac2ace"),c=n.n(i),u=n("131d74e95e8c5fcb4771"),l=n.n(u),s=n("54d78c4ccd85f964eb38"),f=n.n(s),d=24,m="toutiao_web",p={0:"https://lf3-static.bytednsdoc.com/obj/eden-cn/pipieh7nupabozups/toutiao_web_pc/auth_0.png",1:"https://lf3-static.bytednsdoc.com/obj/eden-cn/pipieh7nupabozups/toutiao_web_pc/auth_1.gif",2:"https://lf3-static.bytednsdoc.com/obj/eden-cn/pipieh7nupabozups/toutiao_web_pc/auth_2.png"},b={article:"article",ugc:"ugc",comment:"comment",gallery:"gallery"},v={article:"tuwen_detail",gallery:"tuwen_detail",ugc:"weitoutiao_detail",comment:"weitoutiao_detail",trendingTopic:"amos_land_page",wenda:"wenda_detail",error:"error_page",debug:"debug_page"},h={article:"text",gallery:"text",ugc:"wtt",comment:"wtt",video:"video",short_video:"shortvideo"},g={DEFAULT:200,ARTICLE:206,WTT:201,WENDA_QUESTION:202,WENDA_ANSWER:203,VIDEO:207,SHORT_VIDEO:208},_=[{icon:o.a,text:"\u5199\u6587\u7ae0",url:"https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc",position:"text"},{icon:c.a,text:"\u53d1\u5fae\u5934\u6761",url:"https://mp.toutiao.com/profile_v4/weitoutiao/publish?from=toutiao_pc",position:"wtt"},{icon:l.a,text:"\u5199\u56de\u7b54",url:"https://mp.toutiao.com/profile_v4/wenda/home/recommended?from=toutiao_pc",position:"qa"},{icon:f.a,text:"\u53d1\u89c6\u9891",url:"https://mp.toutiao.com/profile_v4/xigua/upload-video?from=toutiao_pc",position:"video"}],y={USER:"0",MEDIA:"1",WEMEDIA:"2",GOV:"3",ADVERTISER:"4",ENTERPRISE:"5",ORGANIZATION:"6",NEWS_MEDIA:"7",CO_MEDIA:"8"},w={ARTICLE:22,WTT:2,COMMENT:1,WENDA_QUESTION:1026,WENDA_ANSWER:1025,VIDEO:23,SHORT_VIDEO:6};!function(e){e.UNKNOWN="unknown",e.VIDEO="video",e.SHORT_VIDEO="short_video"}(r||(r={}));var E,k="40132";!function(e){e[e.ARTICLE_RELATED=88805669586]="ARTICLE_RELATED"}(E||(E={}))},"2560966d267a85e8aabc":function(e,t,n){},"283705023d97b64a3c68":function(e,t,n){},"2851b3b5ef18f4eb994b":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return T}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b);function h(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):h(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var _="1",y="2",w="3",E="4",k="5",O="6",j="21",C={UN_INTEREST:"no_interest",REPORT_TITLE:"report_title",REPORT_REPEAT:"report_repeat",REPORT_COVER:"report_cover",REPORT_QUALITY:"report_quality",BLOCK:"block",SHIELD:"shield"},I=[{id:"316",name:"\u6807\u9898\u5938\u5f20",dislikeType:C.REPORT_TITLE},{id:"303",name:"\u65e7\u95fb\u91cd\u590d",dislikeType:C.REPORT_REPEAT},{id:"317",name:"\u5c01\u9762\u53cd\u611f",dislikeType:C.REPORT_COVER},{id:"318",name:"\u5185\u5bb9\u8d28\u91cf\u5dee",dislikeType:C.REPORT_QUALITY}];function x(e){var t={dislikeType:C.UN_INTEREST},n=null,r=[];return null==e||e.forEach((function(e){var t;switch(null===(t=e.id.match(/(\S*):/))||void 0===t?void 0:t[1]){case k:n=g(g({},e),{},{name:e.name.replace("\u62c9\u9ed1\u4f5c\u8005:",""),dislikeType:C.BLOCK});break;case _:case y:case w:case E:case O:case j:var a=e.name.replace("\u4e0d\u60f3\u770b:","");r.push(g(g({},e),{},{name:a,dislikeType:"".concat(C.SHIELD,"_").concat(a)}))}})),{unInterestData:t,blockData:n,shieldData:r}}function T(e){return Array.prototype.slice.call((null==e?void 0:e.childNodes)||[]).map((function(e){var t=e.childNodes[0];return(null==t?void 0:t.className.indexOf("dislike-type-wrapper"))>-1?t.childNodes[0]:t})).filter(Boolean)}},"2cfd2ca28fcaddaf4ef6":function(e,t,n){},"2e529a008290043dc1c5":function(e,t,n){},"2e5f6a6d4be69858132d":function(e,t,n){},"2fb346eb9d0bf63cb593":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=(n("bd59e351304c36b262a0"),n("be6323750fae7868d676"));t.a=function(e){var t=e.children,n=e.inViewHandler,i=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=!0,t=Object(o.t)((function(){e&&Object(o.p)(i.current)&&(e=!1,n(),window.removeEventListener("scroll",t))}),200);return t(),window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[]),a.a.createElement("div",{ref:i,className:"show-monitor"},t)}},3:function(e,t,n){e.exports=n("989728adca5bca9dc30e")},"302c2db6d5e6ba63abcd":function(e,t,n){},"302e7cd491a3c75c7a06":function(e,t,n){},"305576e46300a8ac2ace":function(e,t,n){e.exports=n.p+"svgs/wtt_icon.0c5bb1de.svg"},"33ce4b117c0cfe3ebce8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));function r(e,t){return!!e&&(new Date).setHours(0,0,0,0)+864e5*t===new Date(e).setHours(0,0,0,0)}function a(e){return r(e,0)}function o(e){return r(e,1)}},"36091a6286193bdd62ec":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n("90cd159fadd272c59cf2"),a=n.n(r),o=n("819716bda1fd0681a754"),i=n.n(o),c=n("a8b0120a79b3dcde8d12"),u=n.n(c),l=n("be6323750fae7868d676"),s=n("167789bd516d2baf7295");function f(e,t){if(!t)return e;var n="".concat(Math.random().toString(16).substr(2),"_").concat(u()()),r=Object(l.q)(e,i()({},"log_from",n));return window.sessionStorage.setItem(n,a()(t)),r}function d(){if(!s.a)return null;var e=Object(l.m)("log_from"),t=window.sessionStorage.getItem(e);return t?Object(l.s)(t):null}},"3657bcf9a4e890c0525b":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=!1;function a(e){r=e}function o(){return r}},"387174a33cbf68342720":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("2424222fdd55b7282442"),n("d8cf9a74ccea045dcbf3");var r={"[\u5fae\u7b11]":{index:1,name:"[\u5fae\u7b11]",image:"emoji_1_smile@3x.png",key:"emoji_1_smile@3x.png",width:96,height:96},"[\u7231\u6155]":{index:2,name:"[\u7231\u6155]",image:"emoji_2_kiss@3x.png",key:"emoji_2_kiss@3x.png",width:96,height:96},"[\u60ca\u5446]":{index:3,name:"[\u60ca\u5446]",image:"emoji_3_daze@3x.png",key:"emoji_3_daze@3x.png",width:96,height:96},"[\u9177\u62fd]":{index:4,name:"[\u9177\u62fd]",image:"emoji_4_cool@3x.png",key:"emoji_4_cool@3x.png",width:96,height:96},"[\u62a0\u9f3b]":{index:5,name:"[\u62a0\u9f3b]",image:"emoji_5_pick_nose@3x.png",key:"emoji_5_pick_nose@3x.png",width:96,height:96},"[\u6d41\u6cea]":{index:6,name:"[\u6d41\u6cea]",image:"emoji_6_cry@3x.png",key:"emoji_6_cry@3x.png",width:96,height:96},"[\u53d1\u6012]":{index:7,name:"[\u53d1\u6012]",image:"emoji_7_anger@3x.png",key:"emoji_7_anger@3x.png",width:96,height:96},"[\u5472\u7259]":{index:8,name:"[\u5472\u7259]",image:"emoji_8_laugh@3x.png",key:"emoji_8_laugh@3x.png",width:96,height:96},"[\u9f3e\u7761]":{index:9,name:"[\u9f3e\u7761]",image:"emoji_9_sleep@3x.png",key:"emoji_9_sleep@3x.png",width:96,height:96},"[\u5bb3\u7f9e]":{index:10,name:"[\u5bb3\u7f9e]",image:"emoji_10_shy@3x.png",key:"emoji_10_shy@3x.png",width:96,height:96},"[\u53ef\u7231]":{index:11,name:"[\u53ef\u7231]",image:"emoji_11_naughty@3x.png",key:"emoji_11_naughty@3x.png",width:102,height:96},"[\u6655]":{index:12,name:"[\u6655]",image:"emoji_12_dizzy@3x.png",key:"emoji_12_dizzy@3x.png",width:96,height:96},"[\u8870]":{index:13,name:"[\u8870]",image:"emoji_13_stunned@3x.png",key:"emoji_13_stunned@3x.png",width:96,height:96},"[\u95ed\u5634]":{index:14,name:"[\u95ed\u5634]",image:"emoji_14_shut_up@3x.png",key:"emoji_14_shut_up@3x.png",width:96,height:96},"[\u673a\u667a]":{index:15,name:"[\u673a\u667a]",image:"emoji_15_wit@3x.png",key:"emoji_15_wit@3x.png",width:96,height:96},"[\u7075\u5149\u4e00\u95ea]":{index:17,name:"[\u7075\u5149\u4e00\u95ea]",image:"emoji_17_hand_sample@3x.png",key:"emoji_17_hand_sample@3x.png",width:102,height:96},"[\u8036]":{index:18,name:"[\u8036]",image:"emoji_18_ye@3x.png",key:"emoji_18_ye@3x.png",width:99,height:96},"[\u6342\u8138]":{index:19,name:"[\u6342\u8138]",image:"emoji_19_distress_situation@3x.png",key:"emoji_19_distress_situation@3x.png",width:96,height:96},"[\u6253\u8138]":{index:20,name:"[\u6253\u8138]",image:"emoji_20_play_face@3x.png",key:"emoji_20_play_face@3x.png",width:102,height:96},"[\u5927\u7b11]":{index:21,name:"[\u5927\u7b11]",image:"emoji_21_smile@3x.png",key:"emoji_21_smile@3x.png",width:96,height:96},"[\u54c8\u6b20]":{index:22,name:"[\u54c8\u6b20]",image:"emoji_22_yawn@3x.png",key:"emoji_22_yawn@3x.png",width:96,height:96},"[\u9707\u60ca]":{index:23,name:"[\u9707\u60ca]",image:"emoji_23_surprise@3x.png",key:"emoji_23_surprise@3x.png",width:96,height:96},"[\u9001\u5fc3]":{index:24,name:"[\u9001\u5fc3]",image:"emoji_24_take_heart@3x.png",key:"emoji_24_take_heart@3x.png",width:96,height:96},"[\u56f0]":{index:25,name:"[\u56f0]",image:"emoji_25_sleepy@3x.png",key:"emoji_25_sleepy@3x.png",width:96,height:96},"[what]":{index:26,name:"[what]",image:"emoji_26_what@3x.png",key:"emoji_26_what@3x.png",width:105,height:96},"[\u6ce3\u4e0d\u6210\u58f0]":{index:27,name:"[\u6ce3\u4e0d\u6210\u58f0]",image:"emoji_27_sobbing@3x.png",key:"emoji_27_sobbing@3x.png",width:96,height:96},"[\u5c0f\u9f13\u638c]":{index:28,name:"[\u5c0f\u9f13\u638c]",image:"emoji_28_handclap@3x.png",key:"emoji_28_handclap@3x.png",width:96,height:96},"[\u9177]":{index:29,name:"[\u9177]",image:"emoji_29_cool@3x.png",key:"emoji_29_cool@3x.png",width:96,height:96},"[\u5927\u91d1\u7259]":{index:29,name:"[\u5927\u91d1\u7259]",image:"emoji_29_cool@3x.png",key:"emoji_29_cool@3x.png",width:96,height:96},"[\u5077\u7b11]":{index:30,name:"[\u5077\u7b11]",image:"emoji_30_titter@3x.png",key:"emoji_30_titter@3x.png",width:96,height:96},"[\u77f3\u5316]":{index:31,name:"[\u77f3\u5316]",image:"emoji_31_lightning_strike@3x.png",key:"emoji_31_lightning_strike@3x.png",width:96,height:96},"[\u601d\u8003]":{index:32,name:"[\u601d\u8003]",image:"emoji_32_meditation@3x.png",key:"emoji_32_meditation@3x.png",width:96,height:96},"[\u5410\u8840]":{index:33,name:"[\u5410\u8840]",image:"emoji_33_vomiting_blood@3x.png",key:"emoji_33_vomiting_blood@3x.png",width:96,height:96},"[\u53ef\u601c]":{index:34,name:"[\u53ef\u601c]",image:"emoji_34_acting_cute@3x.png",key:"emoji_34_acting_cute@3x.png",width:96,height:96},"[\u5618]":{index:35,name:"[\u5618]",image:"emoji_35_quietly@3x.png",key:"emoji_35_quietly@3x.png",width:96,height:96},"[\u6487\u5634]":{index:36,name:"[\u6487\u5634]",image:"emoji_36_hum@3x.png",key:"emoji_36_hum@3x.png",width:96,height:96},"[\u9ed1\u7ebf]":{index:37,name:"[\u9ed1\u7ebf]",image:"emoji_37_khan@3x.png",key:"emoji_37_khan@3x.png",width:96,height:96},"[\u7b11\u54ed]":{index:38,name:"[\u7b11\u54ed]",image:"emoji_38_forced_smile@3x.png",key:"emoji_38_forced_smile@3x.png",width:111,height:96},"[\u96fe\u973e]":{index:39,name:"[\u96fe\u973e]",image:"emoji_39_haze@3x.png",key:"emoji_39_haze@3x.png",width:96,height:96},"[\u5978\u7b11]":{index:40,name:"[\u5978\u7b11]",image:"emoji_40_smirk@3x.png",key:"emoji_40_smirk@3x.png",width:96,height:96},"[\u5f97\u610f]":{index:41,name:"[\u5f97\u610f]",image:"emoji_41_cool@3x.png",key:"emoji_41_cool@3x.png",width:96,height:96},"[\u61a8\u7b11]":{index:42,name:"[\u61a8\u7b11]",image:"emoji_42_bad_smile@3x.png",key:"emoji_42_bad_smile@3x.png",width:96,height:96},"[\u6293\u72c2]":{index:43,name:"[\u6293\u72c2]",image:"emoji_43_crazy@3x.png",key:"emoji_43_crazy@3x.png",width:96,height:96},"[\u6cea\u5954]":{index:44,name:"[\u6cea\u5954]",image:"emoji_44_tears@3x.png",key:"emoji_44_tears@3x.png",width:96,height:96},"[\u94b1]":{index:45,name:"[\u94b1]",image:"emoji_45_money@3x.png",key:"emoji_45_money@3x.png",width:96,height:96},"[\u543b]":{index:46,name:"[\u543b]",image:"emoji_46_kiss@3x.png",key:"emoji_46_kiss@3x.png",width:96,height:96},"[\u6050\u60e7]":{index:47,name:"[\u6050\u60e7]",image:"emoji_47_fear@3x.png",key:"emoji_47_fear@3x.png",width:96,height:96},"[\u7b11]":{index:48,name:"[\u7b11]",image:"emoji_48_smile@3x.png",key:"emoji_48_smile@3x.png",width:96,height:96},"[\u5feb\u54ed\u4e86]":{index:49,name:"[\u5feb\u54ed\u4e86]",image:"emoji_49_injustice@3x.png",key:"emoji_49_injustice@3x.png",width:96,height:96},"[\u7ffb\u767d\u773c]":{index:50,name:"[\u7ffb\u767d\u773c]",image:"emoji_50_their@3x.png",key:"emoji_50_their@3x.png",width:96,height:96},"[\u8d5e]":{index:52,name:"[\u8d5e]",image:"emoji_52_like@3x.png",key:"emoji_52_like@3x.png",width:96,height:96},"[\u9f13\u638c]":{index:53,name:"[\u9f13\u638c]",image:"emoji_53_handclap@3x.png",key:"emoji_53_handclap@3x.png",width:96,height:96},"[\u8c22\u8c22]":{index:54,name:"[\u8c22\u8c22]",image:"emoji_54_3Q@3x.png",key:"emoji_54_3Q@3x.png",width:96,height:96},"[\u7948\u7977]":{index:54,name:"[\u7948\u7977]",image:"emoji_54_3Q@3x.png",key:"emoji_54_3Q@3x.png",width:96,height:96},"[kiss]":{index:55,name:"[kiss]",image:"emoji_55_kiss@3x.png",key:"emoji_55_kiss@3x.png",width:96,height:96},"[\u53bb\u6c61\u7c89]":{index:56,name:"[\u53bb\u6c61\u7c89]",image:"emoji_56_household_cleanser@3x.png",key:"emoji_56_household_cleanser@3x.png",width:96,height:96},"[666]":{index:57,name:"[666]",image:"emoji_57_666@3x.png",key:"emoji_57_666@3x.png",width:96,height:96},"[\u73ab\u7470]":{index:58,name:"[\u73ab\u7470]",image:"emoji_58_rose@3x.png",key:"emoji_58_rose@3x.png",width:96,height:96},"[\u80e1\u74dc]":{index:59,name:"[\u80e1\u74dc]",image:"emoji_59_cucumber@3x.png",key:"emoji_59_cucumber@3x.png",width:96,height:96},"[\u5564\u9152]":{index:60,name:"[\u5564\u9152]",image:"emoji_60_beer@3x.png",key:"emoji_60_beer@3x.png",width:96,height:96},"[\u6211\u60f3\u9759\u9759]":{index:61,name:"[\u6211\u60f3\u9759\u9759]",image:"emoji_61_distress_situation@3x.png",key:"emoji_61_distress_situation@3x.png",width:105,height:96},"[\u59d4\u5c48]":{index:62,name:"[\u59d4\u5c48]",image:"emoji_62_injustice@3x.png",key:"emoji_62_injustice@3x.png",width:96,height:96},"[\u8214\u5c4f]":{index:63,name:"[\u8214\u5c4f]",image:"emoji_63_lick_screen@3x.png",key:"emoji_63_lick_screen@3x.png",width:96,height:96},"[\u9119\u89c6]":{index:64,name:"[\u9119\u89c6]",image:"emoji_64_despise@3x.png",key:"emoji_64_despise@3x.png",width:96,height:96},"[\u98de\u543b]":{index:65,name:"[\u98de\u543b]",image:"emoji_65_kiss@3x.png",key:"emoji_65_kiss@3x.png",width:96,height:96},"[\u518d\u89c1]":{index:66,name:"[\u518d\u89c1]",image:"emoji_66_bye@3x.png",key:"emoji_66_bye@3x.png",width:96,height:96},"[\u7d2b\u8587\u522b\u8d70]":{index:67,name:"[\u7d2b\u8587\u522b\u8d70]",image:"emoji_67_erkang@3x.png",key:"emoji_67_erkang@3x.png",width:108,height:96},"[\u6c42\u62b1\u62b1]":{index:68,name:"[\u6c42\u62b1\u62b1]",image:"emoji_68_hug@3x.png",key:"emoji_68_hug@3x.png",width:108,height:96},"[\u542c\u6b4c]":{index:69,name:"[\u542c\u6b4c]",image:"emoji_69_hitler@3x.png",key:"emoji_69_hitler@3x.png",width:96,height:96},"[\u5468\u51ac\u96e8\u7684\u51dd\u89c6]":{index:70,name:"[\u5468\u51ac\u96e8\u7684\u51dd\u89c6]",image:"emoji_70_zhoudongyu_gaze@3x.png",key:"emoji_70_zhoudongyu_gaze@3x.png",width:96,height:96},"[\u9a6c\u601d\u7eaf\u7684\u5fae\u7b11]":{index:71,name:"[\u9a6c\u601d\u7eaf\u7684\u5fae\u7b11]",image:"emoji_71_masichun_smile@3x.png",key:"emoji_71_masichun_smile@3x.png",width:96,height:96},"[\u5410\u820c]":{index:72,name:"[\u5410\u820c]",image:"emoji_72_dogo@3x.png",key:"emoji_72_dogo@3x.png",width:96,height:96},"[\u5446\u65e0\u8f9c]":{index:73,name:"[\u5446\u65e0\u8f9c]",image:"emoji_73_cat@3x.png",key:"emoji_73_cat@3x.png",width:96,height:96},"[\u770b]":{index:74,name:"[\u770b]",image:"emoji_74_2ha@3x.png",key:"emoji_74_2ha@3x.png",width:96,height:96},"[\u767d\u773c]":{index:75,name:"[\u767d\u773c]",image:"emoji_75_dogo@3x.png",key:"emoji_75_dogo@3x.png",width:96,height:96},"[\u718a\u5409]":{index:76,name:"[\u718a\u5409]",image:"emoji_76_bear@3x.png",key:"emoji_76_bear@3x.png",width:96,height:96},"[\u9ab7\u9ac5]":{index:77,name:"[\u9ab7\u9ac5]",image:"emoji_77_skeleton@3x.png",key:"emoji_77_skeleton@3x.png",width:96,height:96},"[\u9ed1\u8138]":{index:78,name:"[\u9ed1\u8138]",image:"emoji_78_black_face@3x.png",key:"emoji_78_black_face@3x.png",width:96,height:96},"[\u5403\u74dc\u7fa4\u4f17]":{index:79,name:"[\u5403\u74dc\u7fa4\u4f17]",image:"emoji_79_eat_melon@3x.png",key:"emoji_79_eat_melon@3x.png",width:96,height:96},"[\u7eff\u5e3d\u5b50]":{index:80,name:"[\u7eff\u5e3d\u5b50]",image:"emoji_80_newer_green_hat@3x.png",key:"emoji_80_newer_green_hat@3x.png",width:96,height:96},"[\u6c57]":{index:81,name:"[\u6c57]",image:"emoji_81_sweat@3x.png",key:"emoji_81_sweat@3x.png",width:96,height:96},"[\u6478\u5934]":{index:82,name:"[\u6478\u5934]",image:"emoji_82_lear_ropes@3x.png",key:"emoji_82_lear_ropes@3x.png",width:96,height:96},"[\u76b1\u7709]":{index:83,name:"[\u76b1\u7709]",image:"emoji_83_frown@3x.png",key:"emoji_83_frown@3x.png",width:96,height:96},"[\u64e6\u6c57]":{index:84,name:"[\u64e6\u6c57]",image:"emoji_84_wipe_sweat@3x.png",key:"emoji_84_wipe_sweat@3x.png",width:96,height:96},"[\u7ea2\u8138]":{index:85,name:"[\u7ea2\u8138]",image:"emoji_85_redface@3x.png",key:"emoji_85_redface@3x.png",width:96,height:96},"[\u5c2c\u7b11]":{index:86,name:"[\u5c2c\u7b11]",image:"emoji_86_orz@3x.png",key:"emoji_86_orz@3x.png",width:96,height:96},"[\u505a\u9b3c\u8138]":{index:87,name:"[\u505a\u9b3c\u8138]",image:"emoji_87_makeface@3x.png",key:"emoji_87_makeface@3x.png",width:96,height:96},"[\u5f3a]":{index:88,name:"[\u5f3a]",image:"emoji_88_intensity@3x.png",key:"emoji_88_intensity@3x.png",width:96,height:96},"[\u5982\u82b1]":{index:89,name:"[\u5982\u82b1]",image:"emoji_89_ruhua@3x.png",key:"emoji_89_ruhua@3x.png",width:96,height:96},"[\u5410]":{index:90,name:"[\u5410]",image:"emoji_90_spit@3x.png",key:"emoji_90_spit@3x.png",width:96,height:96},"[\u60ca\u559c]":{index:91,name:"[\u60ca\u559c]",image:"emoji_91_surprise@3x.png",key:"emoji_91_surprise@3x.png",width:96,height:96},"[\u6572\u6253]":{index:92,name:"[\u6572\u6253]",image:"emoji_92_knock@3x.png",key:"emoji_92_knock@3x.png",width:96,height:96},"[\u594b\u6597]":{index:93,name:"[\u594b\u6597]",image:"emoji_93_refuel@3x.png",key:"emoji_93_refuel@3x.png",width:96,height:96},"[\u5410\u5f69\u8679]":{index:94,name:"[\u5410\u5f69\u8679]",image:"emoji_94_rainbow@3x.png",key:"emoji_94_rainbow@3x.png",width:96,height:96},"[\u5927\u54ed]":{index:95,name:"[\u5927\u54ed]",image:"emoji_95_bigcry@3x.png",key:"emoji_95_bigcry@3x.png",width:96,height:96},"[\u6bd4\u5fc3]":{index:96,name:"[\u6bd4\u5fc3]",image:"emoji_96_fingerheart@3x.png",key:"emoji_96_fingerheart@3x.png",width:96,height:96},"[\u52a0\u6cb9]":{index:97,name:"[\u52a0\u6cb9]",image:"emoji_97_refuel@3x.png",key:"emoji_97_refuel@3x.png",width:96,height:96},"[\u78b0\u62f3]":{index:98,name:"[\u78b0\u62f3]",image:"emoji_98_fist@3x.png",key:"emoji_98_fist@3x.png",width:96,height:96},"[ok]":{index:99,name:"[ok]",image:"emoji_99_OK@3x.png",key:"emoji_99_OK@3x.png",width:96,height:96},"[\u51fb\u638c]":{index:100,name:"[\u51fb\u638c]",image:"emoji_100_highfive@3x.png",key:"emoji_100_highfive@3x.png",width:96,height:96},"[\u5de6\u4e0a]":{index:101,name:"[\u5de6\u4e0a]",image:"emoji_101_left@3x.png",key:"emoji_101_left@3x.png",width:96,height:96},"[\u63e1\u624b]":{index:102,name:"[\u63e1\u624b]",image:"emoji_102_shakehand@3x.png",key:"emoji_102_shakehand@3x.png",width:96,height:96},"[18\u7981]":{index:103,name:"[18\u7981]",image:"emoji_103_18@3x.png",key:"emoji_103_18@3x.png",width:96,height:96},"[\u5200]":{index:104,name:"[\u5200]",image:"emoji_104_knife@3x.png",key:"emoji_104_knife@3x.png",width:96,height:96},"[V5]":{index:105,name:"[V5]",image:"emoji_105_V5@3x.png",key:"emoji_105_V5@3x.png",width:96,height:96},"[\u7ed9\u529b]":{index:106,name:"[\u7ed9\u529b]",image:"emoji_106_awesome@3x.png",key:"emoji_106_awesome@3x.png",width:96,height:96},"[\u5fc3]":{index:107,name:"[\u5fc3]",image:"emoji_107_heart@3x.png",key:"emoji_107_heart@3x.png",width:96,height:96},"[\u4f24\u5fc3]":{index:108,name:"[\u4f24\u5fc3]",image:"emoji_108_broken_heart@3x.png",key:"emoji_108_broken_heart@3x.png",width:96,height:96},"[\u5c4e]":{index:109,name:"[\u5c4e]",image:"emoji_109_shit@3x.png",key:"emoji_109_shit@3x.png",width:96,height:96},"[\u793c\u7269]":{index:110,name:"[\u793c\u7269]",image:"emoji_110_gifts@3x.png",key:"emoji_110_gifts@3x.png",width:96,height:96},"[\u86cb\u7cd5]":{index:111,name:"[\u86cb\u7cd5]",image:"emoji_111_cake@3x.png",key:"emoji_111_cake@3x.png",width:96,height:96},"[\u6492\u82b1]":{index:112,name:"[\u6492\u82b1]",image:"emoji_112_flower@3x.png",key:"emoji_112_flower@3x.png",width:96,height:96},"[\u4e0d\u770b]":{index:113,name:"[\u4e0d\u770b]",image:"emoji_113_lookat@3x.png",key:"emoji_113_lookat@3x.png",width:96,height:96},"[\u70b8\u5f39]":{index:114,name:"[\u70b8\u5f39]",image:"emoji_114_bomb@3x.png",key:"emoji_114_bomb@3x.png",width:96,height:96}};function a(e){var t=/(\[[^\]]+[\]])+?/g,n=RegExp(t.source);return e&&n.test(e)?e.replace(t,(function(e){var t=r[e];return t?'<i class="emoji" style="background-image: url(//lf3-cdn-tos.bytegoofy.com/goofy/toutiao/tt_tps/static/images/ttemoji_v2/'.concat(t.image,')"></i>'):e})):e}},"38c58096afa111fcdfd2":function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("b7d86484cebe8a19dabd"),g=n.n(h),_=n("dfb30137603785af9d6e"),y=n.n(_),w=n("36091a6286193bdd62ec"),E=n("be6323750fae7868d676"),k=["href","target","rel","logInfo","onClick","children","jumpQuery"];function O(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.href,n=e.target,r=e.rel,o=e.logInfo,c=e.onClick,l=e.children,f=e.jumpQuery,d=g()(e,k);return y.a.createElement("a",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):O(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}({href:t,target:n,rel:r,onClick:function(e){if(null==c||c(e),t&&(o||f)){e.preventDefault();var n=Object(E.q)(t,f);n=Object(w.b)(n,o),window.open(n)}}},d),l)}},"3aac1932c02d51e20abb":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var r,a=n("4e16ef1abe038022cfb8"),o=n("be6323750fae7868d676");function i(e){return e.large_image_list?e.large_image_list[0].url:e.video_detail_info?e.video_detail_info.detail_video_large_image.url:e.thumb_image_list?e.thumb_image_list[0].url:""}function c(e){return e.video.height>e.video.width?r.PORTRAIT:r.LANDSCAPE}function u(e){var t,n,a=e.video_play_info&&Object(o.s)(e.video_play_info),i=null==a||null===(t=a.video_list)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.video_meta;return i&&i.vheight>i.vwidth?r.PORTRAIT:r.LANDSCAPE}function l(e){var t=Object(o.s)(e);return{coverUrl:i(t),duration:t.video.duration,videoOrientation:c(t)}}function s(e){try{if(e.video_group)return l(e.video_group);if(e.video_link_card_info)return l(e.video_link_card_info.video_group);if(e.video_info)return function(e){var t;return{coverUrl:Object(o.r)((null===(t=e.u12_cover_image)||void 0===t?void 0:t.url)||""),duration:e.duration,videoOrientation:u(e)}}(e.video_info)}catch(t){Object(a.c)(t)}}!function(e){e.PORTRAIT="portrait",e.LANDSCAPE="landscape"}(r||(r={}))},"3b3ecbc8530a8b2a47e4":function(e,t,n){},"3ec5a4f3c530463c912e":function(e,t,n){},"3f02065a1a91a3cd3530":function(e,t,n){},"41e81a6b6b2e87160a0d":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("be6323750fae7868d676"),i=n("fb622297466e7a637f99");t.a=function(e){var t=e.cell,n=e.children,c=Object(r.useRef)(null),u=Object(r.useRef)(!1),l=Object(r.useRef)(t);l.current=t;var s=Object(r.useCallback)(Object(o.t)((function(){if(c.current){var e=c.current.getBoundingClientRect().top,t=c.current.clientHeight;e-window.innerHeight<-t&&(u.current||(Object(i.d)(l.current),u.current=!0),window.removeEventListener("scroll",s))}}),300),[]);return Object(r.useEffect)((function(){return window.addEventListener("scroll",s),setTimeout((function(){return s()})),function(){window.removeEventListener("scroll",s)}}),[s]),a.a.cloneElement(n,{ref:c})}},"42d4f6648edde20f9953":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("dfb30137603785af9d6e"),a=n.n(r),o=(n("7e3762687fac88650839"),n("2422758950d9f66b7423"));function i(e){return!!e&&["0","1","2"].includes(e)}t.a=function(e){var t=e.size,n=e.userAuthInfo,r=e.authType||(n||{}).auth_type||"3";return i((null==n?void 0:n.auth_type)||e.authType)?a.a.createElement("i",{className:"verified-icon",style:{width:t,height:t,backgroundImage:"url(".concat(o.m[r],")")}}):null}},"43c5e5174a2e2677a4de":function(e,t,n){},"43db26ce2aeac2dfc381":function(e,t,n){},"44750f857690efd77995":function(e,t,n){"use strict";n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("d765da9cbece3e988893"),i=n.n(o),c=n("098de4f1853062b3a141"),u=n.n(c);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.children,n=e.onMount;return Object(r.useEffect)((function(){n&&n()}),[]),i.a.createPortal(t,document.body)};t.a=function(e){var t=e.visible,n=e.className,o=e.closeTimeout,i=void 0===o?200:o,c=e.children,s=e.onEnter,d=l(Object(r.useState)(t),2),m=d[0],p=d[1],b=Object(r.useRef)(null);function v(){var e;b.current&&(b.current.classList.add("ttp-portal-show"),b.current.classList.remove("ttp-portal-hide"),null==(e=b.current)||e.clientWidth,b.current.classList.add("ttp-portal-anime-show"),b.current.classList.remove("ttp-portal-anime-hide"),null==s||s())}return Object(r.useEffect)((function(){t?(p(!0),b.current&&v()):(b.current&&(b.current.classList.add("ttp-portal-anime-hide"),b.current.classList.remove("ttp-portal-anime-show")),setTimeout((function(){var e,t;null===(e=b.current)||void 0===e||e.classList.add("ttp-portal-hide"),null===(t=b.current)||void 0===t||t.classList.remove("ttp-portal-show")}),i))}),[t]),m?a.a.createElement(f,{onMount:function(){var t;null===(t=e.onMount)||void 0===t||t.call(e),v()}},a.a.createElement("div",{className:u()("ttp-portal-wrapper",n),ref:b},c)):null}},"44f6385ce556d0ee1adc":function(e,t,n){},"48fbcd2606cff6fd296a":function(e,t,n){"use strict";n("714667d626fd04a26548");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("d765da9cbece3e988893"),i=n.n(o),c=(n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("35cb213607f0dbaa33a3"),n("c24204dd29ff77475878"),n("098de4f1853062b3a141")),u=n.n(c);n("2e529a008290043dc1c5");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=m(i);function i(){var e;return s(this,i),(e=o.apply(this,arguments)).state={fade:!1},e.toastEl=null,e}return t=i,(n=[{key:"componentDidMount",value:function(){var e,t=this,n=document.activeElement;null===(e=this.toastEl)||void 0===e||e.focus(),this.timer=setTimeout((function(){t.setState({fade:!0}),null==n||n.focus()}),2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=this.state.fade,n=this.props.msg;return a.a.createElement("div",{role:"alert",tabIndex:0,"aria-label":n,ref:function(t){e.toastEl=t},className:u()("ttp-toast",{fade:t})},n)}}])&&f(t.prototype,n),r&&f(t,r),i}(a.a.PureComponent);function h(e){var t,n=document.createElement("div");document.body.appendChild(n),t=Object.assign({},e),i.a.render(a.a.createElement(v,Object.assign({},t)),n),setTimeout((function(){i.a.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}),3e3)}v.info=function(e){return h({msg:e})};t.a=v},"4a013326355ba5e09547":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("4f6e6e2b02b6a70b9d23"),a=n.n(r),o=n("92c8006d8139d763c605"),i=n.n(o),c=n("ee10aab64b9ea632f5ab"),u=n.n(c),l=n("90cd159fadd272c59cf2"),s=n.n(l),f=n("6bb41c796464fc214f15"),d=n.n(f),m=n("6104d0ccf35b3944ecf2"),p=n.n(m),b=n("4cc68b2efb2eff1c34aa"),v=n.n(b),h=n("f9aa1a8184c17c535d23"),g=n.n(h),_=n("b1b96d53056a3b30ef69"),y=n.n(_),w=n("3b76dd97653dea47ddc2"),E=n("a2ee6ca588ea64b2ad56"),k=n("fdbcb2f5089886a59aee"),O=n("1ec3e8ffbef3bc77ca37"),j=n("be6323750fae7868d676"),C=n("d744c9d685338e6625ab"),I=n("c1428f02c35d581c417d"),x=n("4e16ef1abe038022cfb8"),T=n("557373be2aadb4ef8066");function S(e){var t=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var N=function(e){v()(n,e);var t=S(n);function n(){var e;d()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).retryVid=null,e.handleError=function(t){e.retryPlayInfo(k.c.REPLAY),Object(x.c)(s()(t),T.a.VIDEO_PLAYER_ERROR)},e.handleExpired=function(){e.retryPlayInfo(k.c.MEDIA_EXPIRED)},e.retryPlayInfo=function(){var t=u()(i.a.mark((function t(n){var r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.playerConfig.videoModel).videoId!==e.retryVid){t.next=3;break}return t.abrupt("return");case 3:return e.retryVid=r.videoId,t.next=6,e.getPlayInfo(r.groupId,r.videoId);case 6:if(a=t.sent){t.next=10;break}return e.showTips(),t.abrupt("return");case 10:if(o=e.player.getPlugin("dashPlugin")){t.next=13;break}return t.abrupt("return");case 13:r.videoPlayInfo=Object(O.a)(a),o.next(e.player.currentTime||0,n,Object(C.a)(r),!0),e.player.config.videoModel=r,e.player.config.vodLogOpts=Object(I.b)(r),e.player.emit(k.b.UPDATE_PLAY_INFO,{groupId:r.groupId,videoId:r.videoId,playInfo:r.videoPlayInfo});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPlayInfo=function(){var e=u()(i.a.mark((function e(t,n){var r,a,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.j(t,n);case 3:if(o=e.sent,"success"!==(null===(r=o.data)||void 0===r?void 0:r.message)||!(null===(a=o.data)||void 0===a?void 0:a.data)){e.next=7;break}return c=Object(j.s)(o.data.data),e.abrupt("return",c);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),e.handleRetry=function(){window.location.reload()},e.handlePlaying=function(){e.hideTips(),e.retryVid=null},e.showTips=function(){e.show(),Object(x.b)(T.a.ERROR_TIPS_SHOW_COUNT)},e.hideTips=function(){e.hide()},e}return p()(n,[{key:"afterCreate",value:function(){this.player.on(k.b.ERROR,this.handleError),this.player.on(k.b.PLAYING,this.handlePlaying),this.player.on(k.b.MEDIA_EXPIRED,this.handleExpired),this.bind(".refresh-button","click",this.handleRetry)}},{key:"destroy",value:function(){this.player.off(k.b.ERROR,this.handleError),this.player.off(k.b.PLAYING,this.handlePlaying),this.player.off(k.b.MEDIA_EXPIRED,this.handleExpired),this.unbind(".refresh-button","click",this.handleRetry)}},{key:"render",value:function(){return'\n      <div class="xgplayer-error-tips">\n        <div class="inner">\n          <p>\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5</p>\n          <button class="refresh-button" type="button">\u7acb\u5373\u91cd\u8bd5</button>\n        </div>\n      </div>\n    '}}],[{key:"pluginName",get:function(){return"error"}},{key:"defaultConfig",get:function(){return{index:0}}}]),n}(w.b)},"4bf504815cc5ae7cb0af":function(e,t,n){"use strict";n("281981c6b99b2a82c28b"),n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("21460410443b5c09d963"),n("1c4b8d4085d28a8b83d7"),n("714667d626fd04a26548");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o),c=(n("2009d6865bc4e742072f"),n("5198e738d473f46c850b")),u=n("102c68ff4eb277341743"),l=a.a.createContext({theme:"light"}),s=n("5f2df22a04de7668a003"),f=(n("ec1d25f062058231e9a3"),n("b41771ccc50908d4ad97"));function d(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,c,"next",e)}function c(e){d(o,r,a,i,c,"throw",e)}i(void 0)}))}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.autoFocus,n=void 0!==t&&t,o=e.loginBtnAutoFocus,c=void 0===o||o,u=e.loginUserInfo,s=e.onSubmit,d=Object(r.useContext)(l),b=Object(r.useRef)(null),v=Object(r.useRef)(!1),h=p(Object(r.useState)(!1),2),g=h[0],_=h[1],y=p(Object(r.useState)(""),2),w=y[0],E=y[1];function k(){return(k=m(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(f.a)(u)){e.next=2;break}return e.abrupt("return");case 2:if((t=w.trim()).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,null==s?void 0:s(t);case 7:e.sent&&!v.current&&E("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){return function(){v.current=!0}}),[]),a.a.createElement("div",{className:i()("ttp-comment-input",{dark:"dark"===d.theme}),onClick:function(){b.current&&b.current.focus()}},!u&&a.a.createElement("div",{className:"login-mask",onClick:function(e){e.stopPropagation(),Object(f.a)(u)}},a.a.createElement("p",null,"\u8bf7\u5148 ",a.a.createElement("button",{autoFocus:c},"\u767b\u5f55")," \u540e\u53d1\u8868\u8bc4\u8bba\uff5e")),a.a.createElement("textarea",{ref:b,autoFocus:n,disabled:!u,className:i()("comment-textarea",{expand:g}),placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427...",value:w,onChange:function(e){var t=e.target.value;E(t)},onFocus:function(){_(!0)},onBlur:function(){w.trim()||_(!1)}}),a.a.createElement("div",{className:"action"},a.a.createElement("button",{type:"button",disabled:!u,className:i()("submit-btn",{disable:!w.trim().length&&u}),onClick:function(){return k.apply(this,arguments)}},"\u8bc4\u8bba")))},h=(n("d599dcaaa3d3c36782f0"),n("a7cb42378ff2e016201f")),g=function(e){var t=e.className,n=e.name,r=e.authType,o=e.tag;return a.a.createElement("div",{className:i()("user-name",t)},a.a.createElement("span",{className:"name"},n),r&&a.a.createElement("i",{className:"auth-icon auth-".concat(r)}),o&&a.a.createElement("span",{className:"tag style-".concat(o.style||"1")},o.text))},_=(n("44f6385ce556d0ee1adc"),n("ec7d18b3433a1d1d5e4e")),y=n("48fbcd2606cff6fd296a");function w(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,c,"next",e)}function c(e){w(o,r,a,i,c,"throw",e)}i(void 0)}))}}var k=function(e){var t=e.isReplyList,n=e.loginUserInfo,o=e.groupId,u=e.itemId,s=e.commentId,d=e.parentCommentId,m=e.isLiked,p=e.likeCount,b=e.onLikeChange,v=Object(r.useContext)(l),h=Object(r.useRef)(!1);function g(e,t){return w.apply(this,arguments)}function w(){return(w=E(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.comment.commentAction(t,o,u,n);case 2:if(a=e.sent,"success"===(i=a.data).message){e.next=6;break}throw new Error(null===(r=i.err_alert)||void 0===r?void 0:r.err_content);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n){return O.apply(this,arguments)}function O(){return(O=E(regeneratorRuntime.mark((function e(t,n,r){var a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.comment.diggReply(n,t,r);case 2:if(o=e.sent,"success"===(i=o.data).message){e.next=6;break}throw new Error(null===(a=i.err_alert)||void 0===a?void 0:a.err_content);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return C.apply(this,arguments)}function C(){return(C=E(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(f.a)(n)){e.next=2;break}return e.abrupt("return");case 2:if(!h.current){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,h.current=!0,r=m?"cancel_digg":"digg",!d){e.next=12;break}return e.next=10,k(s,d,r);case 10:e.next=19;break;case 12:if(!t){e.next=17;break}return e.next=15,k(s,o,r);case 15:e.next=19;break;case 17:return e.next=19,g(s,r);case 19:h.current=!1,b(!m,s,d),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(4),console.log(e.t0),h.current=!1,y.a.info(e.t0.message||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");case 28:case"end":return e.stop()}}),e,null,[[4,23]])})))).apply(this,arguments)}return a.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u70b9\u8d5e".concat(Object(c.a)(p)),"aria-pressed":m,className:i()("ttp-comment-like",{dark:"dark"===v.theme}),onKeyDown:function(e){var t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),j())}},a.a.createElement("div",{className:i()("inner",{liked:m}),onClick:j},a.a.createElement("span",{className:i()({text:0===p})},0===p?"\u8d5e":Object(c.a)(p)),m?a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M4.21442 11.3522C4.21442 11.2719 4.21442 11.2317 4.21548 11.1978C4.25135 10.0484 5.17473 9.12502 6.32411 9.08915C6.35807 9.08809 6.39824 9.08809 6.47856 9.08809H7.97134C8.30805 9.08809 8.61748 8.90294 8.77667 8.60624L10.9521 4.55134C11.4422 3.63789 12.6047 3.33263 13.4803 3.88745C13.9816 4.20507 14.2562 4.78207 14.1866 5.3714L13.7479 9.08809H17.5188C18.6153 9.08809 19.1636 9.08809 19.5533 9.31188C19.8952 9.50827 20.1575 9.81838 20.2943 10.1882C20.4503 10.6097 20.3592 11.1503 20.177 12.2316L19.3922 16.8892C19.2183 17.9216 19.1313 18.4377 18.8731 18.825C18.6454 19.1664 18.326 19.4365 17.9515 19.6043C17.5267 19.7946 17.0033 19.7946 15.9564 19.7946H7.69863C6.47904 19.7946 5.86925 19.7946 5.40342 19.5572C4.99368 19.3484 4.66054 19.0153 4.45176 18.6056C4.21442 18.1397 4.21442 17.5299 4.21442 16.3104V11.3522Z",fill:"#F04142"}),a.a.createElement("path",{d:"M7.37381 6.35449V20.5227",stroke:"white",strokeWidth:"1.2"})):a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M13.6547 9.01851L13.0678 8.94922C13.048 9.11689 13.1008 9.28501 13.213 9.41119C13.3251 9.53738 13.4859 9.60957 13.6547 9.60957V9.01851ZM14.0618 5.57064L14.6487 5.63993L14.0618 5.57064ZM9.04306 8.57151L8.52223 8.29208L9.04306 8.57151ZM5.9138 18.7304L5.64546 19.2571L5.9138 18.7304ZM5.03097 17.8476L5.55761 17.5793L5.03097 17.8476ZM18.4092 18.0512L18.901 18.3791L18.4092 18.0512ZM17.5543 18.7741L17.796 19.3135L17.5543 18.7741ZM19.6188 11.9347L19.036 11.8365L19.6188 11.9347ZM19.7277 10.0391L19.1733 10.2442L19.7277 10.0391ZM19.0402 9.22612L18.7459 9.73867L19.0402 9.22612ZM4.81177 10.9756L4.221 10.9572L4.81177 10.9756ZM6.7679 9.0195L6.74946 8.42872L6.7679 9.0195ZM19.036 11.8365L18.308 16.1572L19.4737 16.3536L20.2017 12.0329L19.036 11.8365ZM15.7035 18.3596H8.043V19.5417H15.7035V18.3596ZM5.40185 15.7184V11.1189H4.21973V15.7184H5.40185ZM13.6547 9.60957H17.1529V8.42745H13.6547V9.60957ZM9.5639 8.85094L11.582 5.08933L10.5403 4.53047L8.52223 8.29208L9.5639 8.85094ZM13.4748 5.50135L13.0678 8.94922L14.2417 9.0878L14.6487 5.63993L13.4748 5.50135ZM6.91118 9.60957H8.29598V8.42745H6.91118V9.60957ZM13.0901 4.69329C13.3631 4.86625 13.5126 5.18044 13.4748 5.50135L14.6487 5.63993C14.7399 4.86742 14.3799 4.11109 13.7228 3.69475L13.0901 4.69329ZM8.52223 8.29208C8.47751 8.37544 8.39058 8.42745 8.29598 8.42745V9.60957C8.82611 9.60957 9.31329 9.31808 9.5639 8.85094L8.52223 8.29208ZM8.043 18.3596C7.46756 18.3596 7.07152 18.3591 6.76431 18.334C6.464 18.3095 6.30099 18.2644 6.18214 18.2038L5.64546 19.2571C5.95874 19.4167 6.29464 19.4817 6.66805 19.5122C7.03456 19.5421 7.48706 19.5417 8.043 19.5417V18.3596ZM4.21973 15.7184C4.21973 16.2743 4.21927 16.7268 4.24921 17.0934C4.27972 17.4668 4.34471 17.8027 4.50433 18.1159L5.55761 17.5793C5.49705 17.4604 5.45195 17.2974 5.42741 16.9971C5.40231 16.6899 5.40185 16.2939 5.40185 15.7184H4.21973ZM6.18214 18.2038C5.91324 18.0668 5.69462 17.8482 5.55761 17.5793L4.50433 18.1159C4.75468 18.6073 5.15414 19.0067 5.64546 19.2571L6.18214 18.2038ZM18.308 16.1572C18.2258 16.6448 18.1692 16.9782 18.1056 17.2359C18.0437 17.4863 17.9844 17.6228 17.9175 17.7233L18.901 18.3791C19.0736 18.1203 19.1745 17.8378 19.2531 17.5196C19.33 17.2085 19.3945 16.8237 19.4737 16.3536L18.308 16.1572ZM15.7035 19.5417C16.1802 19.5417 16.5704 19.5421 16.8899 19.5179C17.2167 19.4932 17.5121 19.4407 17.796 19.3135L17.3127 18.2347C17.2025 18.284 17.058 18.3197 16.8008 18.3392C16.5362 18.3592 16.198 18.3596 15.7035 18.3596V19.5417ZM17.9175 17.7233C17.7681 17.9473 17.5584 18.1246 17.3127 18.2347L17.796 19.3135C18.245 19.1124 18.628 18.7884 18.901 18.3791L17.9175 17.7233ZM20.2017 12.0329C20.2844 11.5417 20.3533 11.136 20.38 10.8048C20.4072 10.4682 20.3975 10.146 20.282 9.83395L19.1733 10.2442C19.2025 10.3231 19.2229 10.4471 19.2017 10.7098C19.1801 10.978 19.1222 11.3245 19.036 11.8365L20.2017 12.0329ZM17.1529 9.60957C17.6721 9.60957 18.0234 9.61009 18.2915 9.63332C18.554 9.65607 18.6729 9.69676 18.7459 9.73867L19.3346 8.71357C19.0461 8.54788 18.73 8.48476 18.3935 8.45561C18.0625 8.42693 17.651 8.42745 17.1529 8.42745V9.60957ZM20.282 9.83395C20.1071 9.36113 19.7718 8.96465 19.3346 8.71357L18.7459 9.73867C18.9431 9.85196 19.0944 10.0308 19.1733 10.2442L20.282 9.83395ZM11.582 5.08933C11.8743 4.54443 12.5678 4.36233 13.0901 4.69329L13.7228 3.69475C12.6206 2.99633 11.1572 3.3806 10.5403 4.53047L11.582 5.08933ZM5.40185 11.1189C5.40185 11.0399 5.40193 11.014 5.40255 10.9941L4.221 10.9572C4.21966 11.0002 4.21973 11.0488 4.21973 11.1189H5.40185ZM6.91118 8.42745C6.84112 8.42745 6.7925 8.42738 6.74946 8.42872L6.78634 9.61027C6.8063 9.60965 6.8322 9.60957 6.91118 9.60957V8.42745ZM5.40255 10.9941C5.42609 10.2398 6.03206 9.63381 6.78634 9.61027L6.74946 8.42872C5.37124 8.47174 4.26402 9.57896 4.221 10.9572L5.40255 10.9941Z",fill:"#222222"}),a.a.createElement("path",{d:"M8.37335 9.26562V19.518",stroke:"#222222",strokeWidth:"1.29874"}))))},O=(n("9e0cb677eb51f896cb48"),n("d1afa150e54e7d13351c")),j=n("fbd38813ef45ebb99472");function C(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,c,"next",e)}function c(e){C(o,r,a,i,c,"throw",e)}i(void 0)}))}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=[{name:"\u6deb\u79fd\u8272\u60c5",value:"1"},{name:"\u8425\u9500\u5e7f\u544a",value:"2"},{name:"\u7f51\u7edc\u66b4\u529b",value:"3"},{name:"\u517b\u8001\u8bc8\u9a97",value:"387"},{name:"\u6211\u6709\u8bdd\u8981\u8bf4",value:"0"}],N=function(e){var t=e.loginUserInfo,n=e.groupId,o=e.itemId,c=e.userId,u=e.commentId,s=e.webid,d=Object(r.useContext)(l),m=x(Object(r.useState)(!1),2),p=m[0],b=m[1],v=x(Object(r.useState)(""),2),h=v[0],g=v[1],w=x(Object(r.useState)(""),2),E=w[0],k=w[1];function C(){Object(f.a)(t)&&b(!0)}function T(e){g(e.target.value)}function N(){return(N=I(regeneratorRuntime.mark((function e(){var t,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(E||"").trim(),h){e.next=4;break}return y.a.info("\u8bf7\u9009\u62e9\u4e3e\u62a5\u539f\u56e0"),e.abrupt("return");case 4:if("0"!==h||t){e.next=7;break}return y.a.info("\u8bf7\u586b\u5199\u4e3e\u62a5\u539f\u56e0"),e.abrupt("return");case 7:return r={report_user_id:c,comment_id:u,group_id:n,item_id:o,report_type:h,webid:s},"0"===h&&(r.report_content=t),e.prev=9,e.next=12,_.a.comment.reportUser(r);case 12:if(a=e.sent,"success"!==(i=a.data).message){e.next=18;break}return b(!1),y.a.info("\u4e3e\u62a5\u6210\u529f"),e.abrupt("return");case 18:throw new Error(i.message);case 21:e.prev=21,e.t0=e.catch(9),console.error(e.t0),y.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");case 25:case"end":return e.stop()}}),e,null,[[9,21]])})))).apply(this,arguments)}return a.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u4e3e\u62a5",className:i()("ttp-comment-report",{dark:"dark"===d.theme}),onKeyDown:function(e){var t=e.keyCode;e.target===e.currentTarget&&(32!==t&&13!==t||(e.preventDefault(),C()))}},a.a.createElement("i",{onClick:C}),a.a.createElement(O.a,{className:"report-user-modal",title:"\u4e3e\u62a5\u6b64\u4eba",visible:p,onClose:function(){b(!1)},onOk:function(){return N.apply(this,arguments)}},a.a.createElement(j.a,{"aria-label":"\u9009\u62e9\u539f\u56e0",options:S.map((function(e){return e.value})),value:h,onChange:function(e){g(e)}},a.a.createElement("div",{className:"report-user-options"},a.a.createElement("form",null,S.map((function(e,t){return a.a.createElement(j.a.RadioButton,{key:t,index:t,option:e.value},a.a.createElement("div",{className:"option-item"},a.a.createElement("label",null,a.a.createElement("input",{"aria-hidden":!0,tabIndex:-1,name:"reportType",type:"radio",checked:h===e.value,value:e.value,onChange:T}),e.name)))}))),"0"===h&&a.a.createElement("textarea",{onChange:function(e){k(e.target.value)}})))))},L=n("387174a33cbf68342720"),R=a.a.memo((function(e){var t=e.emoji,n=void 0===t||t,r=e.children,o="".concat(r);if(!n)return a.a.createElement("p",{className:"content"},o);var i=Object(L.a)(o);return a.a.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:i}})}));function A(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,c,"next",e)}function c(e){A(o,r,a,i,c,"throw",e)}i(void 0)}))}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function e(t){var n,o,c,f,d,m,p,b,_,w,E,O=t.isReplyList,j=t.data,C=t.parentComment,I=t.groupId,x=t.itemId,T=t.webid,S=t.loginUserInfo,L=t.replyTarget,A=t.logParams,M=t.showSource,U=t.setReplyTarget,V=t.onGetReplyListByCommentId,F=t.onSubmitReply,H=t.onLikeChange,B=t.onReplyListChange,W=Object(r.useContext)(l),Y=D(Object(r.useState)(!!j.replyCount&&j.replyCount>((null===(n=j.replyList)||void 0===n?void 0:n.list)||[]).length),2),G=Y[0],K=Y[1],z=D(Object(r.useState)((null===(o=j.replyList)||void 0===o?void 0:o.list.length)||0),2),q=z[0],X=z[1],Q=D(Object(r.useState)(!!(null===(c=j.replyList)||void 0===c?void 0:c.list.length)),2),Z=Q[0],J=Q[1],$=D(Object(r.useState)(!1),2),ee=$[0],te=$[1],ne=function(e,t,n){return!!t&&(n?t.parentId===n.id&&t.commentId===e.id:t.commentId===e.id)}(j,L,C),re=Object(r.useRef)(!1),ae=Object(r.useRef)(null);function oe(){return ie.apply(this,arguments)}function ie(){return(ie=P(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:0,!re.current){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,re.current=!0,e.next=7,null==V?void 0:V(j.id,t);case 7:re.current=!1,K(!1),X(0===t?5:q+5),J(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),re.current=!1,y.a.info("\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function ce(){X(q+1)}function ue(){return(ue=P(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,j,C);case 2:return(n=e.sent)&&(C?null==B||B():(X(q+1),J(!0)),y.a.info("\u56de\u590d\u6210\u529f"),setTimeout((function(){var e;null===(e=ae.current)||void 0===e||e.focus()}),2e3)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){e.preventDefault();var t=Object(h.b)("/c/user/".concat(j.user.uid,"/?source=").concat(A.page_name),{position:"detail",enter_from:A.enter_from,section:"comment"});window.open(t)}return a.a.createElement("div",{className:i()("ttp-comment-item",{dark:"dark"===W.theme})},a.a.createElement("a",{tabIndex:-1,"aria-hidden":!0,href:globalThis.getFilterXss().filterUrl("/c/user/".concat(j.user.uid,"/?source=").concat(A.page_name),null,{logType:"js.href/src",reportOnly:"all"}),rel:"nofollow",target:"_blank",className:i()({"children-reply-avatar":C}),onClick:le},a.a.createElement(s.a,{url:j.user.avatar,authType:C||null===(f=j.user.authInfo)||void 0===f?void 0:f.auth_type})),a.a.createElement("div",{className:"comment-info"},a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"user-info"},a.a.createElement("a",{href:globalThis.getFilterXss().filterUrl("/c/user/".concat(j.user.uid,"/?source=").concat(A.page_name),null,{logType:"js.href/src",reportOnly:"all"}),rel:"nofollow",target:"_blank",onClick:le},a.a.createElement(g,{name:j.user.name,authType:C?null===(d=j.user.authInfo)||void 0===d?void 0:d.auth_type:void 0,tag:j.user.hasAuthorBadge?{text:"\u4f5c\u8005"}:void 0}))),a.a.createElement("div",{className:"right-action"},a.a.createElement(k,{isReplyList:O,loginUserInfo:S,groupId:I,itemId:x,commentId:j.id,parentCommentId:null==C?void 0:C.id,likeCount:j.likeCount,isLiked:j.userLike,onLikeChange:H}))),a.a.createElement("div",{className:"body"},a.a.createElement(R,null,j.text)),a.a.createElement("div",{className:"footer"},a.a.createElement("div",{className:"left-action"},a.a.createElement("button",{className:"reply-btn",ref:ae,onClick:function(){U(ne?null:{parentId:null==C?void 0:C.id,commentId:j.id})}},"\u56de\u590d"),a.a.createElement("span",{className:"dot"},"\xb7"),a.a.createElement("span",{className:"time"},j.time),M&&j.source&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"dot"},"\xb7"),a.a.createElement("a",{className:"source-link",href:globalThis.getFilterXss().filterUrl(j.source.openUrl,null,{logType:"js.href/src",reportOnly:"all"}),target:"_blank",onClick:function(e){var t;e.preventDefault();var n=null===(t=j.source)||void 0===t?void 0:t.openUrl;if(n){var r=Object(h.b)(n,Object.assign({},A));window.open(r)}}},j.source.description))),a.a.createElement("div",{className:"right-action"},a.a.createElement(N,{loginUserInfo:S,userId:j.user.uid,commentId:j.id,groupId:I,itemId:x,webid:T}))),ne&&a.a.createElement("div",{className:"children-input"},a.a.createElement(v,{autoFocus:!0,loginUserInfo:S,onSubmit:function(e){return ue.apply(this,arguments)}})),!!(null===(m=j.replyList)||void 0===m?void 0:m.list.length)&&Z&&a.a.createElement("div",{className:"replay-list"},a.a.createElement("ul",null,((null===(p=j.replyList)||void 0===p?void 0:p.list)||[]).slice(0,q).map((function(t){return a.a.createElement("li",{key:t.id},a.a.createElement(e,{key:t.id,groupId:I,itemId:x,webid:T,loginUserInfo:S,data:t,parentComment:j,replyTarget:L,logParams:A,setReplyTarget:U,onSubmitReply:F,onLikeChange:H,onReplyListChange:ce}))})))),G&&a.a.createElement("button",{className:i()("check-more-reply",{ml:Z&&(null===(b=j.replyList)||void 0===b?void 0:b.list.length)}),onClick:function(){if(Object(u.a)("comment_enter",{comment_position:"comment",groupId:I}),ee)return K(!1),void J(!0);oe(0),te(!0)}},"\u67e5\u770b\u5168\u90e8 ",j.replyCount," \u6761\u56de\u590d"),!G&&Z&&ee&&(null===(_=j.replyList)||void 0===_?void 0:_.hasMore)&&a.a.createElement("button",{className:i()("check-more-reply ml",{fold:!(null===(w=j.replyList)||void 0===w?void 0:w.hasMore)}),onClick:function(){var e,t;(null===(e=j.replyList)||void 0===e?void 0:e.hasMore)?oe(((null===(t=j.replyList)||void 0===t?void 0:t.offset)||0)+5):(J(!1),K(!0))}},(null===(E=j.replyList)||void 0===E?void 0:E.hasMore)?"\u67e5\u770b\u66f4\u591a\u56de\u590d":"\u6536\u8d77")))};function V(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){V(o,r,a,i,c,"next",e)}function c(e){V(o,r,a,i,c,"throw",e)}i(void 0)}))}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.className,n=e.theme,o=void 0===n?"light":n,f=e.anchorId,d=void 0===f?"comment-area":f,m=e.loginUserInfo,p=e.isReplyList,b=e.groupId,h=e.itemId,g=e.webid,_=e.total,w=e.list,E=e.logParams,k=e.disableMainInput,O=void 0!==k&&k,j=e.showSource,C=e.onGetReplyListByCommentId,I=e.onSubmitComment,x=e.onSubmitReply,T=e.onLikeChange,S=Object(r.useRef)(!1),N=H(Object(r.useState)(null),2),L=N[0],R=N[1];function A(e){Object(u.a)("rt_post_comment",Object.assign(Object.assign({},E),e))}function P(e,t,n){return D.apply(this,arguments)}function D(){return(D=F(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S.current){e.next=2;break}return e.abrupt("return",!1);case 2:if(a=p||n,e.prev=3,S.current=!0,!a){e.next=11;break}return e.next=8,x(t,n,r);case 8:n&&R(null),e.next=13;break;case 11:return e.next=13,I(t);case 13:return A({comment_type:a?"comment_reply":"comment",is_success:1}),S.current=!1,e.abrupt("return",!0);case 18:return e.prev=18,e.t0=e.catch(3),console.log(e.t0),A({comment_type:a?"comment_reply":"comment",is_success:0}),S.current=!1,y.a.info(e.t0.message||"\u63d0\u4ea4\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}return a.a.createElement(l.Provider,{value:{theme:o}},a.a.createElement("div",{id:d,className:i()("ttp-comment-wrapper",t,{dark:"dark"===o})},a.a.createElement("div",{className:"title"},"\u8bc4\u8bba ",a.a.createElement("span",null,Object(c.a)(_))),!O&&a.a.createElement("div",{className:"main-input"},a.a.createElement(s.a,{url:(null==m?void 0:m.avatar)||""}),a.a.createElement(v,{loginBtnAutoFocus:!1,onSubmit:P,loginUserInfo:m})),a.a.createElement("ul",{className:"comment-list"},w.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(U,{key:e.id,isReplyList:p,groupId:b,itemId:h,webid:g,loginUserInfo:m,data:e,replyTarget:L,logParams:E,showSource:j,setReplyTarget:R,onGetReplyListByCommentId:C,onSubmitReply:P,onLikeChange:T}))})))))}},"4c4ea2a98c1c93e67edd":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("ad3ac99ada113225a3d8"),a=n.n(r),o=n("663529bce6ee6d8996f5");function i(){"undefined"!=typeof window&&(o.a.csrf.getCSRFToken(),o.a.csrf.getTTAntiToken().then((function(e){var t=e.data||{};if("Success"===t.message){var n,r=null===(n=t.data)||void 0===n?void 0:n.token;r&&a.a.set("tt_anti_token",r,{expires:365})}})))}},"4d09ad27fd704dfe94be":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("62c0919d83bf66662dbf");function a(e){var t,n;return null===(t=(n=window).btoa)||void 0===t?void 0:t.call(n,encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x".concat(t))})))}function o(e){return e?decodeURIComponent(Object(r.atob)(e).split("").map((function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join("")):e}},"4d42c6b0aecacf3b7489":function(e,t,n){},"4e16ef1abe038022cfb8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));var r=n("167789bd516d2baf7295");function a(e){var t,n,r,a;null===(t=(n=window).Slardar)||void 0===t||t.call(n,"config",{userId:"".concat(e.user_id||e.web_id),deviceId:e.web_id}),null===(r=(a=window).Slardar)||void 0===r||r.call(a,"start")}function o(e,t){var n,r;null===(n=(r=window).Slardar)||void 0===n||n.call(r,"sendEvent",{name:e,metrics:{value:1},categories:t})}function i(e,t){var n,a;if(r.d)console.log("".concat(t||"reportError",":\n"),e);else{var o=e instanceof Error?"errorMsg=".concat(null==e?void 0:e.message,", stack=").concat(null==e?void 0:e.stack):e;null===(n=(a=window).Slardar)||void 0===n||n.call(a,"sendLog",{level:"error",content:o,extra:{name:t}})}}function c(e,t){var n,r;null===(n=(r=window).Slardar)||void 0===n||n.call(r,"sendLog",{level:"info",content:e,extra:{name:t}})}},"5183bcdddddfd7790485":function(e,t,n){},"5198e738d473f46c850b":function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return v}));n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("4ea9a2360f1f9dff21ee"),n("e27353d76bdab012b9c1"),n("714667d626fd04a26548"),n("c93a3409710bc0c7e7f7"),n("96e657875a3e8636f3a2"),n("3001a3934397946b1a1f"),n("562804f2026cdb551686"),n("2424222fdd55b7282442"),n("abe57333ca79dc15d3f8"),n("17d091243b0d38080c9b"),n("587ee3767cae257489e4"),n("dff888e2b4b8e178d0a9");function r(e,t){return l(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||c(e,t)||i()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return l(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){if(Array.isArray(e))return e}function s(e,t){var n,r=0;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var c=Date.now();c-r>=t?(e.apply(void 0,o),r=c):(clearTimeout(n),n=setTimeout((function(){r=c,e.apply(void 0,o)}),t))}}function f(e,t){void 0===t&&(t="undefined"!=typeof window?window.location&&window.location.search.substr(1):"");var n={};return t&&t.split("&").forEach((function(e){if(""!==e){var t=o(e.split("=")),r=t[0],a=t.slice(1),i=decodeURIComponent(r),c=decodeURIComponent(a.join("="));if(i.match(/\[\]$/)){var u=i.replace(/\[\]$/,"");n[u]&&n[u]instanceof Array?n[u].push(c):n[u]=[c]}else n[i]=c}})),e?n[e]:n}function d(e,t,n){if(void 0===t||0===Object.keys(t).length)return e;var o,i=r(e.split("?"),2),c=i[0],u=i[1],l=void 0===u?"":u;if(l){var s=r(l.split("#"),2);l=s[0];var d=s[1];o=void 0===d?"":d}else{var m=r(e.split("#"),2);c=m[0];var p=m[1];o=void 0===p?"":p}var b=f(void 0,l);return l=(l=function(e,t){for(var n=[],r=function(){var r=i[o],c=e[r];null!=c&&("object"===a(c)?t&&c instanceof Array&&c.every((function(e){return"object"!==a(e)}))?c.forEach((function(e){n.push("".concat(encodeURIComponent(r),"[]=").concat(encodeURIComponent(e)))})):n.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(JSON.stringify(c)))):n.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(c))))},o=0,i=Object.keys(e);o<i.length;o++)r();return n.join("&")}(b=Object.assign(b,t),n))&&"?".concat(l),o=o&&"#".concat(o),"".concat(c).concat(l).concat(o)}function m(e){try{return JSON.parse(e)}catch(t){return console.error("safeJSONParse error",t),null}}function p(e,t){if(t<=0)return"".concat(Math.floor(e));var n=Math.pow(10,t),r="".concat(Math.floor(e*n));return"".concat(r.slice(0,-t),".").concat(r.slice(-t))}function b(e,t){var n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){var o="".concat(e);if(o.indexOf(".")>=0){var i=o.split("."),c=r(i,2),u=c[0],l=c[1];return"".concat(u.replace(/(?=\B(?:\d{3})+$)/g,","),".").concat(l.replace(/\d{3}\B/g,"$&,"))}return o.replace(/(?=\B(?:\d{3})+$)/g,",")}return"number"!=typeof e&&(e=parseFloat(e)?parseFloat(e):0),e<1e4?"".concat(e):e<1e5&&a?"0"===(n=p(e/1e4,1)).split(".")[1]?"".concat(n.split(".")[0],"\u4e07"):"".concat(n,"\u4e07"):e<1e8?"".concat(Math.floor(e/1e4),"\u4e07"):e<1e9&&a?"0"===(n=p(e/1e8,1)).split(".")[1]?"".concat(n.split(".")[0],"\u4ebf"):"".concat(n,"\u4ebf"):"".concat(Math.floor(e/1e8),"\u4ebf")}function v(e){var t;if(!e)return!1;var n=e.getAttribute("contentEditable");return["input","textarea"].includes(null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())||""===n||"true"===n}},"5261bf3449e88fd34744":function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("92c8006d8139d763c605"),v=n.n(b),h=n("819716bda1fd0681a754"),g=n.n(h),_=n("ee10aab64b9ea632f5ab"),y=n.n(_),w=n("fbbd810ddf979da8e79a"),E=n.n(w),k=n("dfb30137603785af9d6e"),O=n.n(k),j=n("f9ed13e5f81996e94cef"),C=n("cf421b33cba8016652a2"),I=n("2422758950d9f66b7423"),x=n("4e16ef1abe038022cfb8"),T=n("d84b833f284337beaf9b");function S(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?i()(e,u()(n)):S(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}t.a=function(e){var t=e.extraOptions,r=e.visible,a=e.onClose,o=Object(k.useRef)(null),i=Object(k.useRef)(null),c=Object(k.useRef)({}),u=Object(k.useRef)(!1),l=Object(k.useState)(!1),s=E()(l,2),f=s[0],d=s[1],m=Object(k.useCallback)(y()(v.a.mark((function e(){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.current){e.next=2;break}return e.abrupt("return");case 2:if(!u.current){e.next=4;break}return e.abrupt("return");case 4:return u.current=!0,e.next=7,n.e(0).then(n.t.bind(null,"acb8cd2ae53b15845309",7));case 7:r=e.sent.default,c=new r(i.current,{appId:String(I.k),appName:I.l,webId:null==t?void 0:t.webId,bizId:"35",placement:"auto",theme:"light",zIndex:1e3,extra_params:N(N({},t),{},{url:window.location.href,cf_biz_id:"35",user_agent:window.navigator.userAgent}),ext:{headerToggle:!0},sdkUrl:"https://helpdesk.bytedance.com/sites/standalone/helpcenter_pc/",onVisibleChange:function(e){e||a()},getFeedbackResult:function(e){e&&T.a.info("\u63d0\u4ea4\u6210\u529f,\u611f\u8c22\u4f60\u7684\u610f\u89c1")},getInterfaceError:function(e){e&&(T.a.info("\u63d0\u4ea4\u9519\u8bef,\u8bf7\u7a0d\u540e\u91cd\u8bd5"),Object(x.b)("submit_feedback_error"))}}),o.current=c,d(!0);case 11:case"end":return e.stop()}}),e)}))),[]);function p(){return(p=y()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.current){e.next=3;break}return e.next=3,m();case 3:null===(t=o.current)||void 0===t||t.show();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.useEffect)((function(){return setTimeout((function(){m()}),5e3),function(){var e;null===(e=o.current)||void 0===e||e.destroy()}}),[]),Object(k.useEffect)((function(){r&&function(){p.apply(this,arguments)}()}),[r,f]),Object(k.useEffect)((function(){if(r){var e=Object(j.a)();c.current=Object(C.a)({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body)}else Object(C.a)(c.current,document.body)}),[r]),O.a.createElement("div",{ref:i})}},"53955f9dab771af04369":function(e,t,n){"use strict";var r=n("fbbd810ddf979da8e79a"),a=n.n(r),o=n("dfb30137603785af9d6e"),i=n.n(o),c=n("098de4f1853062b3a141"),u=n.n(c),l=n("2422758950d9f66b7423"),s=n("5616f33a71e39794ee3e"),f=n("546ca7f10f62589ab9f4"),d=n("b65c96faf0c123cf88e4"),m=n("38c58096afa111fcdfd2");t.a=function(e){var t,n=e.data,r=e.logInfo,c=e.logParams,p=e.media,b=e.footer,v=e.leftTools,h=e.className,g=e.disableDislike,_=void 0!==g&&g,y=e.onDislike,w=e.onClickToDetail,E=e.onDislikeClick,k=Object(o.useState)(!1),O=a()(k,2),j=O[0],C=O[1],I=(null===(t=n.coverUrls)||void 0===t?void 0:t.length)||0,x=(n.coverUrls||[]).slice(0,4),T=n.isStick&&1===n.stickStyle,S=!_&&!n.isStick;function N(){w(),C(!0)}return i.a.createElement("div",{className:u()("feed-card-article",h,{"no-cover":!I,"single-cover":I>0&&I<4,"multi-cover":I>=4,visited:j})},I>0&&I<4&&i.a.createElement("div",{className:"feed-card-article-r"},i.a.createElement(d.a,{cover:x[0],articleUrl:n.articleUrl,desc:n.title,logInfo:r,onClickToDetail:N})),i.a.createElement("div",{className:"feed-card-article-l"},p,i.a.createElement(m.a,{className:u()("title",{"stick-tag":T}),href:n.articleUrl,target:"_blank",rel:"noopener","aria-label":"".concat(n.isStick?"\u7f6e\u9876\uff0c":"").concat(n.title),logInfo:r,onClick:N},n.title),I>=4&&i.a.createElement("ul",{className:"cover-list"},x.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement(d.a,{alt:"".concat(n.title,"-\u56fe").concat(t+1),cover:e,articleUrl:n.articleUrl,logInfo:r,onClickToDetail:N}))}))),b||i.a.createElement(s.a,{leftTools:v||[T&&i.a.createElement(f.g,{key:"tag",text:"\u7f6e\u9876"}),i.a.createElement(f.a,{key:"author",userInfo:n.userInfo,source:n.source,logInfo:c}),i.a.createElement(f.b,{key:"comment",inside:0===n.articleType,commentCount:n.commentCount,articleUrl:n.articleUrl,logInfo:r,onClickToDetail:N}),i.a.createElement(f.h,{key:"time",timestamp:n.timestamp})],rightTools:[S&&i.a.createElement(f.d,{key:"dislike",data:{itemId:n.itemId,groupId:n.groupId,filterWords:n.filterWords,source:l.h.ARTICLE},onDislike:y,onDislikeClick:E})]})))}},"544a2fe35893607768ff":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return k}));var r=n("4f6e6e2b02b6a70b9d23"),a=n.n(r),o=n("6bb41c796464fc214f15"),i=n.n(o),c=n("6104d0ccf35b3944ecf2"),u=n.n(c),l=n("4cc68b2efb2eff1c34aa"),s=n.n(l),f=n("f9aa1a8184c17c535d23"),d=n.n(f),m=n("b1b96d53056a3b30ef69"),p=n.n(m),b=n("90cd159fadd272c59cf2"),v=n.n(b),h=n("3b76dd97653dea47ddc2"),g=n("fdbcb2f5089886a59aee");function _(e){var t=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var y;function w(e,t){if("undefined"!=typeof window){var n=window.localStorage.getItem("ttp_video_player_settings_cache")||"",r=null;try{r=JSON.parse(n)}catch(a){}r||(r={}),r[e]=t,window.localStorage.setItem("ttp_video_player_settings_cache",v()(r))}}function E(e,t){if("undefined"==typeof window)return null;var n=window.localStorage.getItem("ttp_video_player_settings_cache")||"",r=null;try{r=JSON.parse(n)}catch(o){}if(!r)return void 0!==t?t:null;var a=r[e];return void 0!==a?a:t}!function(e){e.AUTO_NEXT="autoNext",e.DEFINITION="definition",e.VOLUME="volume",e.MUTED="muted"}(y||(y={}));var k=function(e){s()(n,e);var t=_(n);function n(){return i()(this,n),t.apply(this,arguments)}return u()(n,[{key:"afterCreate",value:function(){var e=this;this.player.on(g.b.AUTONEXT_CHANGE,(function(e){w(y.AUTO_NEXT,e.to.autoNext)})),this.player.on(g.b.DEFINITION_CHANGE,(function(e){w(y.DEFINITION,e.to.definition)})),this.player.on(g.b.USER_ACTION,(function(t){var n=t.action,r=t.props;if(n===g.e.CHANGE_VOLUME){var a,o,i=(null==r||null===(a=r[0])||void 0===a||null===(o=a.volume)||void 0===o?void 0:o.to)||0;return w(y.VOLUME,i),void w(y.MUTED,!1)}if(n===g.e.CHANGE_MUTED){var c,u,l=Boolean(null==r||null===(c=r[0])||void 0===c||null===(u=c.muted)||void 0===u?void 0:u.to);if(w(y.MUTED,l),e.player.volume<.01){var s,f,d=null===(s=e.player.getPlugin("volume"))||void 0===s||null===(f=s.config)||void 0===f?void 0:f.miniVolume;d&&w(y.VOLUME,d)}}}))}}],[{key:"pluginName",get:function(){return"settingsLocalCache"}},{key:"defaultConfig",get:function(){return{}}}]),n}(h.b)},"546ca7f10f62589ab9f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return r})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return Z})),n.d(t,"f",(function(){return re})),n.d(t,"e",(function(){return ae})),n.d(t,"g",(function(){return oe}));var r,a=n("a7cb42378ff2e016201f"),o=n("dfb30137603785af9d6e"),i=n.n(o),c=(n("b47836c813468e99d194"),function(e){var t,n=e.userInfo,r=e.source,o=e.logInfo,c="";return n&&(t="?source=".concat(null==o?void 0:o.page_name),c=(null==n?void 0:n.userSecToken)?"/c/user/token/".concat(n.userSecToken,"/").concat(t):(null==n?void 0:n.userId)?"/c/user/".concat(n.userId,"/").concat(t):""),i.a.createElement("div",{className:"feed-card-footer-cmp-author"},c&&i.a.createElement("a",{href:c,target:"_blank",rel:"noopener nofollow",onClick:function(e){if(e.preventDefault(),c){var t=Object(a.b)(c,{section:"detail"===o.position?"detail_related":"feed",position:o.position,enter_from:o.enter_from});window.open(t)}}},null==n?void 0:n.name),!c&&i.a.createElement("span",{className:"source"},r))}),u=n("098de4f1853062b3a141"),l=n.n(u),s=(n("7ca4db6440f85a7a6df5"),n("be6323750fae7868d676")),f=n("38c58096afa111fcdfd2");!function(e){e.NONE_ICON="1",e.WITH_ICON="2"}(r||(r={}));var d=function(e){var t=e.commentCount,n=e.articleUrl,a=e.styleType,c=void 0===a?r.NONE_ICON:a,u=e.inside,d=void 0===u||u,m=e.logInfo,p=e.jumpQuery,b=e.onClickToDetail,v=Object(o.useMemo)((function(){return 0===t?"\u8bc4\u8bba":Object(s.j)(t)}),[t]);return 0===t&&r.NONE_ICON===c?null:i.a.createElement("div",{className:l()("feed-card-footer-comment-cmp",{"style-2":r.WITH_ICON===c})},i.a.createElement(f.a,{href:d?"".concat(n,"#comment"):n,target:"_blank",rel:"noopener nofollow",logInfo:m,onClick:b,"aria-label":"\u8bc4\u8bba\u6570".concat(t),jumpQuery:p},r.WITH_ICON===c&&i.a.createElement("i",null),v,r.NONE_ICON===c&&"\u8bc4\u8bba"))},m=(n("7801182153876d8ab215"),function(e){return i.a.createElement("div",{className:"feed-card-footer-time-cmp"},Object(s.k)(e.timestamp))}),p=n("54868fd92a74e390355c"),b=n.n(p),v=n("007862268c2fc8134ebb"),h=n.n(v),g=n("c5054cf9c06ccf557fcd"),_=n.n(g),y=n("4f25322f10fce8ce9169"),w=n.n(y),E=n("a1370d8a46bf7fd478fc"),k=n.n(E),O=n("a0317e3b4020b526a9b2"),j=n.n(O),C=n("819716bda1fd0681a754"),I=n.n(C),x=n("92c8006d8139d763c605"),T=n.n(x),S=n("ee10aab64b9ea632f5ab"),N=n.n(S),L=n("fbbd810ddf979da8e79a"),R=n.n(L),A=n("742f59eaa59127e610f4"),P=(n("9727aacc8b7964f6db1c"),n("663529bce6ee6d8996f5")),D=n("7009f854fb449fc1b23d"),M=n("a5b25f8e99db71c1fcf2"),U=n("d84b833f284337beaf9b"),V=(n("2560966d267a85e8aabc"),n("c3f6c65547e619f96c18")),F=(n("302c2db6d5e6ba63abcd"),{uninterested:{iconType:"uninterested",title:"\u4e0d\u611f\u5174\u8da3",desc:"\u51cf\u5c11\u6b64\u7c7b\u5185\u5bb9"},report:{iconType:"report",title:"\u4e3e\u62a5",desc:"\u6807\u9898\u5938\u5f20\u3001\u5185\u5bb9\u8d28\u91cf\u5dee\u7b49"},block:{iconType:"block",title:"\u62c9\u9ed1\u4f5c\u8005"},shield:{iconType:"shield",title:"\u5c4f\u853d"}}),H=function(e){var t=e.className,n=e.type,r=e.desc,a=e.ariaLabel,o=e.hasArrow,c=e.onClick,u=e.onFocus,s=e.onBlur,f=e.getListItems,d=F[n||"uninterested"],m=d.iconType,p=d.title,b=d.desc;function v(){null==c||c()}return i.a.createElement(A.a.MenuItem,{onKeyDown:function(e){var t=e.keyCode;t!==V.a.ENTER&&t!==V.a.SPACE||(e.preventDefault(),v())},onFocus:u,onBlur:s,getListItems:f},i.a.createElement("div",{"aria-label":a,className:l()("dislike-item",t,"icon-".concat(m),{"dislike-item-arrow":o}),onClick:v},i.a.createElement("div",{className:"dislike-title"},p),i.a.createElement("div",{className:"dislike-desc"},r||b)))},B=function(e){var t=e.data,n=e.onDislike;return i.a.createElement(H,{type:"uninterested",onClick:function(){return n(t)}})},W=(n("43c5e5174a2e2677a4de"),n("8da0d466807af5fb475a")),Y=n("2851b3b5ef18f4eb994b"),G=function(e){var t=e.children,n=e.className,r=e.onFocus,a=e.onBlur,o=e.onClick,c=e.getListItems,u=e.getParant;function s(){o()}return i.a.createElement(A.a.MenuSubItem,{onFocus:r,onBlur:a,onKeyDown:function(e){var t=e.keyCode;t!==V.a.ENTER&&t!==V.a.SPACE||(e.preventDefault(),s())},getListItems:c,getParant:u},i.a.createElement("div",{className:l()(n),onClick:s},t))},K=function(e){var t=e.groupId,n=e.source,r=e.disabledOpen,a=e.userInfo,c=e.onDislike,u=(Object(o.useContext)(W.a)||{}).webid,l=void 0===u?"":u,s=Object(o.useState)(!1),f=R()(s,2),d=f[0],m=f[1],p=Object(o.useRef)(null),b=Object(o.useRef)(-1),v=Object(o.useRef)(!1);function h(){r||(clearTimeout(b.current),m(!0))}function g(){clearTimeout(b.current),b.current=window.setTimeout((function(){m(!1)}),50)}function _(){return(_=N()(T.a.mark((function e(r){var o,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.current){e.next=2;break}return e.abrupt("return");case 2:if(Object(M.a)(a)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,v.current=!0,e.next=8,P.a.user.feedbackContent(t,"",r.id,n,l,"feed");case 8:if("success"!==(o=e.sent).data.message){e.next=14;break}return null===(i=document.querySelector(".dislike-wrapper.dislike-button-".concat(t)))||void 0===i||i.focus(),c(r.dislikeType),v.current=!1,e.abrupt("return");case 14:throw new Error(o.data.message);case 17:e.prev=17,e.t0=e.catch(4),v.current=!1,U.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,17]])})))).apply(this,arguments)}function y(){return Object(Y.d)(p.current)}function w(){return document.querySelector(".dislike-item.report-".concat(t))}return i.a.createElement("div",{className:"dislike-type-wrapper report",onMouseEnter:h,onMouseLeave:g},i.a.createElement(H,{className:"report-".concat(t),type:"report",hasArrow:!0,onFocus:h,onBlur:g,onClick:h,getListItems:y}),i.a.createElement("div",{className:"dislike-type-panel",style:{display:d?"block":"none"}},i.a.createElement("ul",{ref:p},Y.b.map((function(e){return i.a.createElement("li",{key:e.id},i.a.createElement(G,{onFocus:h,onClick:function(){return function(e){return _.apply(this,arguments)}(e)},getListItems:y,getParant:w},e.name))})))))},z=(n("0cf12f4e582259e8d6e3"),function(e){var t=e.data,n=e.onRef,r=e.onDislike,a=e.onPanelOpen,c=e.onPanelClose,u=Object(o.useState)(!1),l=R()(u,2),s=l[0],f=l[1];function d(){f(!1),null==c||c()}return Object(o.useImperativeHandle)(n,(function(){return{hidePanel:function(){d()}}})),i.a.createElement("div",{className:"dislike-type-wrapper block"},i.a.createElement(H,{type:"block",desc:t.name,onClick:function(){f(!0),null==a||a()}}),i.a.createElement("div",{className:"dislike-type-panel",style:{display:s?"block":"none"}},i.a.createElement("div",{className:"dislike-type-panel-container"},i.a.createElement("div",{className:"dislike-type-panel-title"},"\u786e\u5b9a\u62c9\u9ed1\u8be5\u7528\u6237\uff1f"),i.a.createElement("div",{className:"dislike-type-panel-desc"},"\u62c9\u9ed1\u540e\u6b64\u7528\u6237\u4e0d\u80fd\u5173\u6ce8\u4f60\uff0c\u4e5f\u65e0\u6cd5\u7ed9\u4f60\u53d1\u9001\u4efb\u4f55\u6d88\u606f"),i.a.createElement("div",{className:"dislike-type-panel-button"},i.a.createElement("button",{className:"dislike-button-cancel",type:"button",disabled:!s,onClick:d},"\u53d6\u6d88"),i.a.createElement("button",{className:"dislike-button-commit",type:"button",disabled:!s,onClick:function(){r(t)}},"\u786e\u5b9a")))))}),q=(n("1d4bf58ebc5c26c7536d"),function(e){var t=e.groupId,n=e.data,r=e.disabledOpen,a=e.onDislike,c=Object(o.useState)(!1),u=R()(c,2),l=u[0],s=u[1],f=Object(o.useRef)(null),d=Object(o.useRef)(-1),m=null==n?void 0:n.map((function(e){return e.name})).join("\u3001");function p(){r||(clearTimeout(d.current),s(!0))}function b(){clearTimeout(d.current),d.current=window.setTimeout((function(){s(!1)}),50)}function v(){return Object(Y.d)(f.current)}function h(){return document.querySelector(".dislike-item.shield-".concat(t))}return i.a.createElement("div",{className:"dislike-type-wrapper shield",onMouseEnter:p,onMouseLeave:b},i.a.createElement(H,{className:"shield-".concat(t),type:"shield",desc:m,hasArrow:!0,onFocus:p,onBlur:b,onClick:p,getListItems:v}),i.a.createElement("div",{className:"dislike-type-panel",style:{display:l?"block":"none"}},i.a.createElement("ul",{ref:f},n.map((function(e){return i.a.createElement("li",{key:e.id},i.a.createElement(G,{className:"shield-subitem",onFocus:p,onClick:function(){return a(e)},getListItems:v,getParant:h},i.a.createElement("span",null,"\u5c4f\u853d\uff1a"),i.a.createElement("span",null,e.name)))})))))}),X=function(e){var t=e.data,n=void 0===t?{}:t,r=e.isMultiVideo,a=e.disableReport,c=e.disable,u=e.onDislike,l=e.onDislikeClick,f=n.groupId,d=n.itemId,m=n.filterWords,p=n.source,b=Object(o.useContext)(D.a),v=Object(o.useRef)(!1),h=Object(o.useRef)(null),g=Object(o.useRef)(null),_=Object(o.useState)(!1),y=R()(_,2),w=y[0],E=y[1],k=Object(o.useState)(!1),O=R()(k,2),j=O[0],C=O[1],I=Object(o.useState)(!1),x=R()(I,2),S=x[0],L=x[1],V=Object(Y.c)(m),F=V.unInterestData,H=V.blockData,W=V.shieldData;function G(e){if(!c){var t=(null==e?void 0:e.currentTarget.getBoundingClientRect())||{},n=t.top,r=void 0===n?1/0:n,a=t.height,o=r+(void 0===a?0:a)/2<window.innerHeight/2;E(!0),C(o),l()}}function X(){var e;E(!1),null===(e=g.current)||void 0===e||e.hidePanel()}function Q(e){return Z.apply(this,arguments)}function Z(){return(Z=N()(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.current){e.next=2;break}return e.abrupt("return");case 2:if(!t.id||Object(M.a)(b)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,v.current=!0,e.next=8,P.a.user.dislikeFeed(d,f,t.id);case 8:"success"===e.sent.data.message?(null===(n=document.querySelector(".dislike-wrapper.dislike-button-".concat(f)))||void 0===n||n.focus(),u(t.dislikeType),!r&&U.a.info("\u5c06\u51cf\u5c11\u7c7b\u4f3c\u5185\u5bb9\u7684\u63a8\u8350")):U.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),v.current=!1,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),v.current=!1,U.a.info("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}function J(e){var t;(null===(t=h.current)||void 0===t?void 0:t.contains(e.target))||X()}return Object(o.useEffect)((function(){return w?(window.addEventListener("click",J),window.addEventListener("keydown",J)):(window.removeEventListener("click",J),window.removeEventListener("keydown",J)),function(){window.removeEventListener("click",J),window.removeEventListener("keydown",J)}}),[w]),i.a.createElement("div",{className:"feed-card-footer-dislike-cmp",ref:h},i.a.createElement(A.a,{onOpen:s.c,onClose:s.c,getListItems:Y.d},i.a.createElement(A.a.MenuButton,{onKeyDown:function(e){var t=e.keyCode;13!==t&&32!==t||(e.preventDefault(),e.stopPropagation(),G(e))}},i.a.createElement("div",{className:"dislike-wrapper dislike-button-".concat(f),onClick:G},i.a.createElement("i",{className:"dislike-icon"}))),i.a.createElement(A.a.MenuList,null,i.a.createElement("ul",{className:"dislike-type-list ".concat(j?"panel-bottom":"panel-top"),style:{display:w?"block":"none"}},i.a.createElement("li",null,i.a.createElement(B,{data:F,onDislike:function(e){if(!S){var t;if(!b)return null===(t=document.querySelector(".dislike-wrapper.dislike-button-".concat(f)))||void 0===t||t.focus(),u(e.dislikeType),void(!r&&U.a.info("\u5df2\u4e3a\u4f60\u9690\u85cf\u6b64\u5185\u5bb9\uff0c\u767b\u5f55\u540e\u63a8\u8350\u66f4\u51c6\u786e"));Q(e)}}})),!a&&i.a.createElement("li",null,i.a.createElement(K,{groupId:f,source:p,disabledOpen:S,userInfo:b,onDislike:u})),H&&i.a.createElement("li",null,i.a.createElement(z,{data:H,onRef:function(e){return g.current=e},onPanelOpen:function(){L(!0)},onPanelClose:function(){L(!1)},onDislike:Q})),0!==W.length&&i.a.createElement("li",null,i.a.createElement(q,{groupId:f,data:W,disabledOpen:S,onDislike:Q}))))))};function Q(e,t){var n=j()(e);if(k.a){var r=k()(e);t&&(r=r.filter((function(t){return w()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Z=function(e){return i.a.createElement(X,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):_.a?h()(e,_()(n)):Q(Object(n)).forEach((function(t){b()(e,t,w()(n,t))}))}return e}({},e))},J=n("0aab18c30afb7e36a8bb"),$=(n("600ef62ec3ad32ec1243"),n("6740510cbb0e5ccf88eb")),ee=n("ed0e645fb10944a4fb8f");function te(e,t){var n=j()(e);if(k.a){var r=k()(e);t&&(r=r.filter((function(t){return w()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):_.a?h()(e,_()(n)):te(Object(n)).forEach((function(t){b()(e,t,w()(n,t))}))}return e}var re=function(e){var t,n=e.data,r=e.wttRepostParams,a=e.onSuccess,c=e.onShareAction,u=e.onWttSubmit,l=Object(o.useContext)(D.a);l=e.loginUserInfo||l;var f,d=n.groupId,m=n.itemId,p=n.userInfo,b=n.repostParams,v=n.title,h=n.content,g=n.coverUrls,_=n.articleUrl,y=n.detailUrl,w=n.commentType,E=n.originGroup,k=n.originThread,O=n.originUgcVideo,j=n.originCommonContent,C=n.cover||(null==g?void 0:g[0]),I={title:v||(null===(t=Object(s.d)(h))||void 0===t?void 0:t.slice(0,150))||"",url:_||y,cover:C},x=Object($.a)({commentType:w,originGroup:E,originThread:k,originUgcVideo:O,originCommonContent:j}),T={content:v||Object(s.d)(h),cover:C,user:p&&{name:p.name,uid:p.userSecToken}};x&&(T={content:x.content,cover:null===(f=x.coverUrls)||void 0===f?void 0:f[0],user:x.userInfo&&{name:x.userInfo.name,uid:x.userInfo.uid}});var S={origin:T,repostParams:ne(ne({fw_id:d,opt_id:d,group_id:d,item_id:m,fw_user_id:Object(ee.j)(p),repost_to_comment:1,title:v},r),b),loginUserInfo:l&&{uid:l.userId}};return i.a.createElement("div",{className:"feed-card-footer-share-cmp"},i.a.createElement(J.a,{openType:"click",shareConfig:I,wtt:S,onShare:a,onShareAction:c,onWttSubmit:u}))},ae=(n("5f490fd0667aa88b93fb"),function(e){var t=Object(o.useRef)(!1),n=Object(o.useContext)(D.a),r=Object(o.useMemo)((function(){return 0===e.likeCount?"\u8d5e":Object(s.j)(e.likeCount)}),[e.likeCount]);function a(){return(a=N()(T.a.mark((function r(){var a;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(Object(M.a)(e.loginUserInfo||n)){r.next=2;break}return r.abrupt("return");case 2:if(!t.current){r.next=4;break}return r.abrupt("return");case 4:return r.prev=4,t.current=!0,r.next=8,P.a.user.diggArticle(e.groupId,e.isLiked?-1:1,e.diggType);case 8:if("success"!==(a=r.sent).data.message){r.next=14;break}e.onLikeChange(e.isLiked?0:1),t.current=!1,r.next=15;break;case 14:throw new Error(a.data.message);case 15:r.next=22;break;case 17:r.prev=17,r.t0=r.catch(4),U.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),t.current=!1,console.error(r.t0);case 22:case"end":return r.stop()}}),r,null,[[4,17]])})))).apply(this,arguments)}return i.a.createElement("div",{className:"feed-card-footer-like-cmp"},i.a.createElement("button",{type:"button","aria-label":"".concat(Object(s.j)(e.likeCount),"\u70b9\u8d5e"),"aria-pressed":e.isLiked,className:l()("inner",{liked:e.isLiked}),onClick:function(){return a.apply(this,arguments)}},i.a.createElement("i",null),i.a.createElement("span",null,r)))}),oe=(n("0faef3a5864b370ab140"),function(e){var t=e.styleType,n=e.text;return i.a.createElement("div",{className:l()("feed-card-footer-tag-cmp",{"tag-style":"tag"===t})},n)})},"54b2d6dda1f17486c719":function(e,t,n){"use strict";var r=n("5d291d9463c9af975b92"),a=new(n.n(r).a),o="feed_action_refresh",i="feed_action_change_channel",c="feed_action_scrollTo_top",u="play_video",l="feed_action_change_pointStatus",s={refresh:function(e){a.addListener(o,e)},scrollToTop:function(e){a.addListener(c,e)},changeChannel:function(e){a.addListener(i,e)},playVideo:function(e){a.addListener(u,e)},changePointStatus:function(e){a.addListener(l,e)}},f={refresh:function(e){a.removeListener(o,e)},scrollToTop:function(e){a.removeListener(c,e)},changeChannel:function(e){a.removeListener(i,e)},playVideo:function(e){a.removeListener(u,e)},changePointStatus:function(e){a.removeListener(l,e)}},d={refresh:function(){a.emit(o)},scrollToTop:function(){a.emit(c)},changeChannel:function(e,t){a.emit(i,e,t)},playVideo:function(e){a.emit(u,e)},changePointStatus:function(e){a.emit(l,e)}};t.a={on:s,off:f,emit:d}},"54d78c4ccd85f964eb38":function(e,t,n){e.exports=n.p+"svgs/video_icon.a243e80b.svg"},"55545edfe9557f8e9717":function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("92c8006d8139d763c605"),v=n.n(b),h=n("ee10aab64b9ea632f5ab"),g=n.n(h),_=n("881258775ad04daaf512"),y=n.n(_),w=n("819716bda1fd0681a754"),E=n.n(w),k=n("fbbd810ddf979da8e79a"),O=n.n(k),j=n("dfb30137603785af9d6e"),C=n.n(j),I=n("098de4f1853062b3a141"),x=n.n(I),T=(n("e6c0fa9948fe7e0bc082"),n("2422758950d9f66b7423")),S=n("ed0e645fb10944a4fb8f"),N=n("78e411ccf7a9a0caceb3"),L=n("fc117aacb27df2ddee39"),R=n("fb622297466e7a637f99"),A=n("41e81a6b6b2e87160a0d"),P=n("5616f33a71e39794ee3e"),D=n("546ca7f10f62589ab9f4"),M=n("38c58096afa111fcdfd2"),U=n("1e93314aaf7aabdbfbff"),V=n("9a261fd8feb2690e8f07"),F=n("b65c96faf0c123cf88e4");function H(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):u.a?i()(e,u()(n)):H(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var W=function(e){var t,n=e.data,r=e.logParams,a=e.footer,o=e.disableDislike,i=e.onClickToDetail,c=e.onDislike,u=e.onDislikeClick,l=Object(j.useState)(!1),s=O()(l,2),f=s[0],d=s[1],m=Object(S.h)(null===(t=n.__channel_info)||void 0===t?void 0:t.key,n.tabKey),p=e.logInfo||B(B({},Object(N.b)(n)),{},{group_type:n.__group_type});function b(){i(),d(!0)}return C.a.createElement("div",{className:x()("feed-card-video-multi-item",{visited:f})},C.a.createElement("div",{className:"feed-video-item"},C.a.createElement(F.a,{cover:n.cover,articleUrl:n.detailUrl,duration:n.duration,desc:n.title,logInfo:p,jumpQuery:m?{from_scene:m}:void 0,onClickToDetail:b})),C.a.createElement(M.a,{className:"title",href:n.detailUrl,target:"_blank",rel:"noopener nofollow",title:n.title,jumpQuery:m?{from_scene:m}:void 0,logInfo:p,onClick:b},n.title),C.a.createElement("div",{className:"footer"},a||C.a.createElement(P.a,{leftTools:[C.a.createElement(D.a,{key:"author",userInfo:n.userInfo,source:n.source,logInfo:r}),C.a.createElement(D.b,{key:"comment",commentCount:n.commentCount,articleUrl:n.detailUrl,inside:!1,logInfo:p,onClickToDetail:b}),C.a.createElement(D.h,{key:"time",timestamp:n.timestamp})],rightTools:[C.a.createElement(D.d,{key:"dislike",data:{groupId:n.groupId,itemId:n.itemId,filterWords:n.filterWords,source:T.h.VIDEO},disable:o,onDislike:c,onDislikeClick:u})]})))};t.b=function(e){var t=e.logParams,n=e.formattedParams,r=e.onClickToDetail,a=e.onDislike,o=e.onDislikeClick,i=e.onHideCell,c=Object(j.useState)(e.data.slice(0,2)),u=O()(c,2),l=u[0],s=u[1],f=Object(j.useState)(1/0),d=O()(f,2),m=d[0],p=d[1],b=Object(j.useState)(!1),h=O()(b,2),_=h[0],w=h[1],E=Object(j.useRef)(!1),k=l[0].__channel_id,I=Object(L.a)({videoType:T.j.VIDEO,data:e.data.slice(2),channelId:k}),S=Object(j.useMemo)((function(){return l.reduce((function(e,t){return e&&!!t.error}),!0)}),[l]);function N(e,t,n){return[].concat(y()(e.slice(0,t)),[n],y()(e.slice(t+1)))}function P(){return(P=g()(v.a.mark((function e(t,r,o){var i,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=y()(l),p(r),a({target:t,dislikeType:o}),E.current=!0,setTimeout((function(){E.current&&(i=N(i,r,{loading:!0}),s(i))}),250),setTimeout((function(){p(1/0)}),550),w(!0),e.next=9,I();case 9:c=e.sent,E.current=!1,c=c?B(B({},c),n):{error:!0},i=N(i,r,c),s(i),w(!1),Object(R.d)(c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.useEffect)((function(){S&&i()}),[S]),C.a.createElement(A.a,{cell:l},C.a.createElement("div",{className:"feed-card-video-multi"},C.a.createElement("ul",null,l.map((function(e,n){return C.a.createElement("li",{key:e.groupId,className:x()("multi-card-wrapper",{animate:m===n})},e.error&&C.a.createElement(U.a,null),e.loading&&C.a.createElement(V.a,null),!e.error&&!e.loading&&C.a.createElement(W,{data:e,logParams:t,disableDislike:_,onClickToDetail:function(){return r(e)},onDislike:function(t){return function(e,t,n){return P.apply(this,arguments)}(e,n,t)},onDislikeClick:function(){return o(e)}}))})))))}},"557373be2aadb4ef8066":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("90cd159fadd272c59cf2"),a=n.n(r),o=n("4e16ef1abe038022cfb8"),i=n("c1428f02c35d581c417d"),c={CODEC_TYPE_ERROR:"video-codec-type-error",VIDEO_PLAYER_ERROR:"video-player-error",ERROR_TIPS_SHOW_COUNT:"show-video-error-tips"};function u(e){var t=Object(i.a)(e);if("h264"!==t){var n={codecType:t,videoId:e.videoId,videoType:e.videoType,groupId:e.groupId};Object(o.c)(a()(n),c.CODEC_TYPE_ERROR)}}},"5616f33a71e39794ee3e":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r);n("ab64641ae399574b8de3");t.a=function(e){return a.a.createElement("div",{className:"feed-card-footer-cmp"},a.a.createElement("div",{className:"left-tools"},e.leftTools),a.a.createElement("div",{className:"right-tools"},e.rightTools))}},"5c205b27178ea18852dc":function(e,t,n){},"5df478ec6b7652651304":function(e,t,n){},"5e2f6fd90cd06c4f8232":function(e,t,n){},"5e7f2e44791decdd308c":function(e,t,n){},"5f2df22a04de7668a003":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o);n("dcd566af2718bbdb1570");t.a=function(e){var t=e.size,n=e.className,r=e.url,o=e.authType,c=e.alt,u=void 0===c?"":c;return a.a.createElement("div",{className:i()("ttp-avatar","auth-".concat(o||"none"),n,t,{auth:o})},r&&a.a.createElement("img",{src:globalThis.getFilterXss().filterUrl(r,null,{logType:"js.href/src",reportOnly:"all"}),alt:u}))}},"5f43154fbbba23e15710":function(e,t,n){"use strict";n("281981c6b99b2a82c28b"),n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("21460410443b5c09d963"),n("714667d626fd04a26548"),n("1c4b8d4085d28a8b83d7"),n("fc3363cb05869232e380");var r,a=n("dfb30137603785af9d6e"),o=n.n(a),i=n("098de4f1853062b3a141"),c=n.n(i),u=(n("90bda7f5dc4311789c33"),n("102c68ff4eb277341743")),l=n("ec7d18b3433a1d1d5e4e");!function(e){e[e.SYSTEM=1]="SYSTEM",e[e.COMMENT=2]="COMMENT",e[e.FOLLOW=3]="FOLLOW",e[e.DIGG=4]="DIGG",e[e.MENTION=5]="MENTION",e[e.LETTER=100]="LETTER",e[e.WENDA_INVITE=101]="WENDA_INVITE"}(r||(r={}));var s={text:"\u6d88\u606f",url:"https://mp.toutiao.com/profile_v4/message/center?type=system&mp_hide_header=true",iconType:"message",msgType:r.SYSTEM},f=[{text:"\u7cfb\u7edf\u901a\u77e5",url:"https://mp.toutiao.com/profile_v4/message/center?type=system&mp_hide_header=true",iconType:"system_notice",msgType:r.SYSTEM},{text:"\u8bc4\u8bba",url:"https://mp.toutiao.com/profile_v4/message/center?type=comment&mp_hide_header=true",iconType:"comment",msgType:r.COMMENT},{text:"\u7c89\u4e1d",url:"https://mp.toutiao.com/profile_v4/message/center?type=follow&mp_hide_header=true",iconType:"fans",msgType:r.FOLLOW},{text:"\u70b9\u8d5e",url:"https://mp.toutiao.com/profile_v4/message/center?type=digg&mp_hide_header=true",iconType:"like",msgType:r.DIGG},{text:"@\u6211",url:"https://mp.toutiao.com/profile_v4/message/center?type=at_me&mp_hide_header=true",iconType:"at",msgType:r.MENTION},{text:"\u79c1\u4fe1",url:"https://mp.toutiao.com/profile_v4/message/center?type=private_letter&mp_hide_header=true",iconType:"direct_message",msgType:r.LETTER},{text:"\u95ee\u7b54\u9080\u8bf7",url:"https://mp.toutiao.com/profile_v4/wenda/home/invite",iconType:"wenda_invite",msgType:r.WENDA_INVITE}];function d(e){return e>99?"99+":String(e)}var m,p=n("c3f6c65547e619f96c18"),b=n("90b824f4de3f20fa2f01"),v=n("5198e738d473f46c850b"),h=n("fa39963efae5fe5415e8"),g=n("5d291d9463c9af975b92"),_=new(n.n(g).a);!function(e){e.UPDATE_UNREAD_MESSAGE_COUNT="update_unread_message_count"}(m||(m={}));var y={updateUnreadCount:function(e){_.addListener(m.UPDATE_UNREAD_MESSAGE_COUNT,e)}},w={updateUnreadCount:function(e){_.removeListener(m.UPDATE_UNREAD_MESSAGE_COUNT,e)}},E={updateUnreadCount:function(e){_.emit(m.UPDATE_UNREAD_MESSAGE_COUNT,e)}},k=n("df5cca4a56fea3883d19"),O=n("d9c75f65b66c037f4131");function j(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))}}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inited=!1}var t,r,a,o,i;return t=e,(r=[{key:"start",value:function(e){this.onUnreadCountChange=e.onUnreadCountChange,this.inited||(this.inited=!0,this.init(e.userId,e.webId))}},{key:"end",value:function(){var e;null===(e=this.imInstance)||void 0===e||e.dispose()}},{key:"init",value:(i=C(regeneratorRuntime.mark((function e(t,r){var a,o,i,c,u,l,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.c){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all([n.e(4),n.e(0),n.e(3)]).then(n.bind(null,"1ba6d7ee08290cb0aff4"));case 4:return a=e.sent,o=a.BytedIM,i=a.ExtensionPlugin,c=a.IMEvent,u=a.im_proto,l=a.MetricsPlugin,this.imInstance=new o({appId:k.b,token:"",userId:"",secUid:t,deviceId:r,fpId:89,service:2,appKey:"e0f82475ab9dbf5717d18b4a9c0d7fd0",debug:!1,boe:O.a,disableInitPull:!0,authType:u.AuthType.SESSION_AUTH,apiUrl:"https://imapi.toutiao.com",frontierUrl:"wss://frontier-im.toutiao.com/ws/v2",withCredentials:!0,metrics:window.Slardar},[i,l]),e.next=13,this.imInstance.init();case 13:return this.imInstance.event.subscribe(c.ConversationChange,C(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.imInstance){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.getUnreadCount();case 4:case"end":return e.stop()}}),e)})))),e.next=16,this.getUnreadCount();case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getUnreadCount",value:(o=C(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.imInstance)||void 0===t?void 0:t.getServerUnreadCountByUser({});case 3:if(!(n=e.sent)){e.next=7;break}return this.onUnreadCountChange(n),e.abrupt("return");case 7:throw new Error("no unread count");case 10:e.prev=10,e.t0=e.catch(0),Object(b.b)(e.t0,"get-unread-count-fail");case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return o.apply(this,arguments)})}])&&I(t.prototype,r),a&&I(t,a),e}()),T=n("742f59eaa59127e610f4"),S=n("f9dd4d76c78fe11efa84"),N=n("f1419b67ef4472693a2c"),L=n("c1d32d7b2c2ebdde5bde");function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,c,"next",e)}function c(e){A(o,r,a,i,c,"throw",e)}i(void 0)}))}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=Object(L.b)((function(e){var t=e.userId,n=e.webId,i=e.logParams,m=e.theme,g=e.listening,_=D(Object(a.useState)(!1),2),k=_[0],O=_[1],j=D(Object(a.useState)({}),2),C=j[0],I=j[1],L=D(Object(a.useState)(f),2),A=L[0],M=L[1],U=Object(a.useRef)(-1),V=Object(a.useRef)(-1),F=Object(a.useRef)(!1),H=Object(a.useMemo)((function(){return A.reduce((function(e,t){return e+Number(t.count||0)}),0)}),[A]);Object(a.useEffect)((function(){var e=f.map((function(e){return Object.assign(Object.assign({},e),{count:C[e.msgType]||0})}));M(e),E.updateUnreadCount(e)}),[C]);var B=Object(a.useCallback)(P(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.notice.getUnreadMsg();case 3:if(0===(t=e.sent).data.error_code){e.next=6;break}throw new Error(t.data.error_msg);case 6:I((function(e){var n;return((null===(n=t.data.data)||void 0===n?void 0:n.tab_list)||[]).reduce((function(e,t){return e[t.tab_type]=t.unread_count,e}),Object.assign({},e))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(b.a)("fetch_msg_error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]),W=Object(a.useCallback)(P(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.notice.getWendaUnreadMsg();case 3:if(0===(t=e.sent).data.code){e.next=6;break}throw new Error(t.data.message);case 6:I((function(e){return Object.assign(Object.assign({},e),R({},r.WENDA_INVITE,t.data.data.NewInvitedCount))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(b.a)("fetch_wenda_msg_error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]),Y=Object(a.useCallback)((function(e){M(e)}),[]),G=Object(a.useCallback)((function(e){I((function(t){return Object.assign(Object.assign({},t),R({},r.LETTER,e))}))}),[]),K=Object(a.useCallback)(P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.b)(1500);case 2:B(),W(),x.start({userId:t,webId:n,onUnreadCountChange:G}),U.current=window.setInterval((function(){F.current||B()}),6e4),V.current=window.setInterval((function(){F.current||W()}),6e5);case 7:case"end":return e.stop()}}),e)}))),[B,W,G,t,n]);function z(e,n){if(n.stopPropagation(),t){Object(u.a)("top_bar_click",{action_type:"click",icon_type:e.iconType,page_name:i.page_name});var r=Object(v.d)(e.url,{entrance:location.pathname});window.open(r)}else N.a.show({logParams:{enter_method:"message"}})}function q(e,t){var n=e.keyCode;n!==p.a.ENTER&&n!==p.a.SPACE||(e.preventDefault(),z(t||s,e))}return Object(a.useEffect)((function(){if(t)return g?y.updateUnreadCount(Y):K(),function(){clearInterval(U.current),clearInterval(V.current),!g&&x.end(),w.updateUnreadCount(Y)}}),[]),Object(a.useEffect)((function(){var e=function(){"visible"===document.visibilityState?F.current=!1:"hidden"===document.visibilityState&&(F.current=!0)};return window.addEventListener("visibilitychange",e),function(){window.removeEventListener("visibilitychange",e)}}),[]),Object(a.useEffect)((function(){k&&Object(u.a)("top_bar_click",{action_type:"expand",icon_type:"message",page_name:i.page_name})}),[k]),o.a.createElement(T.a,{onOpen:function(){t&&O(!0)},onClose:function(){O(!1)}},o.a.createElement(T.a.MenuButton,{onKeyDown:q},o.a.createElement("div",{"aria-label":"\u6d88\u606f\u901a\u77e5",className:c()("ttp-header-notice",{dark:"dark"===m,black:"black"===m}),onClick:function(e){return z(s,e)}},!!H&&o.a.createElement("div",{className:"notice-count"},d(H)),o.a.createElement("a",{className:"notice-icon",rel:"nofollow"},"\u6d88\u606f"),t&&o.a.createElement(S.a,{visible:k,transformOrigin:"24px top"},o.a.createElement("div",{className:"notice-list"},o.a.createElement(T.a.MenuList,null,o.a.createElement("div",null,A.map((function(e){return o.a.createElement(T.a.MenuItem,{key:e.text,onKeyDown:function(t){return q(t,e)}},o.a.createElement("a",{onClick:function(t){return z(e,t)}},e.text,!!e.count&&o.a.createElement("i",{className:"notice-count"},d(e.count))))})))))))))}))},"5f490fd0667aa88b93fb":function(e,t,n){},"600ecdf555875453c941":function(e,t,n){"use strict";function r(e){return/^\d+$/.test(e)?"https://www.toutiao.com/c/user/".concat(e,"/"):"https://www.toutiao.com/c/user/token/".concat(e,"/")}n.d(t,"a",(function(){return r}))},"600ef62ec3ad32ec1243":function(e,t,n){},"60ea5d854a4999bbf092":function(e,t,n){},"617300dd2ee3a73fcfd5":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var r=n("a8b0120a79b3dcde8d12"),a=n.n(r),o=n("fbbd810ddf979da8e79a"),i=n.n(o),c=n("dfb30137603785af9d6e"),u=n("73f40e49daf0622f890e");function l(){return Number(Object(u.a)("__pwa_push_show_count"))}function s(e){var t=Object(c.useState)(!1),n=i()(t,2),r=n[0],o=n[1];return Object(c.useEffect)((function(){if(e){var t=l(),n=a()()-Number(Object(u.a)("__pwa_push_show_time"))>864e5;t<3&&n&&setTimeout((function(){o(!0),Object(u.b)("__pwa_push_show_count",String(t+1)),Object(u.b)("__pwa_push_show_time",String(a()()))}),1e3)}}),[e]),r}},"62c8e34ec184f27a864e":function(e,t,n){},"641fd1e48a712db13213":function(e,t,n){},"65f05d1287ec18e50d95":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n("881258775ad04daaf512"),a=n.n(r),o=["p3.toutiaoimg.com","p6.toutiaoimg.com","p9.toutiaoimg.com"];function i(e,t){if(!e||!t)return e;var n=e.split("?"),r=n[0].replace(/\.[a-z]*$/,"")+t;return n[1]&&(r+="?".concat(n[1])),r}function c(e){var t=e&&a()(e)||[].concat(o);return function(e){var n;if(!e)return e;var r=null===(n=e.match(/\/\/(.+com)\//))||void 0===n?void 0:n[1],a=t.shift();return r&&a?e.replace(r,a):e}}function u(e){var t;if(!e)return e;var n=null===(t=e.match(/[&?]x-signature=([^#&\b]+)/))||void 0===t?void 0:t[1];return n?e.replace(n,encodeURIComponent(n)):e}},"663529bce6ee6d8996f5":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getProfileTabs",(function(){return P})),n.d(r,"getRecentList",(function(){return D})),n.d(r,"getFeedData",(function(){return M})),n.d(r,"getFavData",(function(){return U})),n.d(r,"getFollowData",(function(){return V})),n.d(r,"getFeedList",(function(){return F})),n.d(r,"getHotNews",(function(){return H})),n.d(r,"getHotList",(function(){return B})),n.d(r,"getRelatedList",(function(){return W})),n.d(r,"getFeedApiData",(function(){return Y})),n.d(r,"getDetailRelatedList",(function(){return G})),n.d(r,"getDetailFeedList",(function(){return K})),n.d(r,"getDetailHotList",(function(){return z})),n.d(r,"getRefreshTips",(function(){return q})),n.d(r,"getHotVideoData",(function(){return X})),n.d(r,"getVideoData",(function(){return Q})),n.d(r,"getShortVideoData",(function(){return Z})),n.d(r,"getArticleRelatedList",(function(){return J}));var a={};n.r(a),n.d(a,"getWeatherCity",(function(){return te})),n.d(a,"getWeatherData",(function(){return ne}));var o={};n.r(o),n.d(o,"getFansStat",(function(){return oe})),n.d(o,"followUser",(function(){return ie})),n.d(o,"unfollowUser",(function(){return ce})),n.d(o,"getFansList",(function(){return ue})),n.d(o,"getFollowingList",(function(){return le}));var i={};n.r(i),n.d(i,"followUsers",(function(){return me})),n.d(i,"submitFeedback",(function(){return pe})),n.d(i,"likeArticle",(function(){return be})),n.d(i,"dislikeArticle",(function(){return ve})),n.d(i,"deleteUgcVideo",(function(){return he})),n.d(i,"deleteUgcContent",(function(){return ge})),n.d(i,"dislikeFeed",(function(){return _e})),n.d(i,"feedbackContent",(function(){return ye})),n.d(i,"repostContent",(function(){return we})),n.d(i,"diggArticle",(function(){return Ee}));var c={};n.r(c),n.d(c,"getCSRFToken",(function(){return ke})),n.d(c,"getTTAntiToken",(function(){return Oe}));var u={};n.r(u),n.d(u,"getReplyList",(function(){return Te})),n.d(u,"getTabComments",(function(){return Se})),n.d(u,"submitComment",(function(){return Ne})),n.d(u,"submitReply",(function(){return Le})),n.d(u,"commentAction",(function(){return Re})),n.d(u,"diggReply",(function(){return Ae})),n.d(u,"reportUser",(function(){return Pe}));var l={};n.r(l),n.d(l,"getWritingsList",(function(){return Ue})),n.d(l,"getSearchList",(function(){return Ve})),n.d(l,"toTopItem",(function(){return Fe})),n.d(l,"cancelTopItem",(function(){return He})),n.d(l,"getPopularWorks",(function(){return Be}));var s={};n.r(s),n.d(s,"getTccConfig",(function(){return We}));var f={};n.r(f),n.d(f,"getMatchList",(function(){return Ye}));var d=n("54868fd92a74e390355c"),m=n.n(d),p=n("007862268c2fc8134ebb"),b=n.n(p),v=n("c5054cf9c06ccf557fcd"),h=n.n(v),g=n("4f25322f10fce8ce9169"),_=n.n(g),y=n("a1370d8a46bf7fd478fc"),w=n.n(y),E=n("a0317e3b4020b526a9b2"),k=n.n(E),O=n("819716bda1fd0681a754"),j=n.n(O),C=n("90cd159fadd272c59cf2"),I=n.n(C),x=n("a99d8596674b8a971a00"),T=n("bd3497eff95c6980ce46"),S=n.n(T),N=n("10130cfc2ba27a09b7e5"),L=n("2422758950d9f66b7423");function R(e,t){var n=k()(e);if(w.a){var r=w()(e);t&&(r=r.filter((function(t){return _()(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):h.a?b()(e,h()(n)):R(Object(n)).forEach((function(t){m()(e,t,_()(n,t))}))}return e}function P(e){var t=S.a.stringify({token:e});return x.a.post("/api/pc/user/tabs_info",t)}function D(e,t){return x.a.get("/api/pc/media_hot/",{params:{media_id:t,user_token:e}})}function M(e,t,n){return"profile_collection"===e?x.a.get("/api/pc/list/feed",{params:{category:e,token:t,max_behot_time:n}}):x.a.get("/api/pc/feed/",{params:{category:e,utm_source:"toutiao",visit_user_token:t,max_behot_time:n}})}function U(e,t){return x.a.get("/c/user/favourite/",{params:{page_type:2,user_token:e,max_behot_time:0,count:20,max_repin_time:t}})}function V(e,t,n){var r="following"===e?"/c/user/following/":"/c/user/followed/";return x.a.get(r,{params:{user_token:t,cursor:n,count:20}})}function F(e,t){return x.a.get(e,{params:t})}function H(){return x.a.get("/api/pc/realtime_news/")}function B(){return x.a.get("/hot-event/hot-board/?origin=toutiao_pc")}function W(e){return x.a.get("/api/article/related/",{params:{group_id:e}})}function Y(e,t){var n=function(e){var t=N.a.get();switch(e){case t.all.channelId:return"pc_profile_recommend";case t.wenda.channelId:return t.wenda.category;default:return"pc_profile_channel"}}(e.channel_id),r=function(e,t){var n,r={},a=N.a.get();return e===a.follow.channelId?r.disable_raw_data=!0:e!==a.all.channelId&&(r.client_extra_params=I()({short_video_item:"filter"})),e===(null==t?void 0:t.channelId)&&(r=A(A(A({},r),t.apiParams),{},{client_extra_params:I()(A({short_video_item:"filter"},null===(n=t.apiParams)||void 0===n?void 0:n.client_extra_params))})),r}(e.channel_id,t);return x.a.get("/api/pc/list/feed",{params:A(A({},e),{},{category:n},r)})}function G(e){return x.a.get("/api/pc/list/feed",{params:{channel_id:94349561185,category:"pc_profile_channel",gid_need_related:e.gid}})}function K(e){return x.a.get("/api/pc/list/feed",{params:A({channel_id:0,category:"pc_profile_recommend",need_top:!1},e)})}function z(e){return x.a.get("/api/pc/list/feed",{params:{min_behot_time:0,category:"pc_profile_article",author_token:e.userId}})}function q(e){return x.a.get("/2/article/v88/refresh_tip/",{params:{category:"\u5173\u6ce8",refresh_tag:0,min_behot_time:e,count:20}})}function X(e){return x.a.get("/api/pc/list/feed",{params:{offset:e,channel_id:94349549395,max_behot_time:0,category:"pc_profile_channel",disable_raw_data:!0}})}function Q(){return x.a.get("/api/pc/list/feed",{params:{channel_id:3431225546,min_behot_time:0,max_behot_time:0,category:"pc_profile_dislike",disable_raw_data:!0}})}function Z(e){var t={channel_id:79953622879,tt_from:"card_draw",list_entrance:"more_shortvideo_category",client_extra_params:I()({short_video_card:"left_slip"})};return e===N.a.get().all.channelId&&(t.channel_id=79953622879,t.list_entrance="more_shortvideo"),x.a.get("/api/pc/list/feed",{params:A({min_behot_time:0,max_behot_time:0,category:"pc_profile_dislike",disable_raw_data:!0},t)})}function J(e){return x.a.get("/api/pc/list/feed",{params:{gid_need_related:e,channel_id:L.c.ARTICLE_RELATED,category:"pc_article_related",client_extra_params:I()({group_id:e})}})}function $(e,t){var n=k()(e);if(w.a){var r=w()(e);t&&(r=r.filter((function(t){return _()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):h.a?b()(e,h()(n)):$(Object(n)).forEach((function(t){m()(e,t,_()(n,t))}))}return e}function te(){return x.a.get("/stream/widget/local_weather/city/")}function ne(e){return x.a.get("/stream/widget/local_weather/data/",{params:ee({},e?{city:e}:{})})}function re(e,t){var n=k()(e);if(w.a){var r=w()(e);t&&(r=r.filter((function(t){return _()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):h.a?b()(e,h()(n)):re(Object(n)).forEach((function(t){m()(e,t,_()(n,t))}))}return e}function oe(e){var t=S.a.stringify({token:e});return x.a.post("/api/pc/user/fans_stat",t)}function ie(e,t){var n=e?"user_token":"user_id",r=e?null:{user_id:t};return x.a.post("/api/pc/user/follow",j()({},n,e||t),{params:r})}function ce(e,t){var n=e?"user_token":"user_id",r=e?null:{user_id:t};return x.a.post("/c/user/unfollow/",S.a.stringify(j()({},n,e||t)),{params:r})}function ue(e){return x.a.get("/api/pc/user/followed",{params:ae(ae({},e),{},{count:20})})}function le(e){return x.a.get("/api/pc/user/following",{params:ae(ae({},e),{},{count:e.count||20})})}var se=n("be6323750fae7868d676");function fe(e,t){var n=k()(e);if(w.a){var r=w()(e);t&&(r=r.filter((function(t){return _()(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):h.a?b()(e,h()(n)):fe(Object(n)).forEach((function(t){m()(e,t,_()(n,t))}))}return e}function me(e,t){return x.a.get("/c/user/".concat(e,"/"),{params:{user_token:t}})}function pe(e,t,n){var r=S.a.stringify({aid:13,appkey:"web",app_name:L.l,contact:e,content:"[".concat(window.location.host,"]").concat(t),extra_persistent_params:I()(n)});return x.a.post("/feedback/2/post_message/",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function be(e,t){return x.a.post("/group/repin/",S.a.stringify({group_id:e,item_id:t}))}function ve(e,t){return x.a.post("/group/unrepin/",null,{params:{group_id:e,item_id:t}})}function he(e){return x.a.post("/api/pc/user/delete",null,{params:{item_id:e}})}function ge(e){return x.a.post("/c/ugc/content/delete/",S.a.stringify(e))}function _e(e,t,n){return x.a.post("/user_data/batch_action/?aid=24",{actions:[de({action:"dislike",aggr_type:1,id:t,item_id:e,ad_extra:{},type:1,timestamp:Object(se.n)()},n?{filter_words:[n]}:{})]})}function ye(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L.h.ARTICLE,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=S.a.stringify({group_id:e,report_from:o||"web_detail_page",report_from2:o||"web_detail_page",platform:null,description:t,source:r,report_types:n,app_key:"toutiao-web"}),c={app_name:"toutiao-web",app_key:"toutiao-web",aid:L.k,webid:a};return x.a.post("/api/feedback/v1/report_content/",i,{params:c})}function we(e){return x.a.post("/c/ugc/content/repost/",S.a.stringify(de({},e)))}function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.d.WTT;return x.a.post("/api/pc/user/fans_digg",null,{params:{gid:e,op:t,type:n}})}function ke(){return x.a.get("/api/pc/info")}function Oe(){return x.a.get("/tt-anti-token")}var je=n("ad3ac99ada113225a3d8"),Ce=n.n(je);function Ie(e,t){var n=k()(e);if(w.a){var r=w()(e);t&&(r=r.filter((function(t){return _()(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):h.a?b()(e,h()(n)):Ie(Object(n)).forEach((function(t){m()(e,t,_()(n,t))}))}return e}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return x.a.get("/2/comment/v2/reply_list/",{params:{aid:L.k,app_name:L.l,id:e,offset:t,count:n,repost:r}})}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return x.a.get("/article/v2/tab_comments/",{params:{aid:L.k,app_name:L.l,offset:n,count:r,group_id:e,item_id:t}})}function Ne(e,t,n){return x.a.post("/browser/2/data/v5/post_message/",S.a.stringify({group_id:e,item_id:t,text:n}),{params:{aid:L.k,app_name:L.l}})}function Le(e,t,n,r){var a={id:e,content:t};return(n||r)&&(a.reply_user_id=n,a.reply_comment_id=r),x.a.post("/api/pc/2/comment/v3/create_reply/",S.a.stringify(a),{params:{aid:L.k,app_name:L.l}})}function Re(e,t,n){return x.a.post("/api/pc/2/data/comment_action/",S.a.stringify({comment_id:e,group_id:t,item_id:n,action:"digg"}),{params:{aid:L.k,app_name:L.l}})}function Ae(e,t){return x.a.get("/api/pc/2/comment/v1/digg_reply/",{params:{aid:L.k,app_name:L.l,id:e,reply_id:t,action:"digg"}})}function Pe(e){return x.a.post("/api/pc/feedback/2/report_user_comment/",S.a.stringify(xe(xe({},e),{},{report_source:0,source:1,aid:L.k})),{params:{aid:L.k,app_name:"toutiao-web",app_key:"toutiao-web",webid:Ce.a.get("tt_webid")}})}function De(e,t){var n=k()(e);if(w.a){var r=w()(e);t&&(r=r.filter((function(t){return _()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):h.a?b()(e,h()(n)):De(Object(n)).forEach((function(t){m()(e,t,_()(n,t))}))}return e}function Ue(e){return x.a.get("/api/pc/list/user/feed",{params:Me({},e)})}function Ve(e){return x.a.get("/api/pc/list/feed",{params:Me(Me({},e),{},{category:"profile_search"})})}function Fe(e){return x.a.post("/api/pc/user/stick",null,{params:{item_id:e}})}function He(e){return x.a.post("/api/pc/user/unstick",null,{params:{item_id:e}})}function Be(e){return x.a.get("/api/pc/list/feed",{params:{category:"pc_user_hot",token:e}})}function We(){return x.a.get("https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-toutiao.fe.toutiao_web_pc-common")}function Ye(e){return x.a.post("/api/pc/sjb/list",{match_ids:e})}var Ge={feed:r,weather:a,relation:o,user:i,csrf:c,comment:u,search:n("b201cefb7d33145ac7ad"),profile:l,tcc:s,sports:f};t.a=Ge},"6740510cbb0e5ccf88eb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("be6323750fae7868d676"),a=n("acff6c447f863638e55f");function o(e){var t,n,r=[];return(null===(t=e.large_image_list)||void 0===t?void 0:t.length)?r=e.large_image_list:(null===(n=e.image_list)||void 0===n?void 0:n.length)?r=e.image_list:e.middle_image&&(r=[].concat(e.middle_image)),r.map((function(e){return e.url.replace(/^http:/,"")}))}function i(e){var t=e.commentType,n=e.originGroup,i=e.originThread,c=e.originUgcVideo,u=e.originCommonContent,l=null;return n?l=function(e){var t=e.user_info,n=Object(r.s)((null==t?void 0:t.user_auth_info)||"{}");return{groupId:e.group_id_str,itemId:e.item_id_str,userInfo:t&&{uid:t.user_id,name:t.name,avatarUrl:t.avatar_url,authType:n.auth_type,authInfo:n.auth_info},content:e.title,coverUrls:o(e),articleUrl:Object(a.b)(a.a.ARTICLE,e.group_id_str),videoDuration:e.video_duration,hasVideo:e.has_video}}(n):i?l=function(e){var t=e.user,n=Object(r.s)((null==t?void 0:t.user_auth_info)||"{}");return{groupId:e.thread_id_str,itemId:e.thread_id_str,userInfo:t&&{uid:t.user_id,name:t.name,avatarUrl:t.avatar_url,authType:n.auth_type,authInfo:n.auth_info},content:e.content,coverUrls:o(e),articleUrl:Object(a.b)(a.a.WTT,e.thread_id_str)}}(i):c?l=function(e){var t,n=e.raw_data,o=null===(t=n.user)||void 0===t?void 0:t.info,i=Object(r.s)((null==o?void 0:o.user_auth_info)||"{}"),c=n.group_id_str||n.group_id;return{groupId:c,itemId:n.item_id_str||n.item_id,userInfo:o&&{uid:o.user_id,name:o.name,avatarUrl:o.avatar_url,authType:i.auth_type,authInfo:i.auth_info},content:n.title,coverUrls:(n.thumb_image_list||[]).map((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.replace(/^http:/,"")})).filter(Boolean),articleUrl:Object(a.b)(a.a.SELF_VIDEO,c),videoDuration:n.video.duration}}(c):u&&(l=function(e,t){var n,a,o,i=null===(n=e.user)||void 0===n?void 0:n.info,c=Object(r.s)((null==i?void 0:i.user_auth_info)||"{}"),u="";return 215===t&&(u=Object(r.m)("url",null===(o=e.schema)||void 0===o?void 0:o.split("?")[1])),{groupId:e.group_id_str,itemId:e.group_id_str,userInfo:i&&{uid:i.user_id,name:i.name,avatarUrl:i.avatar_url,authType:c.auth_type,authInfo:c.auth_info},content:e.title,coverUrls:((null===(a=e.cover_image)||void 0===a?void 0:a.url_list)||[]).map((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.replace(/^http:/,"")})).filter(Boolean),articleUrl:u}}(u,t)),l}},"698918b37c8f26bd36fc":function(e,t,n){},"69acd6c0377e854ef167":function(e,t,n){"use strict";n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("714667d626fd04a26548"),n("eef23a05705d8b46f87b");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o),c=n("6ebe1403b6a5cafdbcbe"),u=n.n(c),l=n("ad3ac99ada113225a3d8"),s=n.n(l),f=(n("62c8e34ec184f27a864e"),n("ae503583017af8138014"),n("44750f857690efd77995")),d=function(e,t){var n=e.visible,r=e.pos,o=e.children;return a.a.createElement(f.a,{className:"ttp-city-selector-portal",visible:n,closeTimeout:100},a.a.createElement("div",{className:"ttp-city-selector-dropdown-wrapper",ref:t,style:{left:r.x,top:r.y}},a.a.createElement("div",{className:"ttp-city-selector-dropdown"},o)))},m=a.a.forwardRef(d),p=n("0c48ad6a4a80b410134d"),b=n("b35cd4aad903919810e4");var v=n("102c68ff4eb277341743");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=new(n("746df2e38b77ac02d0d3").a),y={name:"\u5317\u4eac",code:"110000",channelId:3202164529};t.a=function(e){var t=e.cityInfo,n=e.dropdownWidth,o=e.offsetY,c=void 0===o?2:o,l=e.cacheCookieKey,f=void 0===l?p.b:l,d=e.cacheCookieExpires,g=void 0===d?p.a:d,w=e.logParams,E=e.theme,k=void 0===E?"light":E,O=e.onChange,j=h(Object(b.a)(),2),C=j[0],I=j[1],x=h(Object(r.useState)((function(){return t||y})),2),T=x[0],S=x[1],N=Object(r.useRef)(null),L=Object(r.useRef)(null),R=Object(r.useRef)(!1),A=Object(r.useRef)(null),P=h(Object(r.useState)(!1),2),D=P[0],M=P[1],U=h(Object(r.useState)({x:0,y:0}),2),V=U[0],F=U[1];function H(){M(!1)}function B(){var e=t||T,n=Object(b.b)(e.name,C);Object(v.a)("location_switch_cancel",Object.assign({location1_now:n,location2_now:e.name},w)),H()}function W(){var e,t=L.current;if(t){var r=t.getBoundingClientRect(),a=r.width||t.clientWidth;if(r.top<-a||r.top>window.innerHeight)B();else{var o=(null===(e=N.current)||void 0===e?void 0:e.clientHeight)||0,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,l=r.left+a/2-(n||256)/2+u,s=r.top+o+c+i;F({x:l,y:s})}}}var Y=Object(r.useCallback)((function(){R.current||(R.current=!0,u()((function(){W(),R.current=!1})))}),[C,t,T]);Object(r.useEffect)((function(){function e(e){if(D){var t=e.target,n=(null===Node||void 0===Node?void 0:Node.DOCUMENT_POSITION_CONTAINED_BY)||16;A.current&&t&&(A.current.compareDocumentPosition(t)&n||B())}}return window.addEventListener("click",e),D&&(window.addEventListener("scroll",Y),window.addEventListener("resize",Y)),function(){window.removeEventListener("click",e),window.removeEventListener("scroll",Y),window.removeEventListener("resize",Y)}}),[D,C,Y]),Object(r.useEffect)((function(){C&&_.exec(C)}),[C]),Object(r.useEffect)((function(){t&&!s.a.get(f)&&s.a.set(f,t.name,{expires:g})}),[]);var G=t||T;return a.a.createElement("div",{className:i()("ttp-city-selector-wrapper",{dark:"dark"===k,black:"black"===k}),ref:N},a.a.createElement("div",{className:"ttp-city-selector"},a.a.createElement("span",{className:"ttp-city-selector-current-name"},G.name),a.a.createElement("button",{type:"button","aria-label":"\u5207\u6362\u57ce\u5e02","aria-pressed":D,className:"ttp-city-selector-city-picker",ref:L,onClick:function(e){if(e.stopPropagation(),D)B();else if(W(),I(),M(!0),C){var n=t||T,r=Object(b.b)(n.name,C);Object(v.a)("location_switch_click",Object.assign({location1_now:r,location2_now:n.name},w))}else _.push((function(e){var n=t||T,r=Object(b.b)(n.name,e);Object(v.a)("location_switch_click",Object.assign({location1_now:r,location2_now:n.name},w))}))}})),a.a.createElement(m,{ref:A,visible:D,pos:V},a.a.createElement(p.c,{cities:C,city:G.name,cacheCookieKey:f,cacheCookieExpires:g,logParams:w,onCancel:H,onSubmit:function(e,n){var r=C[e][n];t||S(r),H(),null==O||O(r)}})))}},"6a1a59a792ab696fbf35":function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));var r=n("fbbd810ddf979da8e79a"),a=n.n(r),o=n("dfb30137603785af9d6e"),i=n.n(o),c=(n("031de0cb2c8fe1390617"),n("a8b0120a79b3dcde8d12")),u=n.n(c),l=n("6ebe1403b6a5cafdbcbe"),s=n.n(l);var f={linear:function(e,t,n,r){return n*e/r+t},easeInOutCubic:function(e,t,n,r){var a=e;return(a/=r/2)<1?n/2*a*a*a+t:n/2*((a-=2)*a*a+2)+t}};function d(e){var t=e.el,n=e.startY,r=e.targetY,a=e.duration,o=e.timingFunction,i=void 0===o?"easeInOutCubic":o,c=e.onEnd,l=u()();s()((function e(){var o=u()()-l,d=f[i](o>a?a:o,n,r,a);t.style.transform="translate3d(0px, ".concat(d,"px, 0px)"),o<a?s()(e):null==c||c()}))}var m=!0,p=function(e,t){var n=e.children,r=e.placeholderCover,c=Object(o.useRef)(null),u=Object(o.useState)(r),l=a()(u,2),s=l[0],f=l[1];function p(e){if(c.current){m=!1;var t=c.current.clientHeight/3,n=2*t;c.current.style.transform="translateY(".concat(-n,"px)"),c.current.style.cursor="none",d({el:c.current,startY:-n,targetY:t,duration:300,onEnd:function(){f(e.poster),c.current&&(c.current.style.transform=""),c.current&&(c.current.style.cursor=""),setTimeout((function(){return m=!0}))}})}}function b(e){if(c.current){m=!1,c.current.style.transform="translateY(0px)",c.current.style.cursor="none";var t=c.current.clientHeight/3;d({el:c.current,startY:0,targetY:-t,duration:300,onEnd:function(){f(e.poster),c.current&&(c.current.style.transform=""),c.current&&(c.current.style.cursor=""),setTimeout((function(){return m=!0}))}})}}return Object(o.useImperativeHandle)(t,(function(){return{prev:p,next:b}})),i.a.createElement("div",{className:"video-slider-wrapper"},i.a.createElement("ul",{ref:c},i.a.createElement("li",{className:"placeholder-cover"},s&&i.a.createElement("div",{className:"cover",style:{backgroundImage:"url(".concat(s,")")}})),i.a.createElement("li",{style:{position:"relative"}},n),i.a.createElement("li",{className:"placeholder-cover"},s&&i.a.createElement("div",{className:"cover",style:{backgroundImage:"url(".concat(s,")")}}))))};t.a=Object(o.forwardRef)(p)},"6b2174c63bb15d1d48ee":function(e,t,n){},"6b665e54945e23689021":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r);t.a=function(e){return e.isGreyTheme?a.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          html {\n            -webkit-filter: grayscale(100%);\n            -moz-filter: grayscale(100%);\n            -ms-filter: grayscale(100%);\n            -o-filter: grayscale(100%);\n            filter: progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);\n            filter: grayscale(100%);\n            filter: gray;\n          }\n        "}}):null}},"6cf195ddfada1b0033e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return k}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("08172d9560ad9ddbd809"),g=n("be6323750fae7868d676");function _(e){if(!e)return e;if(window.URL)try{return new URL(e).host}catch(n){return e}var t=document.createElement("a");return t.href=e,t.host}function y(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):y(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function E(e,t){window.collectEvent&&window.collectEvent(e,t||{})}function k(e,t){var n,r,a,o,i,c,u=window.sessionStorage.getItem("__ac_referer")||(window.byted_acrawler?null===(i=(c=window.byted_acrawler).getReferer)||void 0===i?void 0:i.call(c):document.referrer);null===(n=(r=window).collectEvent)||void 0===n||n.call(r,"config",w(w({},e),{},{user_unique_id:e.web_id,ab_sdk_version:(null==t?void 0:t.version_name)||"",user_agent:window.navigator.userAgent,referrer:u,referrer_host:_(u),is_pwa:"1"===Object(g.m)("from_pwa")||Object(h.c)()?"1":"0"})),null===(a=(o=window).collectEvent)||void 0===a||a.call(o,"start")}},"6ebc429a21c1841afaf9":function(e,t,n){n("281981c6b99b2a82c28b"),n("3001a3934397946b1a1f"),n("714667d626fd04a26548"),n("2f471b554280639ac064"),n("fcf49a6818505315bf37"),n("766e12dcdb4fa7d4e984"),n("ec8d8359f5c7295319ed"),n("e488a3ab7c7328d8f2f1"),n("78602745ab015ad6fbaa"),Object.assign=n("6d5b10dccc33b00ce6e9"),n("8b2664ae8eea21abf535"),n("5b580cc050963b8e22f5"),n("7ea4fdaca0b0ccd224bb"),n("bed884384adf1541e1f0"),"undefined"==typeof Promise&&(n("3bff8485c043d87e6d58").enable(),window.Promise=n("9f3e4ea7580c2efd241c"))},"6f344480eddd57e04406":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("4f6e6e2b02b6a70b9d23"),a=n.n(r),o=n("6bb41c796464fc214f15"),i=n.n(o),c=n("6104d0ccf35b3944ecf2"),u=n.n(c),l=n("4cc68b2efb2eff1c34aa"),s=n.n(l),f=n("f9aa1a8184c17c535d23"),d=n.n(f),m=n("b1b96d53056a3b30ef69"),p=n.n(m),b=n("34c0f6a91c0bdd59090c"),v=n("3b76dd97653dea47ddc2"),h=n("fdbcb2f5089886a59aee");function g(e){var t=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var _=function(e){s()(n,e);var t=g(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleVideoPlaying=function(){e.hidePoster()},e}return u()(n,[{key:"afterCreate",value:function(){this.player.on(h.b.PLAYING,this.handleVideoPlaying)}},{key:"destroy",value:function(){this.player.off(h.b.PLAYING,this.handleVideoPlaying)}},{key:"hidePoster",value:function(){b.a.addClass(this.root,"hide")}},{key:"showPoster",value:function(){b.a.removeClass(this.root,"hide")}},{key:"update",value:function(e){e&&(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"render",value:function(){var e=this.config.poster,t=e?"background-image:url(".concat(e,");"):"";return'\n      <xg-poster class="ttp-xgplayer-poster hide" style="'.concat(t,'">\n      </xg-poster>\n    ')}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{poster:""}}}]),n}(v.b)},"6f4cb0171dba87e45734":function(e,t,n){"use strict";var r=n("6bb41c796464fc214f15"),a=n.n(r),o=n("d5ea19a4a43e93540347"),i=n("2678b08b21fe126e57ce"),c=n("91b52644aaf37c1a441a"),u=n("9a6d52046a9932628ae8"),l=n("bb49792cce51cc2eac20"),s=n("a262c24142fa15f75e93"),f=n("84e9431b43bf71843c85"),d=n("997a44ee604c9ccfa8ae"),m=n("2c1d7c757760acb5482f"),p=n("c8c315dc775fdfc7c489"),b=n("4e19e12862d114f09ad6"),v=n("a81749b6fb57993f107c"),h=n("0ae55f3aeb8765b56936"),g=n("4f6e6e2b02b6a70b9d23"),_=n.n(g),y=n("6104d0ccf35b3944ecf2"),w=n.n(y),E=n("4cc68b2efb2eff1c34aa"),k=n.n(E),O=n("f9aa1a8184c17c535d23"),j=n.n(O),C=n("b1b96d53056a3b30ef69"),I=n.n(C),x=n("3b76dd97653dea47ddc2"),T=n("34c0f6a91c0bdd59090c"),S=n("3657bcf9a4e890c0525b"),N=n("fdbcb2f5089886a59aee");function L(e){var t=function(){if("undefined"==typeof Reflect||!_.a)return!1;if(_.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(_()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var a=I()(this).constructor;n=_()(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var R=x.b.POSITIONS,A=function(e){k()(n,e);var t=L(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(t){t.stopPropagation();var n=e.playerConfig.autoNext;e.playerConfig.autoNext=!n,T.a.toggleClass(e.root,"active"),e.emitUserAction(t,N.e.SWITCH_AUTO_NEXT,{autoNext:!n,from:n,to:!n}),e.emit(N.b.AUTONEXT_CHANGE,{from:{autoNext:n},to:{autoNext:!n}})},e.handleVideoPlayEnded=function(){if(e.playerConfig.autoNext&&!Object(S.a)()){var t=e.player.getPlugin("videoChange");t&&t.canNext&&t.playNext(N.f.AUTO_NEXT)}else e.player.replay()},e}return w()(n,[{key:"afterCreate",value:function(){this.bind(".xgplayer-autonext","click",this.handleClick),this.player.on(N.b.ENDED,this.handleVideoPlayEnded)}},{key:"destroy",value:function(){this.unbind(".xgplayer-autonext","click",this.handleClick),this.player.off(N.b.ENDED,this.handleVideoPlayEnded)}},{key:"render",value:function(){var e=this.config.default||this.playerConfig.autoNext;return'\n      <xg-icon class="xgplayer-autonext'.concat(e?" active":"",'">\n        <div class="xgplayer-icon btn-text">\n          <span class="icon-text">').concat(this.i18n.AUTO_NEXT,'</span>\n        </div>\n        <button type="button" class="autonext-switch-button"></button>\n      </xgi-con>\n    ')}}],[{key:"pluginName",get:function(){return"autoNext"}},{key:"defaultConfig",get:function(){return{position:R.CONTROLS_RIGHT,index:5,default:!1}}}]),n}(x.b),P=n("54868fd92a74e390355c"),D=n.n(P),M=n("007862268c2fc8134ebb"),U=n.n(M),V=n("c5054cf9c06ccf557fcd"),F=n.n(V),H=n("4f25322f10fce8ce9169"),B=n.n(H),W=n("a1370d8a46bf7fd478fc"),Y=n.n(W),G=n("a0317e3b4020b526a9b2"),K=n.n(G),z=n("819716bda1fd0681a754"),q=n.n(z);function X(e,t){var n=K()(e);if(Y.a){var r=Y()(e);t&&(r=r.filter((function(t){return B()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):F.a?U()(e,F()(n)):X(Object(n)).forEach((function(t){D()(e,t,B()(n,t))}))}return e}function Z(e){var t=function(){if("undefined"==typeof Reflect||!_.a)return!1;if(_.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(_()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var a=I()(this).constructor;n=_()(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var J=x.b.POSITIONS,$=function(e){k()(n,e);var t=Z(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).updateDefinitionList=function(t){if(t&&t.length){var n=e.player.getPlugin("definition");n&&n.changeDefinitionList(t.map((function(e){var t,n=e.definition,r=null===(t=N.a[n])||void 0===t?void 0:t.iconText;return r?Q(Q({},e),{},{iconText:r}):e})))}},e.updateMP4AutoDefinitionText=function(t){var n,r=t.definition,a=null===(n=e.player.root)||void 0===n?void 0:n.querySelector(".xgplayer-definition [url='__auto__']");a&&r&&(a.innerHTML="<span>\u81ea\u52a8&nbsp;(&nbsp;".concat(r.toLocaleUpperCase(),"&nbsp;)&nbsp;</span>"))},e.updateDashAutoDefinitionText=function(t,n){var r,a=null===(r=e.player.root)||void 0===r?void 0:r.querySelector(".xgplayer-definition [url='__auto__']");a&&n&&(a.innerHTML="<span>\u81ea\u52a8&nbsp;(&nbsp;".concat(n.toLocaleUpperCase(),"&nbsp;)&nbsp;</span>"))},e}return w()(n,[{key:"afterCreate",value:function(){this.player.on(N.b.RESOURCE_READY,this.updateDefinitionList),this.player.on(N.b.MP4_AUTO_DESC_CHANGE,this.updateMP4AutoDefinitionText),this.player.on(N.b.ABR_AUTO_DESC_CHANGE,this.updateDashAutoDefinitionText)}},{key:"destroy",value:function(){this.player.off(N.b.RESOURCE_READY,this.updateDefinitionList),this.player.off(N.b.MP4_AUTO_DESC_CHANGE,this.updateMP4AutoDefinitionText),this.player.off(N.b.ABR_AUTO_DESC_CHANGE,this.updateDashAutoDefinitionText)}}],[{key:"pluginName",get:function(){return"definitionText"}},{key:"defaultConfig",get:function(){return{position:J.CONTROLS_RIGHT,index:0}}}]),n}(x.b);function ee(e){var t=function(){if("undefined"==typeof Reflect||!_.a)return!1;if(_.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(_()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var a=I()(this).constructor;n=_()(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var te=x.b.POSITIONS,ne=function(e){k()(n,e);var t=ee(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleTimeUpdate=null,e.handleSeeking=null,e.cleanListener=function(){e.handleTimeUpdate&&e.player.off(N.b.TIME_UPDATE,e.handleTimeUpdate),e.handleSeeking&&e.player.off(N.b.SEEKING,e.handleSeeking)},e.handleDashVideoDefinitionChange=function(t){var n,r;e.cleanListener();var a=null===(n=e.player.getPlugin("definition"))||void 0===n||null===(r=n.curItem)||void 0===r?void 0:r.text;e.player.paused?e.end(a):(e.start(a),e.handleTimeUpdate=function(){e.player.currentTime>=t&&(e.end(a),e.cleanListener())},e.handleSeeking=function(){e.end(a),e.cleanListener()},e.player.on(N.b.TIME_UPDATE,e.handleTimeUpdate),e.player.on(N.b.SEEKING,e.handleSeeking))},e.handleMP4VideoDefinitionChange=function(){var t,n;e.cleanListener();var r=null===(t=e.player.getPlugin("definition"))||void 0===t||null===(n=t.curItem)||void 0===n?void 0:n.text;r.indexOf("\u81ea\u52a8")>-1?e.end(r):e.player.dash||e.player.config.videoModel.dynamic_video||e.end(r)},e.handleVideoChange=function(){e.cleanListener()},e.start=function(t){e.player.emit(N.b.SHOW_BOTTOM_LEFT_TIPS,{content:e.getText(t,"start"),autoClose:!1})},e.end=function(t){e.player.emit(N.b.SHOW_BOTTOM_LEFT_TIPS,{content:e.getText(t,"end")})},e.getText=function(e,t){return"start"===t?'\n        <div class="xgplayer-definition-change-tips">\n          <p class="text">\u6b63\u5728\u5207\u6362\u5230 <span class="highlight">'.concat(e,"</span> \u753b\u8d28\uff0c\u8bf7\u7a0d\u540e</p>\n        </div>\n      "):'\n        <div class="xgplayer-definition-change-tips">\n          <p class="text">\u5df2\u5207\u6362\u6210 <span class="highlight">'.concat(e,"</span> \u753b\u8d28</p>\n        </div>\n      ")},e}return w()(n,[{key:"afterCreate",value:function(){this.player.on(N.b.DEFINITION_SWITCH_TIME,this.handleDashVideoDefinitionChange),this.player.on(N.b.DEFINITION_CHANGE,this.handleMP4VideoDefinitionChange),this.player.on(N.b.PLAY_NEXT,this.handleVideoChange),this.player.on(N.b.PLAY_PREV,this.handleVideoChange),this.player.on(N.b.MANUAL_PLAY_NEXT,this.handleVideoChange)}},{key:"destroy",value:function(){this.player.off(N.b.DEFINITION_SWITCH_TIME,this.handleDashVideoDefinitionChange),this.player.off(N.b.DEFINITION_CHANGE,this.handleMP4VideoDefinitionChange),this.player.off(N.b.PLAY_NEXT,this.handleVideoChange),this.player.off(N.b.PLAY_PREV,this.handleVideoChange),this.player.off(N.b.MANUAL_PLAY_NEXT,this.handleVideoChange)}}],[{key:"pluginName",get:function(){return"definitionChangeTips"}},{key:"defaultConfig",get:function(){return{position:te.ROOT,index:0}}}]),n}(x.b),re=n("4a013326355ba5e09547"),ae=n("c087020a3cc93c265893");function oe(e){var t=function(){if("undefined"==typeof Reflect||!_.a)return!1;if(_.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(_()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var a=I()(this).constructor;n=_()(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}function ie(){window.localStorage.setItem("show_player_gesture_tips","0")}var ce=function(e){k()(r,e);var t=oe(r);function r(){var e;a()(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).lottie=null,e.anime=null,e.handleVideoChange=function(){e.hideTips(),e.cancelAnime()},e.loadAnime=function(){var t=e.find(".gesture-tips");t&&Promise.all([n.e(6),n.e(0)]).then(n.t.bind(null,"0f4b08071c1ba8109883",7)).then((function(n){e.lottie=n.default,e.anime=e.lottie.loadAnimation({container:t,renderer:"svg",loop:!1,autoplay:!1,path:"https://lf9-static.bytednsdoc.com/obj/eden-cn/uhbfnupkbps/lottie/video_player_gesture.json"}),e.anime.addEventListener("data_ready",e.handleAnimeDataReady),e.anime.addEventListener("complete",e.handleAnimeComplete)})).catch((function(e){console.error(e)}))},e.cancelAnime=function(){var t;null===(t=e.anime)||void 0===t||t.destroy()},e.handleAnimeDataReady=function(){var t;null===(t=e.anime)||void 0===t||t.playSegments([0,450],!0),e.showTips(),ie()},e.handleAnimeComplete=function(){e.hideTips(),e.cancelAnime()},e.handleClickContainer=function(){e.hideTips(),e.cancelAnime()},e.showTips=function(){e.show()},e.hideTips=function(){e.hide()},e}return w()(r,[{key:"afterCreate",value:function(){"0"!==window.localStorage.getItem("show_player_gesture_tips")&&(this.loadAnime(),this.bind("click",this.handleClickContainer),this.player.on(N.b.PLAY_NEXT,this.handleVideoChange),this.player.on(N.b.PLAY_PREV,this.handleVideoChange),this.player.on(N.b.MANUAL_PLAY_NEXT,this.handleVideoChange))}},{key:"destroy",value:function(){this.unbind("click",this.handleClickContainer),this.player.off(N.b.PLAY_NEXT,this.handleVideoChange),this.player.off(N.b.PLAY_PREV,this.handleVideoChange),this.player.off(N.b.MANUAL_PLAY_NEXT,this.handleVideoChange),this.cancelAnime()}},{key:"render",value:function(){return'\n      <xg-gesture-tips class="xgplayer-gesture-tips hide">\n        <div class="gesture-tips"></div>\n      </xg-gesture-tips>\n    '}}],[{key:"pluginName",get:function(){return"gestureTips"}},{key:"defaultConfig",get:function(){return{index:0}}}]),r}(x.b),ue=n("a8b0120a79b3dcde8d12"),le=n.n(ue),se=n("6a1a59a792ab696fbf35");function fe(e,t){var n=K()(e);if(Y.a){var r=Y()(e);t&&(r=r.filter((function(t){return B()(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){q()(e,t,n[t])})):F.a?U()(e,F()(n)):fe(Object(n)).forEach((function(t){D()(e,t,B()(n,t))}))}return e}function me(e){var t=function(){if("undefined"==typeof Reflect||!_.a)return!1;if(_.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(_()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var a=I()(this).constructor;n=_()(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var pe=function(e){k()(n,e);var t=me(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).keyCodeMap={up:{keyCode:38,action:N.d.PLAY_PREV,disable:!1,isGlobalTrigger:!0},down:{keyCode:40,action:N.d.PLAY_NEXT,disable:!1,isGlobalTrigger:!0}},e.prevActionTime=0,e.prevWheelEmitTime=0,e.wheelDeltaYCache=[],e.getWheelTarget=function(){return e.config.wheel.target||document.querySelector(".video-slider-wrapper")},e.mergeKeyCodeMap=function(){var t=e.config.keyCodeMap;t&&K()(t).forEach((function(n){e.keyCodeMap[n]?e.keyCodeMap[n]=de(de({},e.keyCodeMap[n]),t[n]):e.keyCodeMap[n]=de({},t[n])}))},e.handlePlayerKeydown=function(t){if(!(t.metaKey||t.altKey||t.ctrlKey)){var n=t.keyCode;!e.checkKeyCode(n,!1)||t.target!==e.player.root&&t.target!==e.player.video&&t.target!==e.player.controls.el||(e.preventDefault(t),e.handleKeyCode(t))}},e.handleBodyKeydown=function(t){if(e.player&&!(t.metaKey||t.altKey||t.ctrlKey)){var n=t.keyCode;t.target!==document.body&&e.isDisableTag(t.target)||!e.checkKeyCode(n,!0)||(e.preventDefault(t),e.handleKeyCode(t))}},e.handleKeyCode=function(t){var n=t.keyCode,r=K()(e.keyCodeMap).filter((function(t){return e.keyCodeMap[t].keyCode===n}))[0],a=e.keyCodeMap[r];a&&(e.handleAction(a.action),e.emit(N.b.SHORTCUT,de({key:r,target:t.target},a)))},e.handleAction=function(t){if(!(le()()-e.prevActionTime<=400)&&se.b){switch(t){case N.d.PLAY_NEXT:e.handlePlayNext();break;case N.d.PLAY_PREV:e.handlePlayPrev()}e.prevActionTime=le()()}},e.handlePlayNext=function(){var t;null===(t=e.player.getPlugin("videoChange"))||void 0===t||t.playNext(N.f.KEYBOARD)},e.handlePlayPrev=function(){var t;null===(t=e.player.getPlugin("videoChange"))||void 0===t||t.playPrev(N.f.KEYBOARD)},e.handlePlayerWheel=function(t){if(!e.config.wheel.disable){t.stopPropagation(),e.preventDefault(t);var n=t.deltaX,r=t.deltaY;if(Math.abs(n)>=Math.abs(r))e.wheelDeltaYCache=[];else{var a=le()(),o=a-e.prevWheelEmitTime;e.prevWheelEmitTime=a,o>200&&(e.wheelDeltaYCache=[]),e.wheelDeltaYCache.length>149&&e.wheelDeltaYCache.shift(),e.wheelDeltaYCache.push(Math.abs(r));var i=Math.ceil(e.wheelDeltaYCache.length/2),c=e.wheelDeltaYCache.slice(0,i),u=e.wheelDeltaYCache.slice(i,e.wheelDeltaYCache.length),l=Math.ceil(c.reduce((function(e,t){return e+t}),0)/c.length);if(Math.ceil(u.reduce((function(e,t){return e+t}),0)/u.length)>l){if(le()()-e.prevActionTime<=400||!se.b)return void(e.wheelDeltaYCache=[]);r>0?e.handleWheelPlayNext():e.handleWheelPlayPrev(),e.prevActionTime=le()()}}}},e.handleWheelPlayNext=function(){var t;null===(t=e.player.getPlugin("videoChange"))||void 0===t||t.playNext(N.f.WHEEL)},e.handleWheelPlayPrev=function(){var t;null===(t=e.player.getPlugin("videoChange"))||void 0===t||t.playPrev(N.f.WHEEL)},e.checkKeyCode=function(t,n){return K()(e.keyCodeMap).some((function(r){var a=e.keyCodeMap[r];return!(!a||t!==a.keyCode||a.disable)&&(n?a.isGlobalTrigger:!a.isGlobalTrigger)}))},e.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},e.isDisableTag=function(e){if(!e)return!1;var t=e.tagName;return!("INPUT"!==t&&"TEXTAREA"!==t&&!e.isContentEditable)},e}return w()(n,[{key:"afterCreate",value:function(){var e;this.mergeKeyCodeMap(),window.addEventListener("keydown",this.handleBodyKeydown),null===(e=this.getWheelTarget())||void 0===e||e.addEventListener("wheel",this.handlePlayerWheel)}},{key:"destroy",value:function(){var e;window.removeEventListener("keydown",this.handleBodyKeydown),null===(e=this.getWheelTarget())||void 0===e||e.removeEventListener("wheel",this.handlePlayerWheel)}}],[{key:"pluginName",get:function(){return"keyboardPlus"}},{key:"defaultConfig",get:function(){return{keyCodeMap:{},wheel:{disable:!1,target:null}}}}]),n}(x.b),be=n("d71e3476ab4b874a545f"),ve=n("6f344480eddd57e04406");function he(e){var t=function(){if("undefined"==typeof Reflect||!_.a)return!1;if(_.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(_()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var a=I()(this).constructor;n=_()(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var ge=x.b.POSITIONS,_e=function(e){k()(n,e);var t=he(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleTimeUpdate=function(t){var n,r=t.duration-t.currentTime,a=null===(n=e.player.getPlugin("videoChange"))||void 0===n?void 0:n.canNext;r>e.config.offsetTime||r<=0?e.hide():!e.playerConfig.autoNext||a?(e.changeTipsText(),e.show()):e.hide()},e.handleVideoPause=function(){e.hide()},e.changeTipsText=function(){var t=e.find(".text");if(t){var n="",r=e.playerConfig.autoNext,a=Math.ceil(e.player.duration-e.player.currentTime);n="".concat(a,r?"s \u540e\u64ad\u653e\u4e0b\u4e00\u6761\u89c6\u9891":"s \u540e\u5faa\u73af\u64ad\u653e\u672c\u6761\u89c6\u9891"),t.innerHTML=n}},e}return w()(n,[{key:"afterCreate",value:function(){this.player.on(N.b.TIME_UPDATE,this.handleTimeUpdate),this.player.on(N.b.PAUSE,this.handleVideoPause)}},{key:"destroy",value:function(){this.player.off(N.b.TIME_UPDATE,this.handleTimeUpdate),this.player.off(N.b.PAUSE,this.handleVideoPause)}},{key:"render",value:function(){return'\n      <xg-play-next-tips class="xgplayer-play-next-tips hide">\n        <span class="text">5s \u540e\u5c06\u64ad\u653e\u4e0b\u4e00\u4e2a\u89c6\u9891</span>\n      </xg-play-next-tips>\n    '}}],[{key:"pluginName",get:function(){return"playNextTips"}},{key:"defaultConfig",get:function(){return{position:ge.ROOT,index:0,offsetTime:3}}}]),n}(x.b),ye=n("544a2fe35893607768ff"),we=n("5b46d39180f95a070da0"),Ee=n.n(we);function ke(e){var t=function(){if("undefined"==typeof Reflect||!_.a)return!1;if(_.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(_()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var a=I()(this).constructor;n=_()(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var Oe=x.b.POSITIONS;function je(){var e=window.localStorage.getItem("video_change_button_tips_show_count")||0;return Number(e)}function Ce(){var e=je();("number"!=typeof e||Ee()(e))&&(e=0),e>=3||window.localStorage.setItem("video_change_button_tips_show_count","".concat(e+1))}var Ie=function(e){k()(n,e);var t=ke(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).changeLock=!1,e.changeLockTimer=void 0,e.canPrev=!1,e.canNext=!1,e.isHoverButton=!1,e.isHighlighButton=!1,e.setHoverTips=function(){je()>=3&&T.a.addClass(e.root,"no-tips")},e.addHighlightClass=function(t){t&&(T.a.addClass(t,"highlight"),e.isHighlighButton=!0)},e.removeHighlightClass=function(t){t&&(T.a.removeClass(t,"highlight"),e.isHighlighButton=!1)},e.handleMouseEnter=function(t){e.isHoverButton=!0,se.b&&(e.setHoverTips(),Ce(),e.addHighlightClass(t.target))},e.handleMouseLeave=function(t){e.isHoverButton=!1,se.b&&e.removeHighlightClass(t.target)},e.handleWindowMouseMove=function(){if(!e.isHoverButton&&e.isHighlighButton){var t=e.find(".prev-button"),n=e.find(".next-button");e.removeHighlightClass(t),e.removeHighlightClass(n)}},e.updateButtonStatus=function(t,n){e.canNext=t,e.canPrev=n;var r=e.find(".prev-button"),a=e.find(".next-button");r&&(r.disabled=!e.canPrev,!e.canPrev&&e.removeHighlightClass(r)),a&&(a.disabled=!e.canNext,!e.canNext&&e.removeHighlightClass(a))},e.checkChangeLock=function(){return!!e.changeLock||(e.changeLock=!0,e.player.once(N.b.CANPLAY,(function(){e.changeLock=!1,window.clearTimeout(e.changeLockTimer)})),e.changeLockTimer=window.setTimeout((function(){e.changeLock=!1}),1e3),!1)},e.handleClickPrev=function(t){t.stopPropagation(),e.playPrev(N.f.CLICK)},e.handleClickNext=function(t){t.stopPropagation(),e.playNext(N.f.CLICK)},e.playPrev=function(t){!e.checkChangeLock()&&e.canPrev&&e.emit(N.b.PLAY_PREV,{actionType:t,current:{vid:e.playerConfig.vid}})},e.playNext=function(t){!e.checkChangeLock()&&e.canNext&&e.emit(N.b.PLAY_NEXT,{actionType:t,current:{vid:e.playerConfig.vid}})},e}return w()(n,[{key:"afterCreate",value:function(){var e=this.find(".prev-button"),t=this.find(".next-button");null==e||e.addEventListener("click",this.handleClickPrev),null==t||t.addEventListener("click",this.handleClickNext),null==e||e.addEventListener("mouseenter",this.handleMouseEnter),null==e||e.addEventListener("mouseleave",this.handleMouseLeave),null==t||t.addEventListener("mouseenter",this.handleMouseEnter),null==t||t.addEventListener("mouseleave",this.handleMouseLeave),window.addEventListener("mousemove",this.handleWindowMouseMove),this.updateButtonStatus(this.canNext,this.canPrev),this.setHoverTips()}},{key:"destroy",value:function(){var e=this.find(".prev-button"),t=this.find(".next-button");null==e||e.removeEventListener("click",this.handleClickPrev),null==t||t.removeEventListener("click",this.handleClickNext),null==e||e.removeEventListener("mouseenter",this.handleMouseEnter),null==e||e.removeEventListener("mouseleave",this.handleMouseLeave),null==t||t.removeEventListener("mouseenter",this.handleMouseEnter),null==t||t.removeEventListener("mouseleave",this.handleMouseLeave),window.removeEventListener("mousemove",this.handleWindowMouseMove)}},{key:"render",value:function(){return'\n      <div class="xgplayer-video-change">\n        <div class="prev">\n          <button type="button" class="prev-button"></button>\n          <div class="tips">\u70b9\u51fb\u5207\u6362\u4e0a\u4e2a\u89c6\u9891</div>\n        </div>\n        <div class="next">\n          <button type="button" class="next-button"></button>\n          <div class="tips">\u70b9\u51fb\u5207\u6362\u4e0b\u4e2a\u89c6\u9891</div>\n        </div>\n      </div>\n    '}}],[{key:"pluginName",get:function(){return"videoChange"}},{key:"defaultConfig",get:function(){return{position:Oe.ROOT_RIGHT,index:0}}}]),n}(x.b),xe=n("02bf73d0fc60a69393f6"),Te=n("c2834b224e087d5c3479"),Se=n("7619191d4db2e0ec6dfb"),Ne=n("1219d2e8717a9a753eb7");Se.a.extend([{LANG:"zh-cn",TEXT:{FULLSCREEN_TIPS:"\u5168\u5c4f",AUTO_NEXT:"\u81ea\u52a8\u8fde\u64ad"}}]);var Le={width:"100%",height:"100%",autoplay:!0,autoplayMuted:!1,autoNext:!0,defaultPlaybackRate:1,loop:!1,fitVideoSize:"fixed",videoFillMode:"auto",seekedStatus:"play",presets:[function e(){a()(this,e),this.plugins=void 0,this.i18n=void 0,this.plugins=[A,i.a,$,ne,o.a,re.a,ae.a,c.a,ce,u.a,pe,l.a,s.a,be.a,f.a,ve.a,d.a,m.a,_e,p.a,ye.b,b.a,v.a,Ie,h.a,xe.a,Te.a],this.i18n=[Ne.a]}],volume:{showValueLabel:!0,default:.5},playbackRate:{list:[{rate:2,text:"2.0\u500d"},{rate:1.5,text:"1.5\u500d"},{rate:1.25,text:"1.25\u500d"},{rate:1,text:"1.0\u500d\uff08\u6b63\u5e38\uff09",iconText:"\u500d\u901f"},{rate:.75,text:"0.75\u500d"}]},progress:{isDragingSeek:!0},playsinline:!1,miniprogress:!0,leavePlayerTime:0,closeVideoStopPropagation:!0,closeFocusVideoFocus:!0,closePlayVideoFocus:!0,closePauseVideoFocus:!0,icons:{startPlay:'<button type="button" class="xg-icon-play"></button>',startPause:"<i></i>",loadingIcon:"<i></i>",play:'<button type="button"></button>',pause:'<button type="button"></button>',fullscreen:'<button type="button"></button>',exitFullscreen:'<button type="button"><i></i><i></i><i></i><i></i></button>',volumeSmall:'<button type="button"><i></i><i></i></button>',volumeLarge:'<button type="button"><i></i><i></i></button>',volumeMuted:'<button type="button"><i></i><i></i></button>'},commonStyle:{sliderBtnStyle:{"box-shadow":"none",background:"none"},volumeColor:"#fff"},keyboard:{keyCodeMap:{up:{disable:!0},down:{disable:!0}}}};t.a=Le},"6f7c19fbb5122ede4b67":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("dfb30137603785af9d6e");function a(e,t){var n=Object(r.useRef)(!0);Object(r.useEffect)((function(){n.current?n.current=!1:e()}),t)}},"6fdd75f166f9598810b8":function(e,t,n){},"7009f854fb449fc1b23d":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r).a.createContext(null);t.a=a},"704d98a9da1493f7fc9a":function(e,t,n){},"70793f6623c7d80d47e6":function(e,t,n){},"7127a810ea2f14f1c924":function(e,t,n){"use strict";var r=n("fbbd810ddf979da8e79a"),a=n.n(r),o=n("dfb30137603785af9d6e"),i=n.n(o);t.a=function(e){var t=e.children,n=e.onSizeChange,r=Object(o.useRef)(null),c=Object(o.useRef)(null),u=Object(o.useRef)(null),l=Object(o.useState)(!1),s=a()(l,2),f=s[0],d=s[1],m=Object(o.useRef)(n);m.current=n;var p=Object(o.useCallback)((function(){r.current&&(u.current=new ResizeObserver((function(e){var t;if(null===(t=e[0].borderBoxSize)||void 0===t?void 0:t[0]){var n=e[0].borderBoxSize[0],r=n.inlineSize,a=n.blockSize;m.current({width:r,height:a})}else{var o=e[0].contentRect,i=o.width,c=o.height;m.current({width:i,height:c})}})),u.current.observe(r.current))}),[]),b=Object(o.useCallback)((function(){var e;null===(e=u.current)||void 0===e||e.disconnect()}),[]),v=Object(o.useCallback)((function(){var e,t,n=(null===(e=c.current)||void 0===e?void 0:e.clientWidth)||0,r=(null===(t=c.current)||void 0===t?void 0:t.clientHeight)||0;m.current({width:n,height:r})}),[]),h=Object(o.useCallback)((function(){var e,t;c.current&&(d(!0),null===(e=c.current)||void 0===e||null===(t=e.contentWindow)||void 0===t||t.addEventListener("resize",v),v())}),[v]),g=Object(o.useCallback)((function(){var e,t;null===(e=c.current)||void 0===e||null===(t=e.contentWindow)||void 0===t||t.removeEventListener("resize",v)}),[v]);return Object(o.useEffect)((function(){return window.ResizeObserver?p():h(),function(){b(),g()}}),[p,b,h,g]),i.a.createElement("div",{ref:r,style:{position:f?"relative":"static"}},t,f&&i.a.createElement("iframe",{src:"about:blank",ref:c,style:{position:"absolute",top:0,left:0,zIndex:-1,visibility:"hidden",width:"100%",height:"100%"}}))}},"71fbd1907b7d524cdfea":function(e,t,n){"use strict";n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("714667d626fd04a26548");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o),c=n("6ebe1403b6a5cafdbcbe"),u=n.n(c);n("f2b9489240fb11583b9a");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f,d=function(){var e;return void 0===f&&(f=null===(e=window.CSS)||void 0===e?void 0:e.supports("position","sticky")),f};t.a=function(e){var t=e.children,n=e.className,o=e.activeOffset,c=void 0===o?0:o,s=e.position,f=void 0===s?{top:0,left:0}:s,m=e.placeholderHeight,p=void 0===m?0:m,b=Object(r.useRef)(null),v=Object(r.useRef)(null),h=Object(r.useRef)(!1),g=l(Object(r.useState)(!1),2),_=g[0],y=g[1],w=l(Object(r.useState)(!0),2),E=w[0],k=w[1],O=Object(r.useCallback)((function(){if(d())return!0;var e=_?v.current:b.current,t=null==e?void 0:e.getBoundingClientRect();return!!(t&&t.top<=c)}),[_]),j=Object(r.useCallback)((function(){h.current||(h.current=!0,u()((function(){var e=window.scrollX;e>=0&&b.current&&_&&(b.current.style.transform="translateX(-".concat(e,"px)")),y(O()),h.current=!1})))}),[O,_]);return Object(r.useEffect)((function(){k(d())}),[]),Object(r.useEffect)((function(){return d()||(window.addEventListener("scroll",j),j()),function(){window.removeEventListener("scroll",j)}}),[j]),a.a.createElement(a.a.Fragment,null,!E&&_&&a.a.createElement("div",{ref:v,style:{height:p}}),a.a.createElement("div",{className:i()("ttp-sticky-container",{active:_},n),ref:b,style:Object.assign({},f)},t))}},"7306a56ccd546e9201a3":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));n("4ea9a2360f1f9dff21ee"),n("e27353d76bdab012b9c1");var r,a=n("df5cca4a56fea3883d19"),o=n("d9c75f65b66c037f4131"),i=n("5198e738d473f46c850b");function c(){if(!o.b)return!1;var e,t,n=window.sessionStorage.getItem("__ac_referer")||(window.byted_acrawler?null===(t=(e=window.byted_acrawler).getReferer)||void 0===t?void 0:t.call(e):document.referrer)||"";return a.a.some((function(e){return n.includes(e)}))}function u(){return o.b&&"m_redirect"===Object(i.b)("source")}function l(){return o.b&&(c()||u())}function s(){return c()?r.SEO:u()?r.MOBILE:r.UNKNOWN}!function(e){e[e.SEO=0]="SEO",e[e.MOBILE=1]="MOBILE",e[e.UNKNOWN=2]="UNKNOWN"}(r||(r={}))},"733b0b7fc50b301159ca":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return f}));var r=n("167789bd516d2baf7295"),a=n("4e16ef1abe038022cfb8");function o(e,t){try{r.a&&window.sessionStorage.setItem(e,t)}catch(n){Object(a.c)(n,"set-session-error")}}var i=n("6cf195ddfada1b0033e1"),c=n("1e57c421e41f48e4643f");function u(e){Object(i.a)("web_page_enter",{page_name:e,is_ipad:r.c?1:0,is_a11y:Object(c.b)()?1:0})}function l(e){o("log_refresh_type",e)}function s(){var e=window.location.pathname;if(window.sessionStorage.getItem(e)){var t=window.sessionStorage.getItem("log_refresh_type");t&&window.sessionStorage.removeItem("log_refresh_type"),Object(i.a)("web_page_refresh",{action_type:t||"browser"})}else o(e,"1")}function f(e){return e.video_group?"video_group":e.long_video_info?"long_video_info":e.video_info?"video_info":e.video_link_card_info?"video_link_card_info":void 0}},"73f40e49daf0622f890e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("167789bd516d2baf7295");function a(e){return r.a?window.localStorage.getItem(e):null}function o(e,t){r.a&&window.localStorage.setItem(e,t)}},"742f59eaa59127e610f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("35cb213607f0dbaa33a3"),n("c24204dd29ff77475878"),n("17d091243b0d38080c9b");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=a.a.createContext({disable:!1,expand:!1,listEl:null,buttonEl:null,setListEl:function(){},setButtonEl:function(){},setFocusStatus:function(){},focusListItem:function(){},openMenu:function(){},closeMenu:function(){}}),i=n("c3f6c65547e619f96c18"),c=function(e){var t=e.onFocus,n=e.onBlur,c=e.onMouseEnter,u=e.onMouseLeave,l=e.onKeyDown,s=e.children,f=Object(r.useContext)(o),d=Object(r.useRef)(null);return Object(r.useEffect)((function(){d.current&&f.setButtonEl(d.current)}),[]),a.a.cloneElement(s,{tabIndex:0,role:"button","aria-haspopup":!0,"aria-expanded":f.expand,ref:d,onFocus:function(e){e.stopPropagation(),f.setFocusStatus(!0),null==t||t()},onBlur:function(e){e.stopPropagation(),f.setFocusStatus(!1),null==n||n()},onMouseEnter:function(){f.setFocusStatus(!0),f.openMenu(),null==c||c()},onMouseLeave:function(){f.setFocusStatus(!1),null==u||u()},onKeyDown:function(e){if(!f.disable){switch(e.stopPropagation(),e.keyCode){case i.a.ENTER:case i.a.SPACE:e.preventDefault(),f.openMenu(),f.focusListItem("next");break;case i.a.UP:e.preventDefault(),f.openMenu(),f.focusListItem("prev");break;case i.a.DOWN:e.preventDefault(),f.openMenu(),f.focusListItem("next");break;default:return}null==l||l(e)}}})},u=function(e){var t=e.children,n=e.onMouseEnter,i=e.onMouseLeave,c=Object(r.useContext)(o),u=Object(r.useRef)(null);return Object(r.useEffect)((function(){u.current&&c.setListEl(u.current)}),[]),a.a.cloneElement(t,{role:"menu",ref:u,onMouseEnter:function(e){e.stopPropagation(),c.setFocusStatus(!0),c.openMenu(),null==n||n()},onMouseLeave:function(e){e.stopPropagation(),c.setFocusStatus(!1),null==i||i()}})},l=function(e){var t=e.children,n=e.onKeyDown,c=e.onFocus,u=e.onBlur,l=e.getListItems,s=Object(r.useContext)(o),f=!!l;return a.a.cloneElement(t,{role:"menuitem",tabIndex:-1,onFocus:function(e){e.stopPropagation(),s.setFocusStatus(!0),null==c||c(e)},onBlur:function(e){e.stopPropagation(),s.setFocusStatus(!1),null==u||u(e)},onKeyDown:function(e){var t,r;if(!s.disable){switch(e.stopPropagation(),e.keyCode){case i.a.ESC:s.closeMenu(),null===(t=s.buttonEl)||void 0===t||t.focus();break;case i.a.UP:e.preventDefault(),s.openMenu(),s.focusListItem("prev");break;case i.a.DOWN:e.preventDefault(),s.openMenu(),s.focusListItem("next");break;case i.a.ENTER:case i.a.SPACE:f&&(e.preventDefault(),r=(null==l?void 0:l())||[],setTimeout((function(){var e;null===(e=r[0])||void 0===e||e.focus()})))}null==n||n(e)}}})},s=function(e){var t=e.children,n=e.onKeyDown,c=e.onFocus,u=e.onBlur,l=e.getListItems,s=e.getParant,f=Object(r.useContext)(o);function d(e){var t=l()||[],n=-1;t.some((function(e,t){return e===document.activeElement&&(n=t,!0)})),n="next"===e?(n+1)%t.length:((n=n<0?0:n)-1+t.length)%t.length,setTimeout((function(){var e;null===(e=t[n])||void 0===e||e.focus()}))}return a.a.cloneElement(t,{role:"menuitem",tabIndex:-1,onFocus:function(e){e.stopPropagation(),f.setFocusStatus(!0),null==c||c(e)},onBlur:function(e){e.stopPropagation(),f.setFocusStatus(!1),null==u||u(e)},onKeyDown:function(e){if(!f.disable){switch(e.stopPropagation(),e.keyCode){case i.a.ESC:var t=null==s?void 0:s();null==t||t.focus();break;case i.a.UP:e.preventDefault(),f.openMenu(),d("prev");break;case i.a.DOWN:e.preventDefault(),f.openMenu(),d("next")}null==n||n(e)}}})};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,i=b(c);function c(){var e;return d(this,c),(e=i.apply(this,arguments)).state={expand:!1,listEl:null,buttonEl:null},e.hasFocus=!1,e.closeTimer=void 0,e.setFocusStatus=function(t){e.hasFocus=t,t||(e.closeTimer=window.setTimeout((function(){e.hasFocus||e.closeMenu()}),e.props.closeTimeout||300))},e.setListEl=function(t){e.setState({listEl:t})},e.setButtonEl=function(t){e.setState({buttonEl:t})},e.openMenu=function(){e.props.onOpen(),e.setState({expand:!0})},e.closeMenu=function(){e.props.onClose(),e.setState({expand:!1})},e.getListItems=function(){var t;return Array.prototype.slice.call((null===(t=e.state.listEl)||void 0===t?void 0:t.childNodes)||[])},e.focusListItem=function(t){if(e.state.listEl){var n=e.props.getListItems?e.props.getListItems(e.state.listEl):e.getListItems(),r=-1;n.some((function(e,t){return e===document.activeElement&&(r=t,!0)})),r="next"===t?(r+1)%n.length:((r=r<0?0:r)-1+n.length)%n.length,setTimeout((function(){var e;null===(e=n[r])||void 0===e||e.focus()}))}},e}return t=c,(n=[{key:"componentWillUnmount",value:function(){window.clearTimeout(this.closeTimer)}},{key:"render",value:function(){return a.a.createElement(o.Provider,{value:{disable:this.props.disable||!1,expand:this.state.expand,listEl:this.state.listEl,buttonEl:this.state.buttonEl,setListEl:this.setListEl,setButtonEl:this.setButtonEl,setFocusStatus:this.setFocusStatus,focusListItem:this.focusListItem,openMenu:this.openMenu,closeMenu:this.closeMenu}},this.props.children)}}])&&m(t.prototype,n),r&&m(t,r),c}(a.a.Component);g.MenuButton=c,g.MenuList=u,g.MenuItem=l,g.MenuSubItem=s},"746df2e38b77ac02d0d3":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return a}));var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tasks=[]}var t,n,a;return t=e,(n=[{key:"push",value:function(e){this.tasks.push(e)}},{key:"exec",value:function(){for(;this.tasks.length;){var e=this.tasks.shift();e&&e.apply(void 0,arguments)}}}])&&r(t.prototype,n),a&&r(t,a),e}()},"75bf50962692f2e139c7":function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("dfb30137603785af9d6e"),g=n.n(h),_=n("04277718ef526b67d04b"),y=n("f9ed13e5f81996e94cef"),w=n("cf421b33cba8016652a2"),E=(n("698918b37c8f26bd36fc"),n("fbbd810ddf979da8e79a")),k=n.n(E),O=n("d765da9cbece3e988893"),j=n.n(O),C=n("098de4f1853062b3a141"),I=n.n(C);var x=function(e){var t=e.children,n=e.onMount;return Object(h.useEffect)((function(){n&&n()}),[]),j.a.createPortal(t,document.body)},T=function(e){var t=e.visible,n=e.className,r=e.closeTimeout,a=void 0===r?200:r,o=e.children,i=Object(h.useState)(t),c=k()(i,2),u=c[0],l=c[1],s=Object(h.useRef)(null);function f(){var e;s.current&&(s.current.classList.add("modal-show"),s.current.classList.remove("modal-hide"),null==(e=s.current)||e.clientWidth,s.current.classList.add("modal-anime-show"),s.current.classList.remove("modal-anime-hide"))}return Object(h.useEffect)((function(){t?(l(!0),s.current&&f()):(s.current&&(s.current.classList.add("modal-anime-hide"),s.current.classList.remove("modal-anime-show")),setTimeout((function(){var e,t;null===(e=s.current)||void 0===e||e.classList.add("modal-hide"),null===(t=s.current)||void 0===t||t.classList.remove("modal-show")}),a))}),[t]),u?g.a.createElement(x,{onMount:f},g.a.createElement("div",{className:I()("tt-modal-wrapper",n),ref:s},o)):null};function S(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}var N=function(e){var t=e.className,n=e.title,r=e.visible,a=e.maskClosable,o=void 0===a||a,i=e.onClose,c=e.onOk,u=e.children,l=e.footer,s=Object(h.useRef)({}),f=Object(h.useRef)(null),d=Object(h.useRef)(null),m=Object(h.useRef)(null),p=Object(h.useRef)(null);function b(){i()}var v=Object(h.useCallback)((function(e){27===e.keyCode&&b()}),[]),_=Object(h.useCallback)((function(e){var t,n=e.target;if(f.current&&n&&!(null===(t=n.dataset)||void 0===t?void 0:t.focusTrapDisable))try{var r;if(n===p.current||!(16&f.current.compareDocumentPosition(n)))null===(r=m.current)||void 0===r||r.focus()}catch(a){console.error(a)}}),[]);return Object(h.useEffect)((function(){if(r){if(document.body.clientHeight>window.innerHeight){var e=Object(y.a)();s.current=Object(w.a)({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body)}window.addEventListener("keydown",v),window.addEventListener("focus",_,!0),d.current=document.activeElement,setTimeout((function(){if(f.current){m.current=f.current.querySelector(".first-focus-el"),m.current||(m.current=f.current.querySelector(".tt-modal-close-btn"));var e,t,n=f.current.querySelector(".initial-focus-el");n?null===(e=n.focus)||void 0===e||e.call(n):null===(t=m.current)||void 0===t||t.focus()}}))}else Object(w.a)(s.current,document.body),window.removeEventListener("keydown",v),window.removeEventListener("focus",_,!0),null===(t=d.current)||void 0===t||t.focus();var t;return function(){window.removeEventListener("keydown",v),window.removeEventListener("focus",_,!0)}}),[r,v,_]),g.a.createElement(T,{visible:r,className:t},g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"modal-mask",onClick:function(){o&&b()}}),g.a.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":n,className:"tt-modal",ref:f},g.a.createElement("div",{className:"tt-modal-header"},g.a.createElement("span",{className:"tt-modal-title"},n),g.a.createElement("button",{type:"button","aria-label":"\u5173\u95ed\u5f39\u7a97",className:"tt-modal-close-btn",onClick:b},g.a.createElement("i",{className:"bui-icon icon-close-big"}))),g.a.createElement("div",{className:"tt-modal-body"},u),g.a.createElement("div",{className:"tt-modal-footer"},l||g.a.createElement("div",{className:"tt-modal-footer-btn"},g.a.createElement("button",{type:"button",className:"btn-cancel",onClick:b},"\u53d6\u6d88"),g.a.createElement("button",{type:"button",className:"btn-ok",onClick:function(){c&&c()}},"\u786e\u8ba4"))),g.a.createElement("div",{tabIndex:0,ref:p}))))};t.a=function(e){return g.a.createElement(_.a,null,g.a.createElement(N,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):S(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}({},e)))}},"7801182153876d8ab215":function(e,t,n){},"78e411ccf7a9a0caceb3":function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var r=n("fbbd810ddf979da8e79a"),a=n.n(r),o=n("dfb30137603785af9d6e"),i=n.n(o),c=n("098de4f1853062b3a141"),u=n.n(c),l=(n("60ea5d854a4999bbf092"),n("2422758950d9f66b7423")),s=n("fb622297466e7a637f99"),f=n("546ca7f10f62589ab9f4"),d=n("d4449abe3d2ba6591a15"),m=n("53955f9dab771af04369"),p=n("41e81a6b6b2e87160a0d");function b(e){var t,n,r;return{impr_id:null===(t=e.log_pb)||void 0===t?void 0:t.impr_id,impr_type:Object(s.l)(e),group_type:Object(s.k)(null===(n=e.coverUrls||e.cover)||void 0===n?void 0:n.length),category_name:Object(s.i)(e),enter_from:Object(s.j)(e),channel_id:e.__channel_id,section:e.__log_section||"feed",is_following:(null===(r=e.user_info)||void 0===r?void 0:r.follow)?"1":"0",is_top_content:"0",show_rank:e.__log_show_rank}}t.a=function(e){var t,n=e.data,r=e.logParams,c=e.onDislike,s=e.onClickToDetail,v=e.onDislikeClick,h=e.onShare,g=e.onLikeChange,_=e.onShareAction,y=e.onWttSubmit,w=Object(o.useState)(!1),E=a()(w,2),k=E[0],O=E[1],j=b(n);function C(){O(!0),s()}return i.a.createElement(p.a,{cell:n},i.a.createElement("div",null,i.a.createElement(m.a,{className:u()("feed-card-article-follow",{visited:k}),data:n,logInfo:j,logParams:r,onDislike:c,onClickToDetail:C,onDislikeClick:v,media:i.a.createElement(d.a,{userInfo:n.userInfo,source:n.source,sourceAvatar:n.sourceAvatar,timestamp:n.timestamp,logInfo:r}),leftTools:[i.a.createElement(f.f,{key:"share",data:n,wttRepostParams:{fw_id_type:4,opt_id_type:4,repost_type:211,fw_user_id:(null===(t=n.mediaInfo)||void 0===t?void 0:t.userId)||""},onSuccess:h,onShareAction:_,onWttSubmit:y}),i.a.createElement(f.b,{key:"comment",styleType:f.c.WITH_ICON,commentCount:n.commentCount,articleUrl:n.articleUrl,logInfo:j,onClickToDetail:C}),i.a.createElement(f.e,{key:"like",groupId:n.groupId,likeCount:n.likeCount,isLiked:!!n.userDigg,diggType:l.d.ARTICLE,onLikeChange:g})]})))}},"7c04e1c6a9d8a4a067f5":function(e,t,n){},"7c4288154d94f45c1e67":function(e,t,n){},"7ca4db6440f85a7a6df5":function(e,t,n){},"7d92094057582d9db023":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o),c=(n("302e7cd491a3c75c7a06"),{NETWORK_ERR:"\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",SERVICE_ERR:"\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"});t.b=function(e){var t=e.count,n=e.errorTips,r=e.successTips;return a.a.createElement("div",{className:i()("feed-m-top-refresh",{"fade-out":t>=0||n})},a.a.createElement("div",{className:i()("refresh-loading",{show:t<0&&!n&&!r})},a.a.createElement("i",null)),a.a.createElement("p",{className:i()("refresh-increase-count",{show:t>=0||n||r,error:n})},n||r||"\u4eca\u65e5\u5934\u6761\u63a8\u8350\u5f15\u64ce\u6709 ".concat(t," \u6761\u66f4\u65b0")))}},"7e3762687fac88650839":function(e,t,n){},"7e8e1d5038b1981a6e81":function(e,t,n){},"7ff40e675dfee032084a":function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("fbbd810ddf979da8e79a"),g=n.n(h),_=n("dfb30137603785af9d6e"),y=n.n(_),w=n("098de4f1853062b3a141"),E=n.n(w),k=(n("9551a6727f53aa482a36"),n("2422758950d9f66b7423")),O=n("ed0e645fb10944a4fb8f"),j=n("78e411ccf7a9a0caceb3"),C=n("41e81a6b6b2e87160a0d"),I=n("5616f33a71e39794ee3e"),x=n("546ca7f10f62589ab9f4"),T=n("38c58096afa111fcdfd2"),S=n("b65c96faf0c123cf88e4");function N(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):N(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}t.a=function(e){var t,n=e.data,r=e.className,a=e.logParams,o=e.media,i=e.footer,c=e.leftTools,u=e.isShortVideo,l=e.disableDislike,s=void 0!==l&&l,f=e.onDislike,d=e.onClickToDetail,m=e.onDislikeClick,p=Object(_.useState)(!1),b=g()(p,2),v=b[0],h=b[1],w=Object(O.h)(null===(t=n.__channel_info)||void 0===t?void 0:t.key,n.tabKey),N=e.logInfo||L(L({},Object(j.b)(n)),{},{group_type:n.__group_type});var R=function(){d(),h(!0)};return y.a.createElement(C.a,{cell:n},y.a.createElement("div",{className:E()("feed-card-video-single",r,{visited:v})},y.a.createElement("div",{className:"r-content"},y.a.createElement("div",{className:"feed-video-item"},u&&y.a.createElement("i",{style:{background:"url(".concat(n.cover,") center/cover no-repeat")}}),y.a.createElement(S.a,{cover:n.cover,articleUrl:n.detailUrl,duration:n.duration,desc:n.title,logInfo:N,jumpQuery:w?{from_scene:w}:void 0,onClickToDetail:R}))),y.a.createElement("div",{className:"l-content"},o,y.a.createElement(T.a,{className:"title",href:n.detailUrl,target:"_blank",rel:"noopener nofollow",jumpQuery:w?{from_scene:w}:void 0,logInfo:N,onClick:R},n.title),y.a.createElement("div",{className:"footer"},i||y.a.createElement(I.a,{leftTools:c||[y.a.createElement(x.a,{key:"author",userInfo:n.userInfo,source:n.source,logInfo:a}),y.a.createElement(x.b,{key:"comment",commentCount:n.commentCount,articleUrl:n.detailUrl,inside:!1,jumpQuery:w?{from_scene:w}:void 0,logInfo:N,onClickToDetail:R}),y.a.createElement(x.h,{key:"time",timestamp:n.timestamp})],rightTools:[!s&&y.a.createElement(x.d,{key:"dislike",data:{groupId:n.groupId,itemId:n.itemId,filterWords:n.filterWords,source:k.h.VIDEO},onDislike:function(e){f({dislikeType:e})},onDislikeClick:m})]})))))}},"82028901f8980c14ba42":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));var r,a=64,o={RECOMMEND:{key:"recommend",name:"\u63a8\u8350\u89c6\u9891"},FOLLOW:{key:"follow",name:"\u5173\u6ce8\u52a8\u6001"},PROFILE:{key:"profile",name:"Ta\u7684\u89c6\u9891"}};!function(e){e.MIXED_INTERNAL_FLOW="mixed_internal_flow",e.RELEVANT_RECOMMENDATIONS="relevant_recommendations"}(r||(r={}))},"83a311389b32f14cef31":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o);n("4d42c6b0aecacf3b7489");t.a=function(e){var t=e.url||"https://wj.toutiao.com/q/127962/n05C39LD/e1eb/#/";return a.a.createElement("a",{className:i()("user-research",{"size-mini":"mini"===e.size}),"aria-label":"\u4eca\u65e5\u5934\u6761\u6709\u5956\u8c03\u7814",target:"_blank",href:t,rel:"noreferrer noopener nofollow"})}},"8400655226bf61906365":function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("b7d86484cebe8a19dabd"),g=n.n(h),_=n("dfb30137603785af9d6e"),y=n.n(_),w=n("36091a6286193bdd62ec"),E=["className","href","title","children","logInfo","onClick"];function k(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):k(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}t.a=function(e){var t=e.className,n=e.href,r=e.title,a=e.children,o=e.logInfo,i=e.onClick,c=g()(e,E);return y.a.createElement("a",O(O({},c),{},{className:t,title:r,href:n,target:"_blank",rel:"noopener nofollow",onClick:function(e){var t;e.preventDefault(),e.stopPropagation(),null==i||i();var r=Object(w.b)(n,{position:o.position,enter_from:(null===(t=Object(w.a)())||void 0===t?void 0:t.enter_from)||"",section:o.section});window.open(r)}}),a)}},"85bedbb2b0d842c78b07":function(e,t,n){},"86397673cbb13c7b82ca":function(e,t,n){},"86458b0d0c4daedfcb4f":function(e,t,n){"use strict";var r=n("92c8006d8139d763c605"),a=n.n(r),o=n("ee10aab64b9ea632f5ab"),i=n.n(o),c=n("fbbd810ddf979da8e79a"),u=n.n(c),l=n("dfb30137603785af9d6e"),s=n.n(l),f=n("098de4f1853062b3a141"),d=n.n(f),m=n("fbd38813ef45ebb99472"),p=(n("9d35318f143127ea9561"),n("663529bce6ee6d8996f5")),b=n("be6323750fae7868d676"),v=n("6cf195ddfada1b0033e1"),h=n("75bf50962692f2e139c7"),g=n("d84b833f284337beaf9b"),_=[{id:"302",value:"\u5e7f\u544a"},{id:"303",value:"\u91cd\u590d\u3001\u65e7\u95fb"},{id:"3",value:"\u683c\u5f0f\u95ee\u9898"},{id:"304",value:"\u4f4e\u4fd7"},{id:"316",value:"\u6807\u9898\u5938\u5f20"},{id:"301",value:"\u4e0e\u4e8b\u5b9e\u4e0d\u7b26"},{id:"388",value:"\u7f51\u7edc\u66b4\u529b"},{id:"387",value:"\u517b\u8001\u8bc8\u9a97"}],y="https://mp.toutiao.com/profile_v3_public/public/apply-complain";t.a=function(e){var t=e.groupId,n=e.source,r=e.from,o=e.webid,c=e.tabIndex,f=e.onModalOpen,w=e.onModalClose,E=Object(l.useState)(!1),k=u()(E,2),O=k[0],j=k[1],C=Object(l.useState)(!1),I=u()(C,2),x=I[0],T=I[1],S=Object(l.useState)([]),N=u()(S,2),L=N[0],R=N[1],A=Object(l.useState)(""),P=u()(A,2),D=P[0],M=P[1];function U(){j(!0),null==f||f()}function V(e){R([e.target.value])}var F=Object(b.t)((function(e){M(e.target.value)}),300);function H(e,t){e.preventDefault();var n="https://mp.toutiao.com/profile_v3_public/public/apply-complain"+"?type=".concat(t,"&origin_url=").concat(encodeURIComponent(window.location.href));window.open(n)}function B(){return(B=i()(a.a.mark((function e(){var i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(v.a)("report_article"),e.prev=1,(i=x?["315"]:L)&&i.length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,p.a.user.feedbackContent(t,D,i.join(","),n,o,r);case 7:if("success"!==(c=e.sent).data.message){e.next=12;break}return j(!1),setTimeout((function(){g.a.info("\u53cd\u9988\u6210\u529f")}),0),e.abrupt("return");case 12:throw new Error(c.data.message);case 15:e.prev=15,e.t0=e.catch(1),g.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{tabIndex:c||0,role:"button","aria-label":"\u4e3e\u62a5",className:"detail-report",onClick:U,onKeyDown:function(e){var t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),U())}},s.a.createElement("i",null),s.a.createElement("span",null,"\u4e3e\u62a5")),s.a.createElement(h.a,{title:"\u4e3e\u62a5\u6587\u7ae0\u95ee\u9898",visible:O,onClose:function(){j(!1),null==w||w()},onOk:function(){return B.apply(this,arguments)}},s.a.createElement("div",{className:"report-modal-content"},s.a.createElement(m.a,{"aria-label":"\u9009\u62e9\u539f\u56e0",options:_.map((function(e){return e.id})),value:L[0],onChange:function(e){R([e])}},s.a.createElement("div",null,_.map((function(e,t){return s.a.createElement(m.a.RadioButton,{key:e.id,index:t,option:e.id},s.a.createElement("div",{className:"option"},s.a.createElement("label",{htmlFor:"reportType-".concat(e.id)},e.value),s.a.createElement("input",{"aria-hidden":!0,tabIndex:-1,type:"radio",id:"reportType-".concat(e.id),name:"reportType",value:e.id,checked:L[0]===e.id,onChange:V})))})))),s.a.createElement("div",{className:"option"},s.a.createElement("a",{className:"link-btn",href:y,rel:"nofollow",onClick:function(e){return H(e,"2")}},"\u6284\u88ad")),s.a.createElement("div",{className:"option"},s.a.createElement("a",{className:"link-btn",href:y,rel:"nofollow",onClick:function(e){return H(e,"3")}},"\u4fb5\u72af\u540d\u8a89/\u5546\u8a89/\u8096\u50cf/\u9690\u79c1\u6743")),s.a.createElement("div",{className:d()("option other-reason",{open:x})},s.a.createElement("button",{type:"button",onClick:function(){T(!x),R([])}},"\u5176\u4ed6\u95ee\u9898\uff0c\u6211\u8981\u5410\u69fd",s.a.createElement("i",null)),s.a.createElement("textarea",{onChange:F})))))}},"88486649d0e05a6137d0":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("2424222fdd55b7282442");function r(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},"892f788fdb5a8ff13b0d":function(e,t,n){},"8ab6ea49a6f2b512915c":function(e,t,n){},"8da0d466807af5fb475a":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r).a.createContext(null);t.a=a},"8f733a24568c21239759":function(e,t,n){},"90b824f4de3f20fa2f01":function(e,t,n){"use strict";function r(e,t){var n;null===(n=window.Slardar)||void 0===n||n.call(window,"sendEvent",{name:e,metrics:{value:1},categories:t})}function a(e,t){var n,r=e instanceof Error?"errorMsg=".concat(null==e?void 0:e.message,", stack=").concat(null==e?void 0:e.stack):e;null===(n=window.Slardar)||void 0===n||n.call(window,"sendLog",{level:"error",content:r,extra:{name:t}})}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},"90bda7f5dc4311789c33":function(e,t,n){},"91ccd34fe1d322fa1c32":function(e,t,n){"use strict";n.d(t,"b",(function(){return z}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("dfb30137603785af9d6e"),g=n.n(h),_=(n("f916861225cf3448ecd3"),n("fb622297466e7a637f99")),y=n("be6323750fae7868d676"),w=n("10130cfc2ba27a09b7e5"),E=n("ed0e645fb10944a4fb8f"),k=n("7009f854fb449fc1b23d"),O=n("acff6c447f863638e55f"),j=n("55545edfe9557f8e9717"),C=n("7ff40e675dfee032084a"),I=n("098de4f1853062b3a141"),x=n.n(I),T=(n("8ab6ea49a6f2b512915c"),n("2422758950d9f66b7423")),S=n("1114286b3a839994fd62"),N=n("78e411ccf7a9a0caceb3"),L=n("546ca7f10f62589ab9f4"),R=n("d4449abe3d2ba6591a15");function A(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):A(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var D=function(e){var t=e.data,n=e.logParams,r=e.className,a=e.onDislike,o=e.onDislikeClick,i=e.onShare,c=e.onLikeChange,u=e.onShareAction,l=e.onWttSubmit,s=P(P({},Object(N.b)(t)),{},{group_type:t.__group_type});function f(){var t;Object(S.e)(),null===(t=e.onClickToDetail)||void 0===t||t.call(e)}return g.a.createElement(C.a,{className:x()("feed-card-video-follow",r),data:t,logParams:n,logInfo:s,onDislike:a,onClickToDetail:f,onDislikeClick:o,media:g.a.createElement(R.a,{userInfo:t.userInfo,timestamp:t.timestamp,logInfo:n}),leftTools:[g.a.createElement(L.f,{key:"share",data:t,wttRepostParams:{fw_id_type:4,opt_id_type:4,repost_type:211},onSuccess:i,onShareAction:u,onWttSubmit:l}),g.a.createElement(L.b,{key:"comment",styleType:L.c.WITH_ICON,commentCount:t.commentCount,articleUrl:t.detailUrl,jumpQuery:{from_scene:"follow"},logInfo:s,onClickToDetail:f}),g.a.createElement(L.e,{key:"like",groupId:t.groupId,likeCount:t.likeCount,isLiked:t.userDigg,diggType:T.d.VIDEO,onLikeChange:c})]})},M=n("b7d86484cebe8a19dabd"),U=n.n(M),V=n("41e81a6b6b2e87160a0d"),F=n("1e93314aaf7aabdbfbff"),H=n("9a261fd8feb2690e8f07"),B=["data","onDislike"];function W(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Y=function(e){var t=e.data,n=e.onDislike,r=U()(e,B);return t.error?g.a.createElement(F.a,null):t.loading?g.a.createElement(H.a,null):g.a.createElement(V.a,{cell:t},g.a.createElement("div",null,g.a.createElement(j.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):W(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}({data:t,onDislike:function(e){n({dislikeType:e})}},r))))};function G(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):G(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function z(e){var t,n,r=(null===(t=e.large_image_list)||void 0===t?void 0:t[0])||e.middle_image||(null===(n=e.video_detail_info)||void 0===n?void 0:n.detail_video_large_image);return r&&r.url?r.url.replace(/^http:/,""):""}function q(e,t){var n,r;return(null===(n=t.log_pb)||void 0===n?void 0:n.impr_id)?t.log_pb:K(K({},t.log_pb),{},{impr_id:null===(r=e.log_pb)||void 0===r?void 0:r.impr_id})}var X=function(e){return e.data.__channel_id===w.a.get().follow.channelId?g.a.createElement(D,K({},e)):e.data.__channel_id===w.a.get().video.channelId?g.a.createElement(Y,K({},e)):g.a.createElement(C.a,K({},e))};t.a=function(e){var t=e.cell,n=e.logParams,r=e.disableDislike,a=e.onDislike,o=e.onItemClick,i=e.onLikeChange,c=Object(h.useContext)(k.a),u={__channel_id:t.__channel_id,__channel_info:t.__channel_info,__type:t.__type,__log_enter_from:t.__log_enter_from,__log_impr_type:t.__log_impr_type,__log_category_name:t.__log_category_name,__log_show_rank:t.__log_show_rank,__log_section:t.__log_section,__group_type:t.__group_type,__log_page_name:t.__log_page_name},l=function(e){return 0===e.cell_type?[e]:e.data||[]}(t).map((function(e){var n;return K({title:e.title,cover:z(e),duration:e.video_duration,videoId:e.video_id,groupId:e.group_id,itemId:e.item_id,bizId:e.biz_id,detailUrl:Object(O.b)(O.a.SELF_VIDEO,e.group_id),userInfo:Object(E.k)(e),source:e.source,commentCount:e.comment_count,userDigg:t.user_digg,likeCount:t.digg_count,timestamp:e.publish_time,filterWords:null===(n=e.filter_words)||void 0===n?void 0:n.filter_words,loading:t.loading,error:t.error,log_pb:q(t,e),group_id:e.group_id,group_source:e.group_source,cell_type:t.cell_type},u)})),s={position:n.position,article_type:"video"},f=l.length;function d(e){a(e)}function m(e){var n,r=e.target,a=e.dislikeType,o=void 0===a?"":a;if(r){var i=document.activeElement,c=Object(y.l)(document.querySelector(".ttp-feed-module"));Object(y.f)(i,c)}else d(K(K({},t),{},{dislikeType:o}));var u=r||l[0];Object(_.n)(u,K(K({},s),{},{is_following:(null===(n=u.userInfo)||void 0===n?void 0:n.follow)?"1":"0",dislike_type:o,content_type:"single"}))}function p(e){null==o||o();var t=e||l[0];Object(_.e)(t,s)}function b(e){var t,r=e||l[0];Object(_.g)(r,{is_following:(null===(t=r.userInfo)||void 0===t?void 0:t.follow)?"1":"0",article_type:"video",position:n.position})}return f?g.a.createElement("div",{className:"feed-card-wrapper feed-card-video-wrapper"},f>1?g.a.createElement(j.b,{data:l,logParams:n,formattedParams:u,onClickToDetail:p,onDislike:m,onDislikeClick:b,onHideCell:function(){return d(t)}}):g.a.createElement(X,{data:l[0],logParams:n,disableDislike:r,onDislike:m,onClickToDetail:p,onDislikeClick:b,onLikeChange:function(e){i(t,e),1===e?Object(_.p)(t,c,s):Object(_.s)(t,c,s)},onShare:function(e){Object(_.q)(t,c,K(K({},s),{},{share_platform:e}))},onShareAction:function(e){Object(_.t)(t,K(K({},s),{},{action_type:e}))},onWttSubmit:function(){Object(_.w)(t,s)}})):null}},"9551a6727f53aa482a36":function(e,t,n){},"9727aacc8b7964f6db1c":function(e,t,n){},"988714ff9eba2503d80f":function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return k})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return I})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return T})),n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return N}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("be6323750fae7868d676"),g=n("acff6c447f863638e55f"),_=n("1b69c40e39893f89b5f5");function y(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):y(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var E={ARTICLE:"article",WTT:"wtt",VIDEO:"video",SHORT_VIDEO:"short_video",WENDA:"wenda",COLLECTION:"collection"},k={UGC:"ugc",COMMENT:"comment",WENDA_QUESTION:"wenda_question",WENDA_ANSWER:"wenda_answer"};function O(e){var t,n,r,a=[];return(null===(t=e.large_image_list)||void 0===t?void 0:t.length)?a=e.large_image_list:(null===(n=e.image_list)||void 0===n?void 0:n.length)?a=e.image_list:e.middle_image?a=[].concat(e.middle_image):(null===(r=e.thumb_image_list)||void 0===r?void 0:r.length)&&(a=e.thumb_image_list),a.filter(Boolean).map((function(e){return Object(h.r)(e.url)}))}function j(e,t){return E.WTT===t?Object(g.b)(g.a.WTT,e.thread_id_str||e.id_str):E.COLLECTION===t?Object(g.b)(g.a.SELF_VIDEO,e.first_group_id):E.VIDEO===t||E.SHORT_VIDEO===t?Object(g.b)(g.a.SELF_VIDEO,e.group_id):Object(g.b)(g.a.ARTICLE,e.group_id)}function C(e){var t,n,r=e.user_info||e.user;56===e.cell_type&&(r=null===(t=e.comment_base)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.info);return r?{name:r.name,userSecToken:r.user_id,userAuthInfo:r.user_verified&&Object(h.s)(r.user_auth_info||"{}")}:null}function I(e,t){return function(e){return e.map((function(e){var t=e.group_id;return t||"string"!=typeof e.id||(t=e.id),t||(t=e.id_str||Math.random().toString(16).substr(2)),w(w({},e),{},{__uuid:t})}))}(e).map((function(e){var n,r,a=0===(r=(n=e).cell_type)?n.has_video?E.VIDEO:E.ARTICLE:[32,56].indexOf(r)>-1?E.WTT:48===r?E.VIDEO:[202,203].indexOf(r)>-1?E.WENDA:341===r?E.COLLECTION:49===r?E.SHORT_VIDEO:E.ARTICLE;return w(w({},e),{},{__type:a,__title:e.feed_title||e.title,__cover_urls:O(e),__detail_url:j(e,a),__user_info:C(e),__tab_key:t})}))}function x(e,t,n){if(!t)return n.map((function(e){return w(w({},e),{},{is_stick:t})}));var r=n.filter((function(t){return t.__uuid===e.__uuid}))[0];if(!r)return n;var a=n.map((function(e){return e.is_stick?w(w({},e),{},{is_stick:!1}):e.__uuid===r.__uuid?null:e})).filter(Boolean);return[w(w({},r),{},{is_stick:!0})].concat(a)}function T(e,t,n){return n.map((function(n){if(n.__uuid===e.__uuid){if(56===e.cell_type){var r,a=null===(r=e.comment_base)||void 0===r?void 0:r.action,o=n;return a&&(o.comment_base.action=w(w({},a),{},{digg_count:1===t?++a.digg_count:--a.digg_count,user_digg:t})),o}if(49===e.cell_type){var i=e.action;return w(w({},n),{},{action:w(w({},i),{},{digg_count:t?++i.digg_count:--i.digg_count,user_digg:t})})}return w(w({},n),{},{digg_count:1===t?++n.digg_count:--n.digg_count,user_digg:t})}return n}))}function S(e,t){return t.filter((function(t){return t.__uuid!==e.__uuid}))}function N(e){return e===_.a.fav.key?"":e===_.a.video.key||e===_.a.short_video.key?e:_.a.all.key}},"989728adca5bca9dc30e":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"getServerSideInitialProps",(function(){return p}));var r=n("92c8006d8139d763c605"),a=n.n(r),o=n("ee10aab64b9ea632f5ab"),i=n.n(o),c=(n("6ebc429a21c1841afaf9"),n("179636e692c86539a529")),u=n("37469f278ec47409f978"),l=(n("235286866b3571b0228d"),n("8f733a24568c21239759"),n("d7eda47c4265102ff5f2")),s=n("4c4ea2a98c1c93e67edd"),f=n("ecc80ba510baa97c03b0"),d=n("1e57c421e41f48e4643f"),m=n("fc922df9e81cb22d6e5b");Object(c.hot)(e)(l.a),Object(s.a)(),Object(f.a)(),Object(d.a)(),Object(m.a)(),Object(u.a)(l.a),t.default=l.a;var p=function(){var e=i()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:null===(n=t.ctx)||void 0===n?void 0:n.initialData});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}.call(this,n("8ab0ef2eb0714881268d")(e))},"9a261fd8feb2690e8f07":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r);n("2e5f6a6d4be69858132d");t.a=function(){return a.a.createElement("div",{className:"multi-item-loading"},a.a.createElement("i",null))}},"9a26e56d17b55462db4a":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("5198e738d473f46c850b");t.a=function(e){var t=Object(r.useRef)(null),n=Object(r.useRef)(!1),i=Object(r.useRef)(null);Object(r.useEffect)((function(){i.current=e.scrollContainer||window}),[]);var c=Object(r.useCallback)(Object(o.f)((function(){var r;if(t.current){var a=t.current.getBoundingClientRect(),o=a.top,u=a.height||t.current.clientHeight;if(o-window.innerHeight<-u){if(n.current)return;e.onVisible(!0),e.once&&(n.current=!0,null===(r=i.current)||void 0===r||r.removeEventListener("scroll",c))}else e.onVisible(!1)}}),300),[]);return Object(r.useEffect)((function(){var e;return null===(e=i.current)||void 0===e||e.addEventListener("scroll",c),setTimeout((function(){c()})),function(){var e;null===(e=i.current)||void 0===e||e.removeEventListener("scroll",c)}}),[c]),a.a.cloneElement(e.children,{ref:t})}},"9b9d3218952e7795f17c":function(e,t,n){},"9c433afd1e0a4a1aafd7":function(e,t,n){},"9d35318f143127ea9561":function(e,t,n){},"9e0cb677eb51f896cb48":function(e,t,n){},"9e83cf69ce1e36dd82aa":function(e,t,n){},"9e90160f7e0f5e79b860":function(e,t,n){"use strict";n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("714667d626fd04a26548");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o),c=n("6ebe1403b6a5cafdbcbe"),u=n.n(c),l=(n("5e7f2e44791decdd308c"),n("102c68ff4eb277341743")),s=n("71fbd1907b7d524cdfea"),f=(n("35cb213607f0dbaa33a3"),n("c24204dd29ff77475878"),n("1c4b8d4085d28a8b83d7"),n("03bba7e82aff374edd21"),n("c93a3409710bc0c7e7f7"),n("96e657875a3e8636f3a2"),n("ec4afba946234cc5c416"),n("a909ca3296d499985c89"),n("ad3ac99ada113225a3d8")),d=n.n(f);function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}var g={follow:{key:"follow",category:"news_follow",channelId:60021127260,name:"\u5173\u6ce8"},all:{key:"all",category:"__all__",channelId:0,name:"\u63a8\u8350"},hot:{key:"hot",category:"news_hot",channelId:3189398996,name:"\u70ed\u70b9"},xigua:{key:"xigua",category:"xigua",channelId:-1,name:"\u89c6\u9891",url:"https://www.ixigua.com/"},video:{key:"video",category:"video",channelId:3431225546,name:"\u89c6\u9891"},local:{key:"local",category:"news_local",channelId:3202164529,name:"\u5317\u4eac"},finance:{key:"finance",category:"news_finance",channelId:3189399007,name:"\u8d22\u7ecf"},tech:{key:"tech",category:"news_tech",channelId:3189398999,name:"\u79d1\u6280"},entertainment:{key:"entertainment",category:"news_entertainment",channelId:3189398972,name:"\u5a31\u4e50"},sports:{key:"sports",category:"news_sports",channelId:3189398957,name:"\u4f53\u80b2"},wenda:{key:"wenda",category:"question_and_answer",channelId:6761210920,name:"\u95ee\u7b54"},dcd:{key:"dcd",category:"dcd",channelId:-1,name:"\u61c2\u8f66\u5e1d",url:"https://www.dongchedi.com/?zt=tt_pc_home_channel"},live:{key:"live",category:"live",channelId:94349530259,name:"\u76f4\u64ad",url:"https://live.ixigua.com"},world:{key:"world",category:"news_world",channelId:3189398968,name:"\u56fd\u9645"},digital:{key:"digital",category:"digital",channelId:3189398981,name:"\u6570\u7801"},military:{key:"military",category:"news_military",channelId:3189398960,name:"\u519b\u4e8b"},game:{key:"game",category:"news_game",channelId:3189398995,name:"\u6e38\u620f"},history:{key:"history",category:"news_history",channelId:3189398965,name:"\u5386\u53f2"},food:{key:"food",category:"news_food",channelId:3189399002,name:"\u7f8e\u98df"},essay:{key:"essay",category:"news_essay",channelId:3189399001,name:"\u7f8e\u6587"},regimen:{key:"regimen",category:"news_regimen",channelId:3189398959,name:"\u517b\u751f"},travel:{key:"travel",category:"news_travel",channelId:3189398983,name:"\u65c5\u6e38"},discovery:{key:"discovery",category:"news_discovery",channelId:3189398978,name:"\u63a2\u7d22"},fashion:{key:"fashion",category:"news_fashion",channelId:3189398984,name:"\u65f6\u5c1a"},baby:{key:"baby",category:"news_baby",channelId:3189399004,name:"\u80b2\u513f"}},_=new(function(){function e(t){b(this,e),this.channelMap=JSON.parse(JSON.stringify(t))}return h(e,[{key:"addChannel",value:function(e,t){return this.channelMap[e]=t,this.channelMap}},{key:"updateChannel",value:function(e,t){return this.channelMap[e]=Object.assign(Object.assign({},this.channelMap[e]),t),this.channelMap}},{key:"get",value:function(){return this.channelMap}}]),e}())(g);var y={default:[g.follow.key,g.all.key,g.local.key,g.xigua.key,g.finance.key,g.tech.key,g.hot.key,g.world.key],more:[g.military.key,g.sports.key,g.entertainment.key,g.digital.key,g.history.key,g.dcd.key,g.wenda.key,g.food.key,g.game.key,g.live.key,g.travel.key,g.regimen.key,g.fashion.key,g.baby.key]},w=function(){function e(t){b(this,e),this.channelOrder={default:m(t.default),more:m(t.more)}}return h(e,[{key:"process",value:function(e){return this.channelOrder=e(this.channelOrder),this}},{key:"get",value:function(){return this.channelOrder}}]),e}();function E(e){var t,n=(t=window.innerWidth)>=1280?8:t>=1200?7:5,r=m(e.default),a=m(e.more),o=r.splice(n);return{default:r,more:o.concat(a)}}function k(e,t){var n=_.get(),r=Object.assign({},e);return r.key===n.local.key&&t&&(r.name=t.name,r.channelId=t.channelId),r}function O(e,t,n){var r=_.get(),a=new w(y);a.process((function(e){return function(e,t){var n,r=_.get();if(1===(null===(n=null==t?void 0:t.parameters.video_channel)||void 0===n?void 0:n.use_feed)){var a=m(e.default),o=a.indexOf(r.xigua.key);return o>=0&&a.splice(o,1,r.video.key),{default:a,more:e.more}}return e}(e,t)})).process((function(e){return function(e,t){if(t){var n=t.index,r=m(e.default),a=m(e.more);return n>r.length?a.splice(n-r.length-1,0,t.key):(r.splice(n-1,0,t.key),a.unshift(r.pop())),{default:r,more:a}}return e}(e,n)})).process((function(e){return function(e){var t=e,n=d.a.get("__feed_out_channel_key");return n&&t.more.some((function(e){return e===n}))?{default:t.default.map((function(e,r){return r===t.default.length-1?n:e})),more:t.more.map((function(e){return e===n?t.default[t.default.length-1]:e}))}:t}(e)})).process((function(e){return E(e)}));var o=a.get();return{default:o.default.map((function(t,n){var a=k(r[t],e);return Object.assign(Object.assign({},a),{rank:n+1,inMore:0})})),more:o.more.map((function(t,n){var a=k(r[t],e);return Object.assign(Object.assign({},a),{rank:n+1,inMore:1})}))}}var j=n("742f59eaa59127e610f4"),C=n("9a26e56d17b55462db4a"),I=n("69acd6c0377e854ef167"),x=n("5198e738d473f46c850b"),T=n("f9dd4d76c78fe11efa84");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){var t=e.channel;return t.url?a.a.createElement("a",{href:globalThis.getFilterXss().filterUrl(t.url,null,{logType:"js.href/src",reportOnly:"all"}),target:"_blank",rel:"noopener nofollow",tabIndex:-1,"aria-hidden":!0},t.name):a.a.createElement(a.a.Fragment,null,t.name)},M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(c,e);var t,n,r,o=R(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={config:{default:[],more:[]},localCityInfo:t.props.localCityInfo,morePanelVisible:!1},t.moreBtnTimer=0,t.moreBtnEl=null,t.moreNavShow=!1,t.handleResize=Object(x.f)((function(){var e=t.state.localCityInfo,n=t.props,r=O(e,n.abtestInfo,n.forceInsertedChannel);t.setState({config:r})}),300),t.handleClickChannel=function(e){e.url||window.open("https://www.toutiao.com?channel=".concat(e.key,"&source=").concat(t.props.logParams.page_name))},t.emitClickEvent=function(e){t.handleClickChannel(e),Object(l.a)("category_click",Object.assign(Object.assign({},t.props.logParams),{category_rank:e.rank||0,category_name:e.category,is_in_category_more:e.inMore||0,category_name_cn:e.name,channel_id:e.channelId}))},t.handleKeyDown=function(e,n){var r=e.keyCode;13!==r&&32!==r||(e.preventDefault(),e.stopPropagation(),t.emitClickEvent(n),n.url&&window.open(n.url))},t.openMorePanel=function(){t.setState({morePanelVisible:!0}),t.moreNavShow||(t.state.config.more.forEach((function(e){t.navVisible(e)})),t.moreNavShow=!0)},t.closeMorePanel=function(){t.setState({morePanelVisible:!1})},t.navVisible=function(e){Object(l.a)("channel_show",Object.assign(Object.assign({},t.props.logParams),{category_rank:e.rank||0,category_name:e.category,is_in_category_more:e.inMore||0,category_name_cn:e.name,channel_id:e.channelId}))},t.handleLocalCityChange=function(e){var n=t.props,r=n.abtestInfo,a=n.forceInsertedChannel,o=_.get();t.setState({config:O(e,r,a),localCityInfo:e}),t.handleClickChannel(Object.assign({},o.local))},t.renderDefaultNav=function(e){var n=t.props.theme,r=t.state.localCityInfo,o=_.get();return e.key===o.local.key?a.a.createElement(I.a,{cityInfo:r,logParams:{switch_position:"category"},theme:n,onChange:t.handleLocalCityChange}):a.a.createElement(D,{channel:e})};var n=e.forceInsertedChannel;return n&&_.addChannel(n.key,{key:n.key,category:n.category,channelId:n.channelId,name:n.name,url:n.url}),t}return t=c,(n=[{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this,t=this.state,n=t.config,r=t.morePanelVisible;return n.default.length?a.a.createElement("div",{className:"ttp-channel-nav"},a.a.createElement("ul",{className:"ttp-channel-default-nav"},n.default.map((function(t){return a.a.createElement("li",{key:t.key,tabIndex:0,role:"button","aria-label":"".concat(t.name,"\u9891\u9053"),onKeyDown:function(n){return e.handleKeyDown(n,t)}},a.a.createElement(C.a,{onVisible:function(n){n&&e.navVisible(t)},once:!0},a.a.createElement("div",{className:"ttp-channel-default-nav-item",onClick:function(){return e.emitClickEvent(t)}},e.renderDefaultNav(t))))})),a.a.createElement(j.a,{onOpen:this.openMorePanel,onClose:this.closeMorePanel},a.a.createElement(j.a.MenuButton,null,a.a.createElement("li",{"aria-label":"\u66f4\u591a\u9891\u9053",className:"more-btn-wrapper"},a.a.createElement("div",{className:i()("more-btn",{hover:r}),ref:function(t){return e.moreBtnEl=t}},"\u66f4\u591a"),a.a.createElement(T.a,{visible:r,transform:"translateX(-50%)",transformOrigin:"center top"},a.a.createElement("div",{className:"ttp-channel-more-nav-wrapper"},a.a.createElement(j.a.MenuList,null,a.a.createElement("ul",{className:"ttp-channel-more-nav"},n.more.map((function(t){return a.a.createElement(j.a.MenuItem,{key:t.key,onKeyDown:function(n){return e.handleKeyDown(n,t)}},a.a.createElement("li",{"aria-label":"".concat(t.name,"\u9891\u9053")},a.a.createElement("div",{className:"ttp-channel-more-nav-item",onClick:function(){return e.emitClickEvent(t)}},a.a.createElement(D,{channel:t}))))}))))))))))):a.a.createElement(a.a.Fragment,null)}}])&&N(t.prototype,n),r&&N(t,r),c}(a.a.Component),U=(n("281981c6b99b2a82c28b"),n("dff888e2b4b8e178d0a9"),n("21460410443b5c09d963"),n("c220c1b97ff242ddd88d"),n("ec7d18b3433a1d1d5e4e"));n("587ee3767cae257489e4"),n("2424222fdd55b7282442");function V(e){return window.btoa&&window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}var F=n("cdea2e385cdc7aa33952"),H=n("c1d32d7b2c2ebdde5bde");function B(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,c,"next",e)}function c(e){B(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K={focusStart:0,pressDown:0},z=Object(H.b)((function(e){var t=e.className,n=e.newSearch,o=e.autoFocus,c=void 0!==o&&o,u=e.logParams,s=Object(r.useRef)(null),f=Object(r.useRef)(null),d=Object(r.useRef)(!1),m=Y(Object(r.useState)(""),2),p=m[0],b=m[1],v=Y(Object(r.useState)(!1),2),h=v[0],g=v[1],_=Y(Object(r.useState)([]),2),y=_[0],w=_[1],E=Y(Object(r.useState)(-1),2),k=E[0],O=E[1],j=Object(r.useRef)(p);j.current=p;var C=Object(r.useMemo)((function(){return!h||k>-1?function(){}:Object(x.f)(W(regeneratorRuntime.mark((function e(){var t,n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===(t=j.current)||void 0===t?void 0:t.trim())){e.next=9;break}return null===F.cancelRequest||void 0===F.cancelRequest||Object(F.cancelRequest)(),e.next=5,U.a.search.getSearchSug(j.current);case 5:o=e.sent,"success"===(null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.message)&&w((null===(a=null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.data)||void 0===a?void 0:a.slice(0,8))||[]),e.next=11;break;case 9:w([]),O(-1);case 11:e.next=19;break;case 13:if(e.prev=13,e.t0=e.catch(0),!Object(F.isCancel)(e.t0)){e.next=17;break}return e.abrupt("return");case 17:w([]),O(-1);case 19:case"end":return e.stop()}}),e,null,[[0,13]])}))),300)}),[h,k]);Object(r.useEffect)(C,[p,h]);var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.current,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(e.trim()){var a=n?"//so.toutiao.com/search?dvpf=pc&source=".concat(t,"&keyword=").concat(encodeURIComponent(e)):"//www.toutiao.com/search/?keyword=".concat(encodeURIComponent(e));window.open(a),Object(l.a)("search_click_toutiao_pc",Object.assign(Object.assign({},u),{search_hot_word:e,from_position:"sug"===t?"detail_sug":"search"})),Object(l.a)("search_start",Object.assign(Object.assign({},u),{tab_type:"category_bar",query_type:t,query:e,is_init_enter:0}));var o={query_input_time:Date.now()-K.focusStart,search_press_duration:Date.now()-K.pressDown,search_viewport_x:(null==r?void 0:r.clientX)||-1,search_viewport_y:(null==r?void 0:r.clientY)||-1};document.cookie="tt_search_log=".concat(V(JSON.stringify(o)),"; domain=.toutiao.com")}},T=Object(r.useCallback)((function(e){O(-1),b(e.target.value)}),[]),S=Object(r.useCallback)((function(){K.focusStart=Date.now(),g(!0),Object(l.a)("search_tab_enter",Object.assign(Object.assign({},u),{tab_type:"category_bar",is_init_enter:0}))}),[]),N=Object(r.useCallback)((function(){setTimeout((function(){var e;null===(e=f.current)||void 0===e||e.blur(),g(!1),O(-1)}),250)}),[]),L=Object(r.useCallback)((function(e){var t=e.which||e.keyCode||e.charCode,n=-1;40===t?(e.preventDefault(),n=(k+1)%y.length):38===t?(e.preventDefault(),n=(y.length+k-1)%y.length):13===t&&(K.pressDown=Date.now()),n>-1&&(O(n),b(y[n].keyword))}),[k,y]),R=Object(r.useCallback)((function(e){if(d.current)d.current=!1;else if(13===(e.which||e.keyCode||e.charCode)){var t=k>-1?y[k].keyword:void 0;I(t,k>-1?"sug":"input")}}),[k,y]),A=Object(r.useCallback)((function(){K.pressDown=Date.now()}),[]),P=Object(r.useCallback)((function(){d.current=!0}),[]),D=Object(r.useCallback)((function(e,t){b(e),I(e,"sug",t)}),[]);return Object(r.useEffect)((function(){c&&S()}),[]),Object(r.useEffect)((function(){var e=Object(x.f)((function(){var e;f.current&&h&&((null===(e=f.current)||void 0===e?void 0:e.getBoundingClientRect().bottom)<0&&N())}),300);return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[h]),a.a.createElement("div",{ref:s,className:i()("ttp-search-wrapper",[t])},a.a.createElement("div",{className:"search"},a.a.createElement("input",{type:"text","aria-label":"\u641c\u7d22",placeholder:"",value:p,ref:f,autoFocus:c,onChange:T,onFocus:S,onBlur:N,onKeyDown:L,onKeyUp:R,onCompositionEnd:P}),a.a.createElement("button",{type:"button","aria-label":"\u641c\u7d22",onClick:function(e){return I(p,k>-1?"sug":"input",e)},onMouseDown:A},a.a.createElement("i",null),a.a.createElement("span",null,"\u641c\u7d22")),h&&!!y.length&&a.a.createElement("div",{className:"sug"},y.map((function(e,t){var n=e.keyword.indexOf(p),r=e.keyword;return n>-1&&(r=a.a.createElement(a.a.Fragment,null,e.keyword.slice(0,n),a.a.createElement("em",null,p),e.keyword.slice(n+p.length))),a.a.createElement("div",{className:i()("sug-item",{current:t===k}),onClick:function(t){return D(e.keyword,t)},onMouseDown:A,key:e.keyword},r)})))))})),q=(n("4ea9a2360f1f9dff21ee"),n("e27353d76bdab012b9c1"),n("d85b0c63a3e4ea46eafd"),n("a7cb42378ff2e016201f"));function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){var t=e.redirectUrl,n=e.onLogin,o=X(Object(r.useState)("https://sso.toutiao.com/login/"),2),i=o[0],c=o[1];return Object(r.useEffect)((function(){c("https://sso.toutiao.com/login/?service=".concat(window.encodeURIComponent(t||window.location.href)))}),[]),a.a.createElement("a",{className:"login-button",href:globalThis.getFilterXss().filterUrl(i,null,{logType:"js.href/src",reportOnly:"all"}),rel:"nofollow",onClick:function(e){e.preventDefault(),n?n():window.open(i)}},"\u767b\u5f55")},J=function(e){var t=e||{},n=t.logParams,o=t.className,c=t.userInfo,u=t.loginRedirectUrl,s=t.onLogin,f=t.onLogout,d=X(Object(r.useState)(!1),2),m=d[0],p=d[1],b=Object(r.useRef)(null),v=[{href:globalThis.getFilterXss().filterUrl("//www.toutiao.com/c/user/token/".concat(null==c?void 0:c.userId,"/?source=").concat(n.pageType),null,{logType:"js.href/src",reportOnly:"all"}),text:"\u4e2a\u4eba\u4e3b\u9875",position:"home_page",section:"top_bar_homepage"},{href:"//mp.toutiao.com",text:"\u521b\u4f5c\u5e73\u53f0",position:"creator"},{href:globalThis.getFilterXss().filterUrl("//www.toutiao.com/c/user/token/".concat(null==c?void 0:c.userId,"/?tab=fav&source=").concat(n.pageType),null,{logType:"js.href/src",reportOnly:"all"}),text:"\u6211\u7684\u6536\u85cf",position:"my_favorite",section:"top_bar_favorite"},{href:"//sso.toutiao.com/logout/",text:"\u9000\u51fa\u767b\u5f55",target:"_self",position:"un_login"}];var h=a.a.createElement("div",{className:"user-icon",ref:b,onMouseEnter:function(){Object(l.a)("top_bar_click",{from_position:"author",action_type:"expand",icon_type:"avatar",section:n.section,page_name:n.pageType}),p(!0)},onMouseLeave:function(){return p(!1)}},a.a.createElement("a",{"aria-label":null==c?void 0:c.name,href:globalThis.getFilterXss().filterUrl("//www.toutiao.com/c/user/token/".concat(null==c?void 0:c.userId,"/?source=").concat(n.pageType),null,{logType:"js.href/src",reportOnly:"all"}),target:"_blank",rel:"noopener nofollow",onClick:function(e){e.preventDefault(),Object(l.a)("top_bar_click",{from_position:"author",action_type:"click",icon_type:"avatar",section:n.section,page_name:n.pageType});var t=Object(q.b)("//www.toutiao.com/c/user/token/".concat(null==c?void 0:c.userId,"/?source=").concat(n.pageType),{section:n.section,position:n.position,enter_from:n.enter_from});window.open(t)}},a.a.createElement("img",{src:globalThis.getFilterXss().filterUrl(null==c?void 0:c.avatarUrl,null,{logType:"js.href/src",reportOnly:"all"}),alt:""})),a.a.createElement(T.a,{visible:m,transformOrigin:"70px top"},a.a.createElement("div",{className:"user-list"},a.a.createElement("div",{className:"user-list-content"},v.map((function(e){return a.a.createElement("a",{href:globalThis.getFilterXss().filterUrl(e.href,null,{logType:"js.href/src",reportOnly:"all"}),target:e.target||"_blank",key:e.href,rel:"noopener nofollow",onClick:function(t){return function(e,t){e.preventDefault(),Object(l.a)("card_click",{page_type:null==n?void 0:n.pageType,from_position:t.position,card_name:"author"});var r=t.href;r.includes("/c/user/token")&&(r=Object(q.b)(r,{section:n.section,position:n.position,enter_from:n.enter_from,page_name:n.pageType})),r.includes("logout")&&f?f():t.target?window.location.href=globalThis.getFilterXss().filterUrl(r,null,{logType:"js.window.location",reportOnly:"all"}):window.open(r)}(t,e)}},e.text)}))))));return a.a.createElement("div",{className:i()("ttp-header-profile",[o])},(null==c?void 0:c.userId)?h:a.a.createElement(Z,{redirectUrl:u,onLogin:s}))},$=n("f1419b67ef4472693a2c"),ee=n("f1f248b38a47032da672"),te=n("5f43154fbbba23e15710");function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e||{},n=t.logParams,o=t.className,c=t.userInfo,f=t.webId,d=t.theme,m=t.loginRedirectUrl,p=t.abtestInfo,b=t.localCityInfo,v=t.forceInsertedChannel,h=t.onLogoClick,g=t.onLogin,_=t.onLogout,y=Object(r.useRef)(!1),w=ne(Object(r.useState)(!1),2),E=w[0],k=w[1],O=Object(r.useCallback)((function(){y.current||(y.current=!0,u()((function(){var e=window.scrollY||window.pageYOffset;k(e>0),y.current=!1})))}),[]);return Object(r.useEffect)((function(){return window.addEventListener("scroll",O),function(){window.removeEventListener("scroll",O)}}),[]),a.a.createElement(s.a,{placeholderHeight:64,position:{top:0,left:0,zIndex:200}},a.a.createElement("div",{role:"banner",className:i()("ttp-site-header-wrapper",o,{dark:"dark"===d,black:"black"===d,shadow:E})},a.a.createElement("div",{className:"ttp-site-header"},a.a.createElement("a",{"aria-label":"\u4eca\u65e5\u5934\u6761\u5fbd\u6807",className:"logo",href:"/",target:"_blank",rel:"nofollow",onClick:function(){null==h||h(),Object(l.a)("header_logo_click",Object.assign(Object.assign({},n),{from_position:"logo"}))}}),a.a.createElement("div",{className:"channel-wrapper"},a.a.createElement(M,{abtestInfo:p,localCityInfo:b,logParams:n,theme:d,forceInsertedChannel:v})),a.a.createElement("div",{style:{flex:1,minWidth:40}}),a.a.createElement(z,{newSearch:!0,logParams:Object.assign(Object.assign({},n),{page_name:n.page_name,group_id:n.group_id,if_login:c?"1":"0"})}),a.a.createElement("div",{className:"header-notice-wrapper",style:{flexShrink:0}},a.a.createElement(te.a,{logParams:n,userId:(null==c?void 0:c.userId)||"",webId:f,theme:d})),a.a.createElement("div",{className:"header-publisher-wrapper",style:{flexShrink:0}},a.a.createElement(ee.a,{logParams:Object.assign(Object.assign({},n),{page_type:null==n?void 0:n.page_name}),isLogin:!!(null==c?void 0:c.userId),theme:d})),a.a.createElement("div",{className:"header-profile-wrapper",style:{flexShrink:0}},a.a.createElement(J,{logParams:Object.assign(Object.assign({},n),{pageType:null==n?void 0:n.page_name}),userInfo:c,loginRedirectUrl:m,onLogin:function(){g?g():$.a.show({logParams:{enter_method:"login"}})},onLogout:function(){_?_():$.a.logout()}})))))}},"9ff8b349516e807d509d":function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("c1d32d7b2c2ebdde5bde"),i=n("fbbd810ddf979da8e79a"),c=n.n(i),u=n("08172d9560ad9ddbd809");n("a779817f12e60e7441d7");var l,s=n("229a5ee8951efd08f85c"),f=n("617300dd2ee3a73fcfd5"),d=n("6cf195ddfada1b0033e1"),m=n("098de4f1853062b3a141"),p=n.n(m),b=n("44750f857690efd77995"),v=(n("cd614ef011545c6d16a0"),function(e){var t=e.visible,n=e.className,r=e.children,o=e.onClose,i=e.onMouseEnter,c=e.onMouseLeave;return a.a.createElement(b.a,{visible:t,className:p()("ttp-message-wrapper",n)},a.a.createElement("div",{className:"message-container",onMouseEnter:i,onMouseLeave:c},r,a.a.createElement("button",{className:"close-btn",type:"button",onClick:o})))}),h=function(e){var t=e.pageName,n=Object(s.a)({logParams:{page_name:t,action_type:"push"}}),o=n.PWAInstallable,i=n.addToDesktop,u=Object(f.a)(o),l=Object(r.useState)(!1),m=c()(l,2),p=m[0],b=m[1],h=Object(r.useCallback)((function(){b(!0)}),[]),g=Object(r.useCallback)((function(e){b(!1),Object(d.a)("pwa_push_close",{page_name:t,action_type:"push",show_rank:Object(f.b)(),close_type:e})}),[t]);return Object(r.useEffect)((function(){u&&h()}),[u,h,g]),Object(r.useEffect)((function(){p&&Object(d.a)("pwa_push_show",{page_name:t,action_type:"push",show_rank:Object(f.b)()})}),[p,t]),o?a.a.createElement(v,{visible:p,onClose:function(){return g("click")}},a.a.createElement("div",{className:"add-to-desktop-panel"},a.a.createElement("div",null,a.a.createElement("p",{className:"title"},"\u6dfb\u52a0\u4eca\u65e5\u5934\u6761\u5230\u7535\u8111\u684c\u9762"),a.a.createElement("p",{className:"tips"},"\u5b89\u88c5\u540e\u53ef\u4ee5\u5728\u684c\u9762\u5feb\u6377\u6253\u5f00\uff0c\u8f7b\u677e\u8bbf\u95ee\u6d77\u91cf\u70ed\u70b9\u8d44\u8baf")),a.a.createElement("button",{className:"add-btn",type:"button",onClick:i},"\u7acb\u5373\u6dfb\u52a0"))):null},g=n("be6323750fae7868d676");function _(e){var t=document.querySelectorAll("a");Array.prototype.slice.call(t).forEach((function(t){var n=t.getAttribute("target"),r=t.getAttribute("href"),a=t.getAttribute("origin-target");n&&!a&&function(e){return e.includes("toutiao.com")||/^\/(?!\/).*/.test(e)}(r)&&t.setAttribute("target",e)}))}var y=Object(o.b)((function(e){var t=e.inPWA;return Object(r.useEffect)((function(){l=window.open}),[]),Object(r.useEffect)((function(){var e;return function(e,t){window.open=e?function(e,n){for(var r=Object(g.q)(e,{from_pwa:1}),a=n||t?"_blank":"_self",o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];return l.apply(void 0,[r,a].concat(i))}:function(e){for(var t="1"===Object(g.m)("from_pwa")?Object(g.q)(e,{from_pwa:1}):e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return l.apply(void 0,[t].concat(r))}}(t,!0),t?e=function(){var e=document.querySelector("#root"),t=Object(g.t)((function(){_("_self")}),500);t();var n=new MutationObserver(t);return n.observe(e,{childList:!0,subtree:!0}),function(){return n.disconnect()}}():_("_blank"),function(){var t;null===(t=e)||void 0===t||t()}}),[t]),null}));t.a=Object(o.b)((function(e){var t=e.pageName,n=e.showPWAPanel,o=void 0===n||n,i=function(){var e=Object(r.useState)(!1),t=c()(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){a(Object(u.c)())}),[]),Object(r.useEffect)((function(){var e,t=Object(u.b)(),n=function(){a(Object(u.c)())};return null==t||null===(e=t.addEventListener)||void 0===e||e.call(t,"change",n),function(){var e;null==t||null===(e=t.removeEventListener)||void 0===e||e.call(t,"change",n)}}),[]),n}();return Object(r.useEffect)((function(){if(i){var e=window.innerWidth,t=window.screen.availWidth;e<1300&&t>=1300&&window.resizeTo(1300,window.outerHeight)}}),[i]),a.a.createElement(a.a.Fragment,null,o?a.a.createElement(h,{pageName:t}):null,a.a.createElement(y,{inPWA:i}))}))},a20f03753300ba348bc3:function(e,t,n){},a2ee6ca588ea64b2ad56:function(e,t,n){"use strict";n.d(t,"i",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return N})),n.d(t,"h",(function(){return L})),n.d(t,"g",(function(){return R})),n.d(t,"e",(function(){return A})),n.d(t,"c",(function(){return D})),n.d(t,"k",(function(){return M})),n.d(t,"j",(function(){return U})),n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return V}));var r,a=n("54868fd92a74e390355c"),o=n.n(a),i=n("007862268c2fc8134ebb"),c=n.n(i),u=n("c5054cf9c06ccf557fcd"),l=n.n(u),s=n("4f25322f10fce8ce9169"),f=n.n(s),d=n("a1370d8a46bf7fd478fc"),m=n.n(d),p=n("a0317e3b4020b526a9b2"),b=n.n(p),v=n("819716bda1fd0681a754"),h=n.n(v),g=n("90cd159fadd272c59cf2"),_=n.n(g),y=n("bd3497eff95c6980ce46"),w=n.n(y),E=n("2422758950d9f66b7423"),k=n("c3b7ebebf861b1e36f30"),O=n("be6323750fae7868d676"),j=n("a99d8596674b8a971a00");function C(e,t){var n=b()(e);if(m.a){var r=m()(e);t&&(r=r.filter((function(t){return f()(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):l.a?c()(e,l()(n)):C(Object(n)).forEach((function(t){o()(e,t,f()(n,t))}))}return e}function x(e){var t=Object(k.a)()?1:0;return{client_extra_params:_()(I({playparam:"codec_type:0,enable_dash:".concat(t,",unwatermark:1")},e))}}function T(e,t){return j.a.get("/api/pc/list/feed",{params:I(I({},e),{},{channel_id:94349560412,category:"pc_profile_channel",disable_raw_data:!0},x({immerse_enter_from:t}))})}var S=(r={},h()(r,E.j.VIDEO,91558184576),h()(r,E.j.SHORT_VIDEO,94349590101),r);function N(e,t,n){return j.a.get("/api/pc/list/feed",{params:I(I({},e),{},{channel_id:S[n],category:"pc_profile_channel",disable_raw_data:!0},x({group_id:t}))})}function L(e){var t=Object(k.a)()?1:0;return j.a.get("/video/app/pseries/",{params:I(I({},e),{},{count:30,play_param:"codec_type:0,enable_dash:".concat(t,",unwatermark:1")})})}function R(){return j.a.get("/ugc/video/v1/pseries",{params:{id:"6995887613018246435"}})}function A(e){return j.a.get("/api/pc/list/feed",{params:I({max_behot_time:e.max_behot_time,channel_id:94349585592,category:"pc_follow_feed",disable_raw_data:!0},x({group_id:e.gid}))})}var P,D={all:94349558504,video:94349491504,short_video:94349491514};function M(e){var t=Object(O.m)("from_scene");return j.a.get("/api/pc/list/user/feed",{params:I(I({},e),{},{channel_id:D[t],category:"pc_profile_video_new"},x({video_inner_feed:1}))})}function U(e,t){return j.a.get("/ugc/video/v1/player_info",{params:I({aid:E.k,group_id:e,vid:t},x())})}function V(e){return j.a.post("/action/api/v1/do_action/",w.a.stringify({biz_id:0,action_type:e.actionType,target_id:e.groupId,target_type:e.targetType,is_cancel:e.cancel}),{params:{aid:E.k,app_name:E.l}})}!function(e){e[e.LIKE=0]="LIKE",e[e.FAVORITE=1]="FAVORITE",e[e.DISLIKE=52]="DISLIKE"}(P||(P={}))},a30a8014fe3ebfc628da:function(e,t,n){},a5b25f8e99db71c1fcf2:function(e,t,n){"use strict";var r=n("f1419b67ef4472693a2c");t.a=function(e,t){return e?(t&&t(),!0):(r.a.show({title:"OTHER"}),!1)}},a779817f12e60e7441d7:function(e,t,n){},a7cb42378ff2e016201f:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));n("e934f008ce014eda6535"),n("3001a3934397946b1a1f");var r=n("d9c75f65b66c037f4131"),a=n("5198e738d473f46c850b");function o(e,t){if(!t)return e;var n,r,o,i="".concat(Math.random().toString(16).substr(2),"_").concat(Date.now()),c=Object(a.d)(e,(o=i,(r="log_from")in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n));return window.sessionStorage.setItem(i,JSON.stringify(t)),c}function i(){if(!r.b)return null;var e=Object(a.b)("log_from"),t=window.sessionStorage.getItem(e);return t?Object(a.e)(t):null}},a99d8596674b8a971a00:function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("92c8006d8139d763c605"),v=n.n(b),h=n("ee10aab64b9ea632f5ab"),g=n.n(h),_=n("819716bda1fd0681a754"),y=n.n(_),w=n("3b6da333073325e45942"),E=n.n(w),k=n("ad3ac99ada113225a3d8"),O=n.n(k),j=["/tt-anti-token","/video/urls/v/1/toutiao/mp4/"],C=["/api/pc/list/feed","/search/suggest/hot_words","/hot-event/hot-board/","/stream/widget/local_weather/","search/suggest/hot_words/","/api/pc/list/user/feed","/2/article/v88/refresh_tip/","/api/pc/user/follow","/video/app/pseries/","/ugc/video/v1/pseries","/ugc/video/v1/player_info","/action/api/v1/do_action/","/api/amos_items/","/wenda/v5/"],I=["/api/pc/list/feed","/api/pc/list/user/feed","/video/app/pseries/","/ugc/video/v1/pseries"];function x(e,t){var n,r,a="".concat(location.protocol,"//").concat(location.host);(function(e){return!C.some((function(t){return e.indexOf(t)>-1}))})(e)&&(a+="/toutiao");var o={url:a+e};return t.data&&(o.body=t.data),(null===(n=window.byted_acrawler)||void 0===n||null===(r=n.sign)||void 0===r?void 0:r.call(n,o))||""}var T=n("c78901355124ccab56ec"),S=n.n(T),N=n("6bb41c796464fc214f15"),L=n.n(N),R=n("6104d0ccf35b3944ecf2"),A=n.n(R),P=n("2422758950d9f66b7423");var D=new(function(){function e(){L()(this,e),this.show=!1,this.success=!1,this.waitVerify=null}return A()(e,[{key:"verify",value:function(e){var t=this;return this.waitVerify=new S.a((function(n){var r;t.show=!0,r={verifyData:e,successCb:function(){t.show=!1,t.success=!0,n()},closeCb:function(){t.show=!1,t.success=!1,n()}},window.TTGCaptcha?window.TTGCaptcha.render({verify_data:r.verifyData,captchaOptions:{app_name:P.l,showMode:"mask",successCb:function(e){var t;null===(t=r.successCb)||void 0===t||t.call(r,e)},errorCb:function(e){var t;null===(t=r.errorCb)||void 0===t||t.call(r,e)},closeCb:function(){var e;null===(e=r.closeCb)||void 0===e||e.call(r)}}}):console.error("No captcha.js")})),this.waitVerify}},{key:"waitVerifyFinish",value:function(){var e=this;return new S.a((function(t){e.waitVerify?e.waitVerify.then((function(){t()})):t()}))}}]),e}()),M=n("4e16ef1abe038022cfb8");function U(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):u.a?i()(e,u()(n)):U(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var F=E.a.create({timeout:1e4});F.interceptors.request.use((function(e){return"post"===e.method&&(e.headers=V(V({},e.headers),{},{"X-CSRFToken":O.a.get("csrftoken"),"tt-anti-token":O.a.get("tt_anti_token")})),e})),F.interceptors.request.use((function(e){var t;if(!function(e){return!e||!j.some((function(t){return e.indexOf(t)>-1}))}(e.url))return e;(null===(t=e.params)||void 0===t?void 0:t._signature)&&delete e.params._signature;var n=x(F.getUri(e),e);return e.params=V(V({},e.params),{},{_signature:n}),e})),F.interceptors.request.use((function(e){var t;return(t=e.url)&&I.some((function(e){return t.indexOf(e)>-1}))&&(e.params=V(V({},e.params),{},{aid:P.k,app_name:P.l})),e})),F.interceptors.response.use(function(){var e=g()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=null==t||null===(n=t.data)||void 0===n?void 0:n.decision)){e.next=19;break}if(D.show){e.next=13;break}return Object(M.b)("show-captcha",{type:"api"}),e.next=6,D.verify(r);case 6:if(!D.success){e.next=11;break}return Object(M.b)("pass-captcha",{type:"api"}),e.next=10,F.request(t.config);case 10:return e.abrupt("return",e.sent);case 11:e.next=19;break;case 13:return e.next=15,D.waitVerifyFinish();case 15:if(!D.success){e.next=19;break}return e.next=18,F.request(t.config);case 18:return e.abrupt("return",e.sent);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());t.a=F},ab64641ae399574b8de3:function(e,t,n){},abe5a667b2c2630eda61:function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("5f2df22a04de7668a003"),i=n("c1d32d7b2c2ebdde5bde"),c=(n("b0512d838f26a921c3b7"),n("dcc7e48d0271dc0ea330")),u=n.n(c);var l=n("b65c96faf0c123cf88e4");t.a=Object(i.b)((function(e){var t=e.attachCardInfo,n=e.onClick;if(!t)return null;var r=function(e){var t,n,r,a,o,i,c;return{avatarUrl:(null===(t=e.user_info)||void 0===t?void 0:t.image)||"",name:(null===(n=e.user_info)||void 0===n?void 0:n.name)||e.description,title:e.title,coverUrl:(null===(r=e.cover_image)||void 0===r?void 0:r.url)||"",cardUrl:(null===(a=e.review_info)||void 0===a?void 0:a.card_url)||(null===(o=e.extra)||void 0===o?void 0:o.url)||"",buttonUrl:null===(i=e.review_info)||void 0===i?void 0:i.button_url,buttonName:null===(c=e.button)||void 0===c?void 0:c.name}}(t),i=function(){null==n||n(r)};return a.a.createElement("div",{className:"wtt-link-card-wrapper"},a.a.createElement("a",{href:r.cardUrl,target:"_blank",rel:"noopener nofollow noreferrer",title:r.title,onClick:i},a.a.createElement("div",{className:"card-l"},r.avatarUrl&&a.a.createElement("div",{className:"user-info"},a.a.createElement(o.a,{url:r.avatarUrl}),a.a.createElement("span",{className:"name"},r.name)),a.a.createElement("p",{className:"link-content"},r.title))),a.a.createElement("div",{className:"card-r"},a.a.createElement(l.a,{cover:r.coverUrl||u.a,articleUrl:r.cardUrl,onClickToDetail:i})))}))},ac9414e2d47df986f7f3:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("90cd159fadd272c59cf2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("a0317e3b4020b526a9b2"),g=n.n(h),_=n("a8b0120a79b3dcde8d12"),y=n.n(_),w=n("6bb41c796464fc214f15"),E=n.n(w),k=n("6104d0ccf35b3944ecf2"),O=n.n(k),j=n("6cf195ddfada1b0033e1");function C(e,t){var n=g()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):C(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var x={event:"stay_page",params:{}},T=function(){function e(t,n){var r=this;E()(this,e),this.config=x,this.presentConfig=function(){return[]},this.startTime=0,this.canSendCloseEvent=!1,this.totalDuration=0,this.handleVisibilitychange=function(){"hidden"===document.visibilityState?(r.sendEvent(),r.canSendCloseEvent=!1,r.totalDuration=r.getTotalDuration()):"visible"===document.visibilityState&&(r.startTime=y()(),r.canSendCloseEvent=!0)},this.handlePageUnload=function(){r.canSendCloseEvent&&(r.sendEvent(),r.end())},this.config=t||x,this.presentConfig=n||function(){return[]},this.startTime=y()(),"visible"===document.visibilityState&&(this.canSendCloseEvent=!0)}return O()(e,[{key:"sendEvent",value:function(){var e=y()()-this.startTime;e>432e5||[].concat(this.config).concat(this.presentConfig()).forEach((function(t){var n=g()(t.params).reduce((function(e,n){return e[n]="function"==typeof t.params[n]?t.params[n]():t.params[n],e}),{});Object(j.a)(t.event,I(I({},n),{},{stay_time:e,log_pb:p()(n)}))}))}},{key:"setCurrentTimeAsStartTime",value:function(){this.startTime=y()()}},{key:"getStartTime",value:function(){return this.startTime}},{key:"getTotalDuration",value:function(){return this.totalDuration+y()()-this.startTime}},{key:"start",value:function(){var e;document.addEventListener("visibilitychange",this.handleVisibilitychange),e=this.handlePageUnload,navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)}},{key:"end",value:function(){document.removeEventListener("visibilitychange",this.handleVisibilitychange),window.removeEventListener("beforeunload",this.handlePageUnload),window.removeEventListener("pagehide",this.handlePageUnload)}}]),e}()},acff6c447f863638e55f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r,a=n("600ecdf555875453c941");function o(e,t){var n=null;switch(e){case r.WTT:n="https://www.toutiao.com/w/".concat(t,"/");break;case r.VIDEO:n="https://www.ixigua.com/".concat(t);break;case r.SELF_VIDEO:n="https://www.toutiao.com/video/".concat(t,"/");break;case r.TRENDING_TOPIC:n="https://www.toutiao.com/trending/".concat(t,"/");break;case r.QUESTION:n="https://www.toutiao.com/question/".concat(t,"/");break;case r.ANSWER:n="https://www.toutiao.com/answer/".concat(t,"/");break;default:n="https://www.toutiao.com/article/".concat(t,"/")}return n}n.d(t,"c",(function(){return a.a})),function(e){e.ARTICLE="article",e.WTT="wtt",e.VIDEO="video",e.SELF_VIDEO="self_video",e.TRENDING_TOPIC="trending_topic",e.QUESTION="question",e.ANSWER="answer"}(r||(r={}))},ae17adf1c28fabf1305a:function(e,t,n){},ae503583017af8138014:function(e,t,n){},b0512d838f26a921c3b7:function(e,t,n){},b185499127a129210d8e:function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("ed0e645fb10944a4fb8f"),i=n("c32dc719ced889e8de03"),c=n("0c7cb8e7fa7d864c06e8"),u=n("91ccd34fe1d322fa1c32"),l=n("54868fd92a74e390355c"),s=n.n(l),f=n("007862268c2fc8134ebb"),d=n.n(f),m=n("c5054cf9c06ccf557fcd"),p=n.n(m),b=n("4f25322f10fce8ce9169"),v=n.n(b),h=n("a1370d8a46bf7fd478fc"),g=n.n(h),_=n("a0317e3b4020b526a9b2"),y=n.n(_),w=n("819716bda1fd0681a754"),E=n.n(w),k=(n("f5af4a301d22e870440e"),n("be6323750fae7868d676")),O=n("7009f854fb449fc1b23d"),j=n("acff6c447f863638e55f"),C=n("fb622297466e7a637f99"),I=n("92c8006d8139d763c605"),x=n.n(I),T=n("ee10aab64b9ea632f5ab"),S=n.n(T),N=n("881258775ad04daaf512"),L=n.n(N),R=n("fbbd810ddf979da8e79a"),A=n.n(R),P=n("098de4f1853062b3a141"),D=n.n(P),M=(n("fa1bfa8e190ce16c8135"),n("2422758950d9f66b7423")),U=n("78e411ccf7a9a0caceb3"),V=n("fc117aacb27df2ddee39"),F=n("41e81a6b6b2e87160a0d"),H=n("38c58096afa111fcdfd2"),B=n("546ca7f10f62589ab9f4"),W=n("b65c96faf0c123cf88e4"),Y=n("5616f33a71e39794ee3e"),G=n("9a261fd8feb2690e8f07"),K=n("1e93314aaf7aabdbfbff");function z(e,t){var n=y()(e);if(g.a){var r=g()(e);t&&(r=r.filter((function(t){return v()(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):z(Object(n)).forEach((function(t){s()(e,t,v()(n,t))}))}return e}var X=function(e){var t=e.data,n=e.disableDislike,r=e.onClickToDetail,o=e.onDislike,i=e.onDislikeClick,c=q(q({},Object(U.b)(t)),{},{group_type:t.__group_type});return a.a.createElement("div",{className:"feed-card-short-video-multi-item"},a.a.createElement(W.a,{cover:t.cover,articleUrl:t.detailUrl,desc:t.title,logInfo:c,onClickToDetail:r}),a.a.createElement("div",{className:"dislike-container"},a.a.createElement(B.d,{data:{groupId:t.groupId,itemId:t.itemId,filterWords:t.filterWords,source:M.h.SHORT_VIDEO},disable:n,onDislike:o,onDislikeClick:i})),a.a.createElement("div",{className:"info-container"},a.a.createElement(H.a,{className:"title",href:t.detailUrl,target:"_blank",rel:"noopener nofollow",title:t.title,logInfo:c,onClick:r},t.title),a.a.createElement("div",{className:"play-count"},Object(k.j)(t.playCount),"\u6b21\u64ad\u653e")))},Q=function(e){var t=e.formattedParams,n=e.onClickToDetail,o=e.onDislikeClick,i=e.onDislike,c=e.onHideCell,u=Object(r.useState)(e.data.slice(0,4)),l=A()(u,2),s=l[0],f=l[1],d=Object(r.useState)(1/0),m=A()(d,2),p=m[0],b=m[1],v=Object(r.useState)(!1),h=A()(v,2),g=h[0],_=h[1],y=Object(r.useRef)(!1),w=s[0].__channel_id,E=Object(V.a)({videoType:M.j.SHORT_VIDEO,data:e.data.slice(4),channelId:w}),k=Object(r.useMemo)((function(){return s.reduce((function(e,t){return e&&!!t.error}),!0)}),[s]);function O(e,t,n){return[].concat(L()(e.slice(0,t)),[n],L()(e.slice(t+1)))}function j(){return(j=S()(x.a.mark((function e(n,r,a){var o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=L()(s),b(r),i({target:n,dislikeType:a}),y.current=!0,setTimeout((function(){y.current&&(o=O(o,r,{loading:!0}),f(o))}),250),setTimeout((function(){b(1/0)}),550),_(!0),e.next=9,E();case 9:c=e.sent,y.current=!1,c=c?q(q({},c),t):{error:!0},o=O(o,r,c),f(o),_(!1),Object(C.d)(c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){k&&c()}),[k]),a.a.createElement(F.a,{cell:s},a.a.createElement("div",{className:"feed-card-short-video-multi"},a.a.createElement("ul",null,s.map((function(e,t){return a.a.createElement("li",{key:e.groupId||t,className:D()("multi-card-wrapper",{animate:p===t})},e.error&&a.a.createElement(K.a,null),e.loading&&a.a.createElement(G.a,null),!e.error&&!e.loading&&a.a.createElement(X,{data:e,disableDislike:g,onClickToDetail:function(){return n(e)},onDislike:function(n){return function(e,t,n){return j.apply(this,arguments)}(e,t,n)},onDislikeClick:function(){return o(e)}}))}))),a.a.createElement(Y.a,{leftTools:[a.a.createElement(B.a,{key:"author",source:"\u5c0f\u89c6\u9891"})]})))},Z=n("1114286b3a839994fd62"),J=n("7ff40e675dfee032084a"),$=n("d4449abe3d2ba6591a15");function ee(e,t){var n=y()(e);if(g.a){var r=g()(e);t&&(r=r.filter((function(t){return v()(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):ee(Object(n)).forEach((function(t){s()(e,t,v()(n,t))}))}return e}var ne=function(e){var t=e.data,n=e.logParams,r=e.onDislike,o=e.onDislikeClick,i=e.onShare,c=e.onLikeChange,u=e.onShareAction,l=e.onWttSubmit,s=te(te({},Object(U.b)(t)),{},{group_type:t.__group_type});function f(){var t;Object(Z.e)(),null===(t=e.onClickToDetail)||void 0===t||t.call(e)}return a.a.createElement(J.a,{className:"feed-card-video-follow feed-card-shortvideo-follow",data:t,logParams:n,logInfo:s,isShortVideo:!0,onDislike:r,onClickToDetail:f,onDislikeClick:o,media:a.a.createElement($.a,{userInfo:t.userInfo,timestamp:t.timestamp,logInfo:n}),leftTools:[a.a.createElement(B.f,{key:"share",data:t,wttRepostParams:{fw_id_type:4,opt_id_type:4,repost_type:211},onSuccess:i,onShareAction:u,onWttSubmit:l}),a.a.createElement(B.b,{key:"comment",styleType:B.c.WITH_ICON,commentCount:t.commentCount,articleUrl:t.detailUrl,jumpQuery:{from_scene:"follow"},logInfo:s,onClickToDetail:f}),a.a.createElement(B.e,{key:"like",groupId:t.groupId,likeCount:t.likeCount,isLiked:t.userDigg,diggType:M.d.VIDEO,onLikeChange:c})]})};function re(e,t){var n=y()(e);if(g.a){var r=g()(e);t&&(r=r.filter((function(t){return v()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):re(Object(n)).forEach((function(t){s()(e,t,v()(n,t))}))}return e}function oe(e){var t,n,r,a,o=(null===(t=e.large_image_list)||void 0===t?void 0:t[0])||(null===(n=e.video)||void 0===n||null===(r=n.origin_cover)||void 0===r||null===(a=r.url_list)||void 0===a?void 0:a[0]);return o&&o.url?o.url.replace(/^http:/,""):""}var ie=function(e){var t,n,i,c,u,l,s,f=e.cell,d=e.logParams,m=e.onDislike,p=e.onItemClick,b=e.onLikeChange,v=Object(r.useContext)(O.a),h={__channel_id:f.__channel_id,__channel_info:f.__channel_info,__type:f.__type,__log_enter_from:f.__log_enter_from,__log_impr_type:f.__log_impr_type,__log_category_name:f.__log_category_name,__log_show_rank:f.__log_show_rank,__log_section:f.__log_section,__group_type:f.__group_type,__log_page_name:f.__log_page_name};49===f.cell_type?t=[ae({title:f.title||"[\u65e0\u6587\u5b57]",cover:oe(f),duration:null===(n=f.video)||void 0===n?void 0:n.duration,videoId:null===(i=f.video)||void 0===i?void 0:i.video_id,groupId:f.group_id,itemId:f.item_id,bizId:f.biz_id,detailUrl:Object(j.b)(j.a.SELF_VIDEO,f.group_id),userInfo:f.__user_info,commentCount:null===(c=f.action)||void 0===c?void 0:c.comment_count,userDigg:null===(u=f.action)||void 0===u?void 0:u.user_digg,likeCount:null===(l=f.action)||void 0===l?void 0:l.digg_count,playCount:0,timestamp:f.publish_time,filterWords:null===(s=f.filter_words)||void 0===s?void 0:s.filter_words,log_pb:f.log_pb,group_id:f.group_id,group_source:f.group_source,cell_type:f.cell_type},h)]:t=(f.data||[]).map((function(e){var t,n,r;return ae({title:e.title,cover:oe(e),groupId:e.group_id,itemId:e.item_id,bizId:e.biz_id,detailUrl:Object(j.b)(j.a.SELF_VIDEO,e.group_id),userInfo:Object(o.k)(e),playCount:null===(t=e.action)||void 0===t?void 0:t.play_count,filterWords:null===(n=e.filter_words)||void 0===n||null===(r=n.filter_words)||void 0===r?void 0:r.filter((function(e){return"21:10004"!==e.id})),log_pb:e.log_pb,group_id:e.group_id,group_source:e.group_source,cell_type:e.cell_type},h)}));var g={position:d.position,article_type:"shortvideo"},_=t.length;function y(e){m(e)}function w(e){var n,r=e.target,a=e.dislikeType,o=void 0===a?"":a;if(r){var i=document.activeElement,c=Object(k.l)(document.querySelector(".ttp-feed-module"));Object(k.f)(i,c)}else y(ae(ae({},f),{},{dislikeType:o}));var u=r||t[0];Object(C.n)(u,ae(ae({},g),{},{is_following:(null===(n=u.userInfo)||void 0===n?void 0:n.isFollow)?"1":"0",dislike_type:o,content_type:"single"}))}function E(e){var n,r=e||t[0];Object(C.g)(r,{is_following:(null===(n=r.userInfo)||void 0===n?void 0:n.isFollow)?"1":"0",article_type:"shortvideo",position:d.position})}function I(e){null==p||p();var n=e||t[0];Object(C.e)(n,g)}return _?a.a.createElement("div",{className:"feed-card-wrapper feed-card-video-wrapper"},_>1?a.a.createElement(Q,{data:t,formattedParams:h,onClickToDetail:I,onDislike:w,onDislikeClick:E,onHideCell:function(){return y(f)}}):a.a.createElement(ne,{data:t[0],logParams:d,onDislike:w,onClickToDetail:I,onDislikeClick:E,onLikeChange:function(e){b(f,e),1===e?Object(C.p)(f,v,g):Object(C.s)(f,v,g)},onShare:function(e){Object(C.q)(f,v,ae(ae({},g),{},{share_platform:e}))},onShareAction:function(e){Object(C.t)(f,ae(ae({},g),{},{action_type:e}))},onWttSubmit:function(){Object(C.w)(f,g)}})):null},ce=(n("da718d76f9b51529dd59"),n("54b2d6dda1f17486c719")),ue=function(e){var t=e.data,n=e.onRefresh;return a.a.createElement("div",{className:"feed-card-refresh-wrapper"},a.a.createElement("button",{type:"button",className:"inner-tips",onClick:function(){n();var e=document.querySelector(".ttp-feed-module");if(e&&e.getBoundingClientRect().top>-39)return;ce.a.emit.scrollToTop()}},Object(k.k)(t.behot_time),"\u770b\u5230\u8fd9\u91cc\uff0c\u70b9\u51fb\u5237\u65b0"))},le=(n("f888a5b741084f046b7a"),n("90cd159fadd272c59cf2")),se=n.n(le);function fe(e,t){var n=y()(e);if(g.a){var r=g()(e);t&&(r=r.filter((function(t){return v()(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):fe(Object(n)).forEach((function(t){s()(e,t,v()(n,t))}))}return e}var me=function(e){var t=e.data,n=e.logParams,i=e.logInfo,c=e.onClickToDetail,u=e.onDislike,l=e.onDislikeClick,s=Object(r.useState)(!1),f=A()(s,2),d=f[0],m=f[1],p=Object(r.useMemo)((function(){return t.title.length}),[t.title]),b=t.coverUrls,v=b.length||0,h=function(){c(),m(!0)};return a.a.createElement("div",{className:D()("feed-card-wenda",{"no-cover":!v,"single-cover":v>0&&v<4,"multi-cover":v>=4,"two-line-title":v>0&&v<4&&p>25,visited:d})},a.a.createElement("div",{className:"feed-card-wenda-l"},a.a.createElement(H.a,{className:"title",href:t.detailUrl,target:"_blank",rel:"noopener","aria-label":t.title,logInfo:i,onClick:h},t.title),t.abstract&&a.a.createElement(H.a,{className:"desc",href:t.detailUrl,target:"_blank",rel:"noopener","aria-label":t.abstract,logInfo:i,onClick:h},t.abstract),v>=4&&a.a.createElement("ul",{className:"cover-list"},b.map((function(e,n){return a.a.createElement("li",{key:n},a.a.createElement(W.a,{alt:"".concat(t.title,"-\u56fe").concat(n+1),cover:e,articleUrl:t.detailUrl,logInfo:i,onClickToDetail:h}))}))),a.a.createElement(Y.a,{leftTools:[a.a.createElement(B.a,{key:"author",userInfo:t.mediaInfo,source:t.source,logInfo:n}),a.a.createElement(B.b,{key:"comment",inside:!1,commentCount:t.commentCount,articleUrl:t.detailUrl,logInfo:i,onClickToDetail:h})],rightTools:[a.a.createElement(B.d,{key:"dislike",data:{itemId:t.groupId,groupId:t.groupId,filterWords:t.filterWords||[],source:o.a.QUESTION===t.type?M.h.WENDA_QUESTION:M.h.WENDA_ANSWER},onDislike:u,onDislikeClick:l})]})),v>0&&v<4&&a.a.createElement("div",{className:"feed-card-wenda-r"},a.a.createElement(W.a,{cover:b[0],articleUrl:t.detailUrl,desc:t.title,logInfo:i,onClickToDetail:h})))},pe=function(e){var t=e.cell,n=e.logParams,r=e.onItemClick,i=e.onDislike;!function(e){var t;e.log_pb&&(e.log_pb=de(de({},e.log_pb),{},{enterfrom_answerid:null===(t=e.article_url.match(/\/question\/(\d+)/))||void 0===t?void 0:t[1]}))}(t);var c=function(e){var t=e.__type,n=e.__cover_urls,r=e.group_id,a=e.group_source,i=e.title,c=e.Abstract,u=e.media_info,l=e.source,s=e.comment_count,f=e.filter_words,d=t,m=r;return{type:d,groupId:m,groupSource:a,title:i,abstract:c,coverUrls:n||[],detailUrl:Object(j.b)(o.a.QUESTION===d?j.a.QUESTION:j.a.ANSWER,m),mediaInfo:u&&{name:u.name,userSecToken:u.user_id},source:l,commentCount:s,filterWords:null==f?void 0:f.filter_words}}(t),u=function(e,t){var n=e.log_pb,r=e.__cover_urls,a=e.__channel_id,o=e.__log_section,i=e.__log_show_rank;return{impr_id:null==n?void 0:n.impr_id,impr_type:Object(C.l)(e),group_type:Object(C.k)(null==r?void 0:r.length),category_name:Object(C.i)(e),enter_from:Object(C.j)(e),from_page_name:t.page_name,channel_id:a,section:o||"feed",position:t.position,is_following:(null==n?void 0:n.is_following)||"0",is_top_content:"0",show_rank:i,log_pb:n&&se()(n)}}(t,n);return a.a.createElement(F.a,{cell:t},a.a.createElement("div",{className:"feed-card-wrapper feed-card-wenda-wrapper"},a.a.createElement(me,{data:c,logParams:n,logInfo:u,onClickToDetail:function(){null==r||r(),Object(C.c)(function(e,t){var n=e.__type,r=e.__log_area,a=e.__channel_info,i=e.__log_section,c=e.__log_show_rank,u=e.__cover_urls,l=e.group_id,s=e.group_source,f=e.log_pb,d=n,m=l,p=Object(j.b)(o.a.QUESTION===d?j.a.QUESTION:j.a.ANSWER,m);return de(de({area:r||("all"===(null==a?void 0:a.key)?"feed":"category"),gid:m,href:p},t),{},{enter_from:Object(C.j)(e),category_name:Object(C.i)(e),channel_id:null==a?void 0:a.channelId,impr_id:null==f?void 0:f.impr_id,enterfrom_answerid:null==f?void 0:f.enterfrom_answerid,is_top_content:"0",section:i||("list"===t.position?"feed":"detail_feed"),group_source:s,article_type:"qa",group_id:m,show_rank:c,group_type:Object(C.k)((null==u?void 0:u.length)||0),log_pb:f&&se()(f)})}(t,n))},onDislike:function(e){i(t),Object(C.n)(t,{is_following:u.is_following,article_type:"qa",position:n.position,dislike_type:e,content_type:"single"})},onDislikeClick:function(){Object(C.g)(t,{is_following:u.is_following,article_type:"qa",position:n.position})}})))},be=n("10130cfc2ba27a09b7e5"),ve=(n("60ea5d854a4999bbf092"),n("53955f9dab771af04369")),he=function(e){var t=e.data,n=e.logParams,o=e.onClickToDetail,i=Object(r.useState)(!1),c=A()(i,2),u=c[0],l=c[1],s=Object(U.b)(t);function f(){l(!0),o()}return a.a.createElement(F.a,{cell:t},a.a.createElement(ve.a,{className:D()("feed-card-article-multi-item",{visited:u}),data:t,logInfo:s,logParams:n,onDislike:k.c,onClickToDetail:f,onDislikeClick:k.c,footer:a.a.createElement(Y.a,{leftTools:[a.a.createElement(B.b,{key:"comment",inside:0===t.articleType,commentCount:t.commentCount,articleUrl:t.articleUrl,logInfo:s,onClickToDetail:f}),a.a.createElement(B.h,{key:"time",timestamp:t.timestamp})]})}))},ge=function(e){var t=e.data,n=e.logParams,o=e.onDislike,i=e.onClickToDetail,c=e.onDislikeClick,u=e.onMoreClick,l=t[0],s=t.slice(2).length,f=Object(r.useState)(t.slice(0,2)),d=A()(f,2),m=d[0],p=d[1],b=Object(r.useRef)(null);function v(){u(),p(t)}return a.a.createElement("div",{className:"feed-card-article-multi"},a.a.createElement("div",{className:"feed-card-article-multi-header"},a.a.createElement($.a,{userInfo:l.userInfo,source:l.source,sourceAvatar:l.sourceAvatar,logInfo:n}),a.a.createElement(B.d,{data:{itemId:l.id,groupId:l.id,filterWords:l.filterWords,source:M.h.ARTICLE},disableReport:!0,onDislike:o,onDislikeClick:c})),a.a.createElement("div",{ref:b},m.map((function(e){return a.a.createElement(he,{key:e.groupId,data:e,logParams:n,onClickToDetail:function(){return i(e.groupId)}})}))),!!s&&m.length<t.length&&a.a.createElement("div",{className:"rest",tabIndex:0,role:"button",onClick:v,onKeyDown:function(e){e.stopPropagation();var t=e.keyCode;13!==t&&32!==t||(e.preventDefault(),v(),setTimeout((function(){var e,t,n=[].slice.call((null===(e=b.current)||void 0===e?void 0:e.childNodes)||[])[2];null===(t=Object(k.l)(n)[0])||void 0===t||t.focus()})))}},"\u5c55\u5f00\u4f59\u4e0b",s,"\u7bc7"))};function _e(e,t){var n=y()(e);if(g.a){var r=g()(e);t&&(r=r.filter((function(t){return v()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):_e(Object(n)).forEach((function(t){s()(e,t,v()(n,t))}))}return e}function we(e,t){var n,r;return 102===e.cell_type?null===(r=e.filter_words)||void 0===r?void 0:r.filter_words:null===(n=t.filter_words)||void 0===n?void 0:n.filter_words}var Ee=function(e){var t=e.cell,n=e.logParams,i=e.onDislike,c=e.onItemClick,u=e.onLikeChange,l=Object(r.useContext)(O.a),s=function(e){return 102===e.cell_type?e.sub_items||[]:[e]}(t).map((function(e){return{groupId:e.group_id,itemId:e.item_id,articleType:e.article_type,title:e.title,coverUrls:e.__cover_urls||Object(o.f)(e),articleUrl:Object(o.g)(e,"article"),userInfo:e.__user_info||Object(o.k)(e),source:e.source,sourceAvatar:e.source_avatar,commentCount:e.comment_count,userDigg:e.user_digg,likeCount:e.digg_count,timestamp:e.publish_time,isStick:t.is_stick,stickIndex:t.__stick_index,stickStyle:t.stick_style,filterWords:we(t,e),subItems:e.sub_items,id:t.id,mediaInfo:Object(o.i)(t),group_id:e.group_id,group_source:e.group_source,cell_type:t.cell_type,log_pb:t.log_pb,__channel_id:t.__channel_id,__channel_info:t.__channel_info,__type:t.__type,__log_enter_from:t.__log_enter_from,__log_impr_type:t.__log_impr_type,__log_category_name:t.__log_category_name,__log_show_rank:t.__log_show_rank,__log_section:t.__log_section}})),f={position:n.position,article_type:"text"};function d(e){i(ye(ye({},t),{},{dislikeType:e})),Object(C.n)(s[0],ye(ye({},f),{},{dislike_type:e,content_type:"mix"}))}function m(e){var r,a,o,i=s.filter((function(t){return t.group_id===e}))[0];null==c||c(),Object(C.c)(ye(ye({area:t.__log_area||("all"===(null===(r=t.__channel_info)||void 0===r?void 0:r.key)?"feed":"category"),gid:i.group_id,href:i.articleUrl},n),{},{enter_from:Object(C.j)(i),category_name:Object(C.i)(i),channel_id:null===(a=t.__channel_info)||void 0===a?void 0:a.channelId,impr_id:null===(o=t.log_pb)||void 0===o?void 0:o.impr_id,is_top_content:"0",section:"feed",group_source:i.group_source,article_type:"text",group_id:i.group_id,show_rank:i.__log_show_rank,group_type:Object(C.k)(i.coverUrls.length)}))}function p(){var e;Object(C.g)(s[0],ye(ye({},f),{},{is_following:(null===(e=s[0].userInfo)||void 0===e?void 0:e.follow)?"1":"0"}))}return s.length?a.a.createElement("div",{className:"feed-card-wrapper feed-card-article-wrapper"},s.length>1?a.a.createElement(ge,{data:s,logParams:n,onDislike:d,onClickToDetail:m,onDislikeClick:p,onMoreClick:function(){Object(C.f)(t)}}):a.a.createElement(U.a,{data:s[0],logParams:ye(ye({},n),{},{enter_from:Object(C.j)(t)}),onDislike:d,onClickToDetail:function(){return m(s[0].groupId)},onDislikeClick:p,onShare:function(e){Object(C.q)(t,l,ye(ye({},f),{},{share_platform:e}))},onLikeChange:function(e){u(t,e),1===e?Object(C.p)(t,l,f):Object(C.s)(t,l,f)},onShareAction:function(e){Object(C.t)(t,ye(ye({},f),{},{action_type:e}))},onWttSubmit:function(){Object(C.w)(t,f)}})):null},ke=n("b7d86484cebe8a19dabd"),Oe=n.n(ke),je=["list","onDislike"];function Ce(e,t){var n=y()(e);if(g.a){var r=g()(e);t&&(r=r.filter((function(t){return v()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):Ce(Object(n)).forEach((function(t){s()(e,t,v()(n,t))}))}return e}var xe,Te,Se=function(e){var t=e.list,n=e.onDislike,o=Oe()(e,je),i=Object(r.useState)(1/0),c=A()(i,2),l=c[0],s=c[1],f=Object(r.useState)(!1),d=A()(f,2),m=d[0],p=d[1],b=Object(r.useRef)(!1),v=Object(V.a)({videoType:M.j.VIDEO,data:[],channelId:be.a.get().video.channelId,useRawData:!0});function h(){return(h=S()(x.a.mark((function e(t,r){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(r),b.current=!0,setTimeout((function(){b.current&&n(t,Ie(Ie({},t),{},{loading:!0}))}),250),setTimeout((function(){s(1/0)}),550),p(!0),e.next=7,v();case 7:a=e.sent,b.current=!1,a=a?Ie(Ie({},a),{},{__log_show_rank:t.__log_show_rank}):Ie(Ie({},t),{},{error:!0}),n(t,a),p(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("ul",{className:"video-channel-feed"},t.map((function(e,t){return a.a.createElement("li",{key:e.group_id,className:D()("multi-card-wrapper",{animate:l===t})},a.a.createElement(u.a,Ie(Ie({},o),{},{cell:e,disableDislike:m,onDislike:function(){return function(e,t){return h.apply(this,arguments)}(e,t)},onLikeChange:k.c})))})))},Ne=n("a8b0120a79b3dcde8d12"),Le=n.n(Ne),Re=(n("86397673cbb13c7b82ca"),n("663529bce6ee6d8996f5")),Ae=n("4d09ad27fd704dfe94be"),Pe=n("33ce4b117c0cfe3ebce8");function De(e){return e.sort((function(e,t){return e.eventTime-t.eventTime}))}!function(e){e[e.BEFORE=0]="BEFORE",e[e.GOING=1]="GOING",e[e.FINISH=2]="FINISH"}(xe||(xe={})),function(e){e[e.BEFORE=0]="BEFORE",e[e.GOING=1]="GOING",e[e.FINISH=2]="FINISH"}(Te||(Te={}));var Me,Ue=n("6cf195ddfada1b0033e1"),Ve=(Me={},E()(Me,Te.BEFORE,"notstart"),E()(Me,Te.GOING,"live"),E()(Me,Te.FINISH,"replay"),Me);function Fe(e){Object(Ue.a)("world_cup_section_click",{button_name:e})}var He=n("c0c721f9f12a8d2dd2bc"),Be=n("4e16ef1abe038022cfb8"),We=(n("c48483c92f9361f020b3"),["\u5361\u5854\u5c14","\u5384\u74dc\u591a\u5c14","\u585e\u5185\u52a0\u5c14","\u8377\u5170","\u82f1\u683c\u5170","\u4f0a\u6717","\u7f8e\u56fd","\u5a01\u5c14\u58eb","\u963f\u6839\u5ef7","\u6c99\u7279\u963f\u62c9\u4f2f","\u58a8\u897f\u54e5","\u6ce2\u5170","\u6cd5\u56fd","\u6fb3\u5927\u5229\u4e9a","\u4e39\u9ea6","\u7a81\u5c3c\u65af","\u897f\u73ed\u7259","\u54e5\u65af\u8fbe\u9ece\u52a0","\u5fb7\u56fd","\u65e5\u672c","\u6bd4\u5229\u65f6","\u52a0\u62ff\u5927","\u6469\u6d1b\u54e5","\u514b\u7f57\u5730\u4e9a","\u5df4\u897f","\u585e\u5c14\u7ef4\u4e9a","\u745e\u58eb","\u5580\u9ea6\u9686","\u8461\u8404\u7259","\u52a0\u7eb3","\u4e4c\u62c9\u572d","\u97e9\u56fd","\u4fc4\u7f57\u65af","\u57c3\u53ca","\u79d8\u9c81","\u51b0\u5c9b","\u5c3c\u65e5\u5229\u4e9a","\u745e\u5178","\u5df4\u62ff\u9a6c","\u54e5\u4f26\u6bd4\u4e9a","\u6885\u5dde\u5ba2\u5bb6","\u5317\u4eac\u56fd\u5b89","\u6df1\u5733\u961f","\u6ca7\u5dde\u96c4\u72ee","\u5929\u6d25\u6d25\u95e8\u864e","\u6210\u90fd\u84c9\u57ce","\u5c71\u4e1c\u6cf0\u5c71","\u957f\u6625\u4e9a\u6cf0","\u5e7f\u5dde\u57ce","\u6cb3\u5357\u5d69\u5c71\u9f99\u95e8","\u5927\u8fde\u4eba","\u6d59\u6c5f\u961f","\u4e0a\u6d77\u6d77\u6e2f","\u5e7f\u5dde\u961f","\u6cb3\u5317\u961f","\u4e0a\u6d77\u7533\u82b1","\u6b66\u6c49\u957f\u6c5f","\u6b66\u6c49\u4e09\u9547"]),Ye=(n("d8a3087aabcd86ae5e3a"),function(){return a.a.createElement("div",{className:"playing-icon"},a.a.createElement("span",null),a.a.createElement("span",null),a.a.createElement("span",null))}),Ge=function(e){var t=e.data,n=e.onClick,o=Object(r.useState)(t.hostScore),i=A()(o,2),c=i[0],u=i[1],l=Object(r.useState)(t.guestScore),s=A()(l,2),f=s[0],d=s[1],m=Object(r.useState)(t.hostScoreAddition),p=A()(m,2),b=p[0],v=p[1],h=Object(r.useState)(t.guestScoreAddition),g=A()(h,2),_=g[0],y=g[1],w=Object(r.useRef)(t.hostScore),E=Object(r.useRef)(t.guestScore),O=Object(r.useRef)(0),j=t.matchStatus!==Te.FINISH?function(e){return Object(Pe.a)(e)?Object(k.g)(e,"\u4eca\u65e5hh:mm"):Object(Pe.b)(e)?Object(k.g)(e,"\u660e\u65e5hh:mm"):Object(k.g)(e,"MM\u6708dd\u65e5hh:mm")}(t.eventTime):"\u5df2\u5b8c\u8d5b",C=!We.includes(t.hostName),I=!We.includes(t.guestName),x=0!==b||0!==_;Object(r.useEffect)((function(){t.hostScore===w.current&&t.guestScore===E.current||(O.current=window.setTimeout((function(){w.current=t.hostScore,E.current=t.guestScore,u(t.hostScore),d(t.guestScore),v(t.hostScoreAddition),y(t.guestScoreAddition)}),2e4))}),[t.hostScore,t.guestScore]),Object(r.useEffect)((function(){return function(){clearTimeout(O.current)}}),[]);return a.a.createElement("div",{className:D()("schedule-card-wrapper",{disable:C||I}),onClick:function(){C||I||n()}},a.a.createElement("div",{className:"match-info"},a.a.createElement("span",null,t.matchName),a.a.createElement("span",null,j)),a.a.createElement("div",{className:"match-content"},a.a.createElement("div",{className:"match-team host"},a.a.createElement("div",{className:"team-flag"},a.a.createElement("img",{src:t.hostLogo})),a.a.createElement("div",{className:"team-name"},t.hostName)),a.a.createElement("div",{className:"match-score"},t.matchStatus===Te.BEFORE&&a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"icon-vs"}),a.a.createElement("div",{className:"status"},"\u5f85\u76f4\u64ad")),t.matchStatus===Te.GOING&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:D()("score",{"big-num":c>=10||f>=10})},a.a.createElement("span",null,c),x&&a.a.createElement("span",{className:"extra-score"},"(",b,")"),a.a.createElement("span",{className:"line"},"-"),a.a.createElement("span",null,f),x&&a.a.createElement("span",{className:"extra-score"},"(",_,")")),a.a.createElement("div",{className:"status live"},a.a.createElement(Ye,null),"\u76f4\u64ad\u4e2d")),t.matchStatus===Te.FINISH&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"score"},c," - ",f),a.a.createElement("div",{className:"status"},"\u770b\u56de\u653e"))),a.a.createElement("div",{className:"match-team guest"},a.a.createElement("div",{className:"team-flag"},a.a.createElement("img",{src:t.guestLogo})),a.a.createElement("div",{className:"team-name"},t.guestName))))};function Ke(e,t){var n=y()(e);if(g.a){var r=g()(e);t&&(r=r.filter((function(t){return v()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):p.a?d()(e,p()(n)):Ke(Object(n)).forEach((function(t){s()(e,t,v()(n,t))}))}return e}var qe;!function(e){e[e.SCHEDULE=0]="SCHEDULE",e[e.PROMOTION=1]="PROMOTION",e[e.RANKING=2]="RANKING"}(qe||(qe={}));var Xe=function(e){var t=function(e){var t=(e.raw_data&&Object(k.s)(Object(Ae.a)(e.raw_data))||{}).raw_data,n=De(((t&&Object(k.s)(t)||{}).program_list||[]).map((function(e){var t,n,r=e.program_info,a=r.host_team||{},o=r.guest_team||{};return{matchId:r.match_id_str,matchName:r.group_round_name,eventTime:1e3*r.start_time_ts,matchStatus:r.match_status.type,hostName:a.name,guestName:o.name,hostLogo:Object(k.r)(null===(t=a.national_flag_image)||void 0===t?void 0:t.url),guestLogo:Object(k.r)(null===(n=o.national_flag_image)||void 0===n?void 0:n.url),hostScore:r.host_score||0,guestScore:r.guest_score||0,hostScoreAddition:r.host_score_addition||0,guestScoreAddition:r.guest_score_addition||0}}))),r=n.findIndex((function(e){return[Te.GOING,Te.BEFORE].includes(e.matchStatus)}));return{matchList:n,rank:-1!==r?r:0}}(e.initialData),n=Object(r.useState)(t.matchList),o=A()(n,2),i=o[0],c=o[1],u=Object(r.useState)(0),l=A()(u,2),s=l[0],f=l[1],d=Object(r.useRef)(6e4),m=Object(r.useRef)(0),p=Object(r.useRef)(0),b=Object(r.useRef)(null),v=Object(r.useRef)(!1),h=Object(r.useRef)(i);h.current=i;var g=Object(r.useCallback)(function(){var e=S()(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.sports.getMatchList(t);case 3:if("success"!==(n=e.sent).data.message){e.next=7;break}return d.current=1e3*n.data.next_interval,e.abrupt("return",n.data.data.filter((function(e){return 1===e.match_type})).map((function(e){return{matchId:e.match_id_str,matchName:e.group_name?"".concat(e.group_name).concat(e.round_name):e.round_name,eventTime:1e3*e.event_time,matchStatus:e.match_status,hostName:e.host_name,guestName:e.guest_name,hostLogo:Object(k.r)(e.host_logo),guestLogo:Object(k.r)(e.guest_logo),hostScore:e.host_score||0,guestScore:e.guest_score||0,hostScoreAddition:e.host_score_addition||0,guestScoreAddition:e.guest_score_addition||0}})));case 7:return e.abrupt("return",[]);case 10:return e.prev=10,e.t0=e.catch(0),Object(Be.d)((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"","fetch-match-list-error"),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),[]),_=Object(r.useCallback)(S()(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g([]);case 2:if(0!==(t=e.sent).length){e.next=6;break}return m.current<2&&(m.current++,_()),e.abrupt("return");case 6:n=De(t),r=n.findIndex((function(e){return[Te.GOING,Te.BEFORE].includes(e.matchStatus)})),r=Math.min(Math.max(r,0),n.length-3),f(r),c(n);case 11:case"end":return e.stop()}}),e)}))),[g]),y=Object(r.useCallback)(S()(x.a.mark((function e(){var t,n,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=h.current.filter((function(e){return e.matchStatus===Te.GOING||e.eventTime-Le()()>=0&&e.eventTime-Le()()<=3e5})).map((function(e){return e.matchId}))).length>0)){e.next=8;break}return e.next=4,g(t);case 4:n=e.sent,r=n.reduce((function(e,t){return ze(ze({},e),{},E()({},t.matchId,t))}),{}),a=h.current.map((function(e){return r[e.matchId]||e})),c(a);case 8:p.current=window.setTimeout((function(){y()}),d.current);case 9:case"end":return e.stop()}}),e)}))),[g]),w=Object(r.useCallback)((function(){v.current=!0,p.current=window.setTimeout((function(){y()}),d.current)}),[y]),O=Object(r.useCallback)((function(){v.current=!1,clearTimeout(p.current)}),[]);Object(He.a)((function(){return _(),w(),function(){O()}}));var j=Object(r.useMemo)((function(){return Object(k.t)((function(){b.current&&(b.current.getBoundingClientRect().bottom<-window.innerHeight?O():v.current||w())}),300)}),[w,O]),C=Object(r.useCallback)((function(){"visible"===document.visibilityState?j():"hidden"===document.visibilityState&&O()}),[j,O]);Object(r.useEffect)((function(){return window.addEventListener("scroll",j),window.addEventListener("visibilitychange",C),function(){window.removeEventListener("scroll",j),window.removeEventListener("visibilitychange",C)}}),[j,C]),Object(r.useEffect)((function(){Object(Ue.a)("content_section_show",{category_name:"world_cup",section:"world_cup_schedule",page_name:"home"})}),[]);var I=Object(r.useCallback)((function(){Fe("to_left"),f((function(e){return Math.max(e-3,0)}))}),[]),T=Object(r.useCallback)((function(){Fe("to_right"),f((function(e){return Math.min(e+3,i.length-3)}))}),[i]),N=Object(r.useCallback)((function(e){Fe(Ve[e.matchStatus]),window.open("https://live.douyin.com/fifaworldcup/".concat(e.matchId))}),[]),L=Object(r.useCallback)((function(e){Fe("promotion"===e?"promotion":"all_schedule");var t="schedule"===e?qe.SCHEDULE:Le()()<1670013e6?qe.RANKING:qe.PROMOTION;window.open("https://www.douyin.com/fifaworldcup?modal_tab=".concat(t))}),[]),R=Object(r.useMemo)((function(){return i.some((function(e){return e.matchStatus!==Te.FINISH}))?xe.GOING:xe.FINISH}),[i]);return a.a.createElement("div",{className:"schedule-wrapper",ref:b},a.a.createElement("div",{className:"schedule-header"},a.a.createElement("div",{className:"schedule-title"},R===xe.FINISH?"\u6bd4\u8d5b\u56de\u987e":"\u6bd4\u8d5b\u76f4\u64ad"),a.a.createElement("div",{className:"entrance"},a.a.createElement("span",{className:"promotion-entrance",onClick:function(){return L("promotion")}},"\u664b\u7ea7\u5f62\u52bf"),a.a.createElement("span",{className:"schedule-entrance",onClick:function(){return L("schedule")}},"\u5168\u90e8\u8d5b\u7a0b"))),a.a.createElement("div",{className:"match-block"},a.a.createElement("div",{className:D()("icon-change prev",{disabled:0===s}),onClick:I}),a.a.createElement("div",{className:"match-container"},a.a.createElement("div",{className:"match-list",style:{transform:"translateX(-".concat(196*s,"px)")}},i.map((function(e,t){return t<s-3||t>=s+6?a.a.createElement("div",{className:"empty-block",key:"".concat(e.matchId,"-").concat(t)}):a.a.createElement(Ge,{data:e,key:"".concat(e.matchId,"-").concat(t),onClick:function(){return N(e)}})})))),a.a.createElement("div",{className:D()("icon-change next",{disabled:s===i.length-3}),onClick:T})))};t.a=function(e){var t=e.list,n=e.logParams,r=e.activeKey,l=e.onSubscribe,s=e.onDislike,f=e.onRefresh,d=e.onLikeChange,m=e.onItemClick;return r===be.a.get().video.key?a.a.createElement(Se,{list:t,logParams:n,onDislike:s,onItemClick:m}):a.a.createElement(a.a.Fragment,null,t.map((function(e){return function(e){var t=e.group_id;switch(e.__type){case o.a.ARTICLE:var r=e.__channel_id===be.a.get().follow.channelId?Ee:i.a;return a.a.createElement(r,{key:t,cell:e,logParams:n,onDislike:s,onItemClick:m,onLikeChange:d});case o.a.WTT:return a.a.createElement(c.a,{key:t,cell:e,logParams:n,onSubscribe:l,onDislike:s,onLikeChange:d,onItemClick:m});case o.a.VIDEO:return a.a.createElement(u.a,{key:t,cell:e,logParams:n,onDislike:s,onItemClick:m,onLikeChange:d});case o.a.SHORT_VIDEO:return a.a.createElement(ie,{key:t,cell:e,logParams:n,onDislike:s,onItemClick:m,onLikeChange:d});case o.a.QUESTION:case o.a.ANSWER:return a.a.createElement(pe,{key:t,cell:e,logParams:n,onItemClick:m,onDislike:s});case o.a.REFRESH:return a.a.createElement(ue,{key:"refresh",data:e,onRefresh:function(){return f("click_refresh_card")}});case o.a.SCHEDULE:return a.a.createElement(Xe,{key:t,initialData:e});default:return null}}(e)})))}},b201cefb7d33145ac7ad:function(e,t,n){"use strict";n.r(t),n.d(t,"cancelRequest",(function(){return i})),n.d(t,"isCancel",(function(){return c})),n.d(t,"getSearchSug",(function(){return u})),n.d(t,"getHotWord",(function(){return l})),n.d(t,"getMCNAccount",(function(){return s})),n.d(t,"getMCNInfo",(function(){return f}));var r=n("3b6da333073325e45942"),a=n.n(r),o=n("a99d8596674b8a971a00"),i=null,c=function(e){return a.a.isCancel(e)};function u(e){return o.a.get("/2/article/search_sug/",{params:{keyword:e,ps_type:"sug",aid:4916},cancelToken:new a.a.CancelToken((function(e){i=e}))})}function l(){return o.a.get("/search/suggest/hot_words/")}function s(e){return o.a.get("/mp/agw/media/search_pri_matrix",{params:{search_name:e}})}function f(e,t){return o.a.get("/mp/agw/media/get_media_matrix",{params:{pri_user_id:e,page_no:t,page_size:10}})}},b35cd4aad903919810e4:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return k}));n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("281981c6b99b2a82c28b"),n("714667d626fd04a26548"),n("21460410443b5c09d963"),n("c93a3409710bc0c7e7f7"),n("96e657875a3e8636f3a2"),n("3001a3934397946b1a1f"),n("562804f2026cdb551686");var r=n("dfb30137603785af9d6e"),a=n("ec7d18b3433a1d1d5e4e"),o=n("5198e738d473f46c850b"),i=null;function c(e){return new Promise((function(t){if(e){if(e.objectStoreNames.contains("cities")){var n=e.transaction("cities").objectStore("cities").get("1");return n.onsuccess=function(e){t(e.target.result)},void(n.onerror=function(){t(null)})}t(null)}else t(null)}))}function u(){return new Promise((function(e){if(window.indexedDB)if(i)c(i).then((function(t){return e(t)}));else{var t=window.indexedDB.open("news_local_ch_cities");t.onsuccess=function(t){i||(i=t.target.result),c(i).then((function(t){return e(t)}))},t.onupgradeneeded=function(t){i||(i=t.target.result),i.objectStoreNames.contains("cities")||i.createObjectStore("cities"),e(null)},t.onerror=function(t){console.error(t),e(null)}}else e(null)}))}function l(e){i&&c(i).then((function(t){var n,r;t?(n=i,r=e,new Promise((function(e){if(n)if(n.objectStoreNames.contains("cities")){var t=n.transaction("cities","readwrite").objectStore("cities").put(r,"1");t.onsuccess=function(){return e()},t.onerror=function(){return e()}}else e();else e()}))):function(e,t){new Promise((function(n){if(e)if(e.objectStoreNames.contains("cities")){var r=e.transaction("cities","readwrite").objectStore("cities").add(t,"1");r.onsuccess=function(){return n()},r.onerror=function(){return n()}}else n();else n()}))}(i,e)}))}var s=n("90b824f4de3f20fa2f01");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,c,"next",e)}function c(e){p(o,r,a,i,c,"throw",e)}i(void 0)}))}}function v(e,t){if(!t)return"";var n="";return Object.keys(t).some((function(r){return!!t[r][e]&&(n=r,!0)})),n}var h={cities:null};function g(){return _.apply(this,arguments)}function _(){return(_=b(regeneratorRuntime.mark((function e(){var t,n,r,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,a.a.weather.getCities();case 4:200===(i=e.sent).status&&(c=Object(o.e)(null===(n=null===(t=i.data)||void 0===t?void 0:t.data)||void 0===n?void 0:n.cities))&&(r=Object.keys(c).reduce((function(e,t){var n=c[t];return Object.assign(Object.assign({},e),f({},t,Object.keys(n).reduce((function(e,t){return Object.assign(Object.assign({},e),f({},t,{name:t,code:n[t][0],channelId:n[t][1]}))}),{})))}),{})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Fetch cities error",e.t0),Object(s.a)("fetch-cities-error");case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var y=0;function w(){return E.apply(this,arguments)}function E(){return(E=b(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.cities){e.next=2;break}return e.abrupt("return",h.cities);case 2:return e.next=4,u();case 4:if(t=e.sent){e.next=14;break}return e.next=8,g();case 8:if(!(n=e.sent)){e.next=13;break}return l(n),h.cities=n,e.abrupt("return",n);case 13:return e.abrupt("return",null);case 14:if(!(y<1)){e.next=19;break}return e.next=17,g();case 17:(r=e.sent)&&(l(r),h.cities=r,y++);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=(e||{}).flush,n=d(Object(r.useState)(h.cities),2),a=n[0],o=n[1],i=Object(r.useRef)(b(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:t=e.sent,o(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));return Object(r.useEffect)((function(){t&&i.current()}),[]),[a,i.current]}},b3d627bf45117b33693e:function(e,t,n){e.exports=n.p+"svgs/article_icon.c91fb7e0.svg"},b41771ccc50908d4ad97:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("f1419b67ef4472693a2c"),a=function(e,t){return e?(t&&t(),!0):(r.a.show({title:"OTHER"}),!1)}},b4529db9187f1e16c01c:function(e,t,n){},b47836c813468e99d194:function(e,t,n){},b6051f0fa8998ea16e97:function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o),c=n("387174a33cbf68342720"),u=n("a7cb42378ff2e016201f"),l=n("be6323750fae7868d676"),s=n("2422758950d9f66b7423"),f=n("988714ff9eba2503d80f"),d=n("3aac1932c02d51e20abb"),m=n("42d4f6648edde20f9953"),p=n("0e07c12661fbe9d3d4af"),b=n("b65c96faf0c123cf88e4"),v=n("92c8006d8139d763c605"),h=n.n(v),g=n("ee10aab64b9ea632f5ab"),_=n.n(g),y=(n("028f84ba6d27e52aa246"),n("663529bce6ee6d8996f5")),w=n("7009f854fb449fc1b23d"),E=n("a5b25f8e99db71c1fcf2"),k=n("d84b833f284337beaf9b"),O=function(e){var t=e.userInfo,n=e.onSubscribe,o=Object(r.useRef)(!1),c=Object(r.useContext)(w.a);function u(){return l.apply(this,arguments)}function l(){return(l=_()(h.a.mark((function e(){var r,a,i,u,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.current){e.next=2;break}return e.abrupt("return");case 2:if(Object(E.a)(c)){e.next=4;break}return e.abrupt("return");case 4:if(r=!t.isFollow,e.prev=5,l=null,o.current=!0,!r){e.next=14;break}return e.next=11,y.a.relation.followUser(t.userSecToken,t.userId);case 11:l=e.sent,e.next=17;break;case 14:return e.next=16,y.a.relation.unfollowUser(t.userSecToken,t.userId);case 16:l=e.sent;case 17:if("success"!==(null===(a=l)||void 0===a?void 0:a.data.message)){e.next=20;break}return n(r),e.abrupt("return");case 20:if(!(null===(i=l)||void 0===i?void 0:i.data.message.includes("\u9ed1\u540d\u5355"))){e.next=23;break}return k.a.info("\u60a8\u5df2\u62c9\u9ed1\u5bf9\u65b9\uff0c\u8bf7\u5148\u5728app\u7aef\u9690\u79c1\u8bbe\u7f6e\u4e2d\u53d6\u6d88\u62c9\u9ed1"),e.abrupt("return");case 23:throw new Error(null===(u=l)||void 0===u?void 0:u.message);case 26:e.prev=26,e.t0=e.catch(5),k.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),console.log(e.t0);case 30:return e.prev=30,o.current=!1,e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[5,26,30,33]])})))).apply(this,arguments)}return a.a.createElement("div",{tabIndex:0,role:"button","aria-label":t.isFollow?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8",className:i()("feed-card-subscribe-cmp",{followed:t.isFollow}),onClick:u,onKeyDown:function(e){var t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),u())}},a.a.createElement("i",null),a.a.createElement("span",null,t.isFollow?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"))},j=n("5616f33a71e39794ee3e"),C=n("546ca7f10f62589ab9f4"),I=n("38c58096afa111fcdfd2"),x=n("abe5a667b2c2630eda61");t.a=function(e){var t,n,o,v,h,g,_,y,w,E,k,T,S,N,L,R,A=e.data,P=e.logInfo,D=e.footer,M=e.origin,U=e.disableSubscribe,V=e.disableDislike,F=void 0!==V&&V,H=e.hideAuthInfo,B=e.onDislike,W=e.onSubscribe,Y=e.onLikeChange,G=e.onClickToDetail,K=e.onShare,z=e.onDislikeClick,q=e.onShareAction,X=e.onWttSubmit,Q=e.onClickOrigin,Z=e.onClickLink,J=(R="?source=".concat(null==P?void 0:P.from_page_name),(null===(N=A.userInfo)||void 0===N?void 0:N.userSecToken)?"/c/user/token/".concat(A.userInfo.userSecToken,"/").concat(R):(null===(L=A.userInfo)||void 0===L?void 0:L.userId)?"/c/user/".concat(A.userInfo.userId,"/").concat(R):""),$=A.videoCoverInfo?1:(null===(t=A.coverUrls)||void 0===t?void 0:t.length)||0,ee=(null===(n=A.coverUrls)||void 0===n?void 0:n.slice(0,4))||[],te=Object(r.useMemo)((function(){return A.richContent?A.richContent:Object(c.a)(Object(l.d)(A.content))}),[A.content,A.richContent]),ne=H&&Object(m.b)(A.userInfo.userAuthInfo.auth_type);return a.a.createElement("div",{className:i()("feed-card-wtt",{"single-cover":$>0&&$<4,"multi-covers":$>3,"origin-cover":A.originGroup||A.originThread||A.originUgcVideo,"link-cover":A.attachCardInfo})},a.a.createElement("div",{className:"feed-card-wtt-r"},a.a.createElement(b.a,{cover:(null===(o=A.videoCoverInfo)||void 0===o?void 0:o.coverUrl)||(null===(v=A.coverUrls)||void 0===v?void 0:v[0]),articleUrl:A.articleUrl,number:$>1?$:0,numberDirection:"bottom",duration:null===(h=A.videoCoverInfo)||void 0===h?void 0:h.duration,logInfo:P,hasBlurBackground:A.videoCoverInfo&&d.a.PORTRAIT===A.videoCoverInfo.videoOrientation,onClickToDetail:G})),a.a.createElement("div",{className:"feed-card-wtt-l"},a.a.createElement("div",{className:i()("feed-card-wtt-header",{"padding-r":A.showSubscribe})},a.a.createElement("div",{className:"feed-card-wtt-user-info"},a.a.createElement("a",{href:J,target:"_blank",rel:"noopener nofollow",title:A.userInfo.name,onClick:function(e){if(e.preventDefault(),J){var t=Object(u.b)(J,{section:"detail"===P.position?"detail_related":"feed",position:P.position,enter_from:P.enter_from});window.open(t)}}},a.a.createElement("img",{"aria-hidden":!0,src:A.userInfo.avatarUrl}),a.a.createElement("span",null,A.userInfo.name))),a.a.createElement(m.a,{size:16,userAuthInfo:null===(g=A.userInfo)||void 0===g?void 0:g.userAuthInfo}),a.a.createElement("div",{className:"time"},Object(l.k)(A.timestamp)),!U&&!A.showSubscribe&&(null===(_=A.userInfo)||void 0===_?void 0:_.isFollow)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"dot"},"\xb7"),a.a.createElement("div",{className:"text"},"\u5df2\u5173\u6ce8")),!ne&&(null===(y=A.userInfo)||void 0===y||null===(w=y.userAuthInfo)||void 0===w?void 0:w.auth_info)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"dot"},"\xb7"),a.a.createElement("div",{className:"user-auth-desc",title:null===(E=A.userInfo)||void 0===E||null===(k=E.userAuthInfo)||void 0===k?void 0:k.auth_info},null===(T=A.userInfo)||void 0===T||null===(S=T.userAuthInfo)||void 0===S?void 0:S.auth_info)),!U&&A.showSubscribe&&a.a.createElement("div",{className:"subscribe-wrapper"},a.a.createElement(O,{userInfo:A.userInfo,onSubscribe:W}))),a.a.createElement("p",{className:"content"},a.a.createElement(I.a,{href:A.articleUrl,target:"_blank",rel:"noopener",logInfo:P,onClick:G,dangerouslySetInnerHTML:{__html:te||"[\u65e0\u6587\u5b57]"}},null))),$>3&&a.a.createElement("ul",{className:"covers-list"},ee.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement(b.a,{cover:e,articleUrl:A.articleUrl,number:t===ee.length-1&&$>4?$-4:0,numberDirection:"middle",logInfo:P,onClickToDetail:G}))}))),M||a.a.createElement(p.a,{commentType:A.commentType,originGroup:A.originGroup,originThread:A.originThread,originUgcVideo:A.originUgcVideo,originCommonContent:A.originCommonContent,showOrigin:A.showOrigin,showTips:A.showTips,logInfo:P,onClick:Q}),A.attachCardInfo&&a.a.createElement(x.a,{attachCardInfo:A.attachCardInfo,onClick:Z}),a.a.createElement("div",{className:"feed-card-wtt-footer"},D||a.a.createElement(j.a,{leftTools:[a.a.createElement(C.f,{key:"share",data:A,wttRepostParams:{fw_id_type:2,opt_id_type:2,repost_type:212},onSuccess:K,onShareAction:q,onWttSubmit:X}),a.a.createElement(C.b,{key:"comment",styleType:C.c.WITH_ICON,commentCount:A.commentCount,articleUrl:A.articleUrl,logInfo:P,onClickToDetail:G}),a.a.createElement(C.e,{key:"like",groupId:A.groupId,likeCount:A.likeCount,isLiked:!!A.userDigg,diggType:A.subType===f.a.UGC?s.d.WTT:s.d.COMMENT,onLikeChange:Y})],rightTools:[!F&&a.a.createElement(C.d,{key:"dislike",data:{itemId:A.itemId,groupId:A.groupId,filterWords:A.filterWords||[],source:s.h.WTT},onDislike:B,onDislikeClick:z})]})))}},b65c96faf0c123cf88e4:function(e,t,n){"use strict";var r=n("90cd159fadd272c59cf2"),a=n.n(r),o=n("dfb30137603785af9d6e"),i=n.n(o),c=n("098de4f1853062b3a141"),u=n.n(c),l=(n("1b6e0af22b27be14137b"),n("65f05d1287ec18e50d95")),s=n("be6323750fae7868d676"),f=n("4e16ef1abe038022cfb8"),d=n("38c58096afa111fcdfd2");t.a=function(e){var t=Object(o.useRef)(null),n=Object(o.useRef)(0),r=Object(o.useRef)(Object(l.a)()),c=Object(o.useMemo)((function(){var t,n=e.cover;if(!n)return n;var r=null===(t=n.match(/\/\/(.+com)\//))||void 0===t?void 0:t[1];return"p26.toutiaoimg.com"===r&&(n=n.replace(r,"p3.toutiaoimg.com")),n}),[e.cover]),m=Object(o.useCallback)((function(e,t){if(!(n.current>=3)&&c){var o=t||(null==e?void 0:e.target),i=Object(l.b)(c,".jpg");i=r.current(i),o.src=i,n.current+=1,Object(f.c)(a()({name:"load_feed_cover_error",origin:c,retry:i,retryCount:n.current}))}}),[c]);return Object(o.useEffect)((function(){t.current&&(n.current>0||t.current.complete&&!t.current.naturalWidth&&m(null,t.current))}),[m]),c?i.a.createElement("div",{className:u()("feed-card-cover",{"blur-bg":e.hasBlurBackground})},e.hasBlurBackground&&i.a.createElement("div",{className:"blur-cover-bg"},i.a.createElement("img",{src:c,alt:"","aria-hidden":!0})),i.a.createElement(d.a,{href:e.articleUrl,target:"_blank",rel:"noopener",logInfo:e.logInfo,onClick:e.onClickToDetail,title:e.desc,"aria-hidden":!e.desc,tabIndex:e.desc?0:-1,jumpQuery:e.jumpQuery},i.a.createElement("img",{ref:t,src:c,alt:e.alt||"",onError:m})),!!e.number&&i.a.createElement("div",{className:u()("cover-num",{middle:"middle"===e.numberDirection})},i.a.createElement("div",{className:"num"},"middle"===e.numberDirection&&"+",i.a.createElement("span",null,e.number,"bottom"===e.numberDirection&&i.a.createElement(i.a.Fragment,null,"\xa0")),"bottom"===e.numberDirection&&"\u56fe")),!!e.duration&&i.a.createElement("div",{className:"video-placeholder"},i.a.createElement("i",null),i.a.createElement("span",{className:"duration"},Object(s.h)(e.duration,!0)))):null}},b69c0a8f260387bba662:function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("dfb30137603785af9d6e"),g=n.n(h),_=n("f1c6a86dfc799034cb5d"),y=n("9a0812b9b795e3662b25");function w(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}var E=function(e,t){var n=e.config,r=Object(h.useRef)(null),o=Object(h.useRef)(null);return Object(h.useEffect)((function(){r.current&&(o.current=new _.a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):w(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}({el:r.current},n)),o.current.on(y.a.AUTOPLAY_PREVENTED,(function(){o.current&&(o.current.muted=!0),setTimeout((function(){var e;null===(e=o.current)||void 0===e||e.play()}))})),window._xgplayer=o.current)}),[]),Object(h.useImperativeHandle)(t,(function(){return{getPlayer:function(){return o.current}}})),g.a.createElement("div",{className:"ttp-xgplayer",ref:r})};t.a=Object(h.forwardRef)(E)},ba5c9f6f094cd420b97f:function(e,t,n){"use strict";var r=n("fbbd810ddf979da8e79a"),a=n.n(r),o=n("dfb30137603785af9d6e"),i=n.n(o),c=n("098de4f1853062b3a141"),u=n.n(c),l=(n("2cfd2ca28fcaddaf4ef6"),n("19e1e56018f7274819f9")),s=n.n(l),f={hotVideo:{title:"\u70ed\u95e8\u89c6\u9891"},relatedRecommend:{title:"\u76f8\u5173\u63a8\u8350"}};t.a=function(e){var t=e.type,n=e.className,r=e.title,c=e.right,l=e.onClick,d=(f[t]||{}).title,m=Object(o.useState)(0),p=a()(m,2),b=p[0],v=p[1],h=i.a.createElement("button",{type:"button",className:"right","aria-label":"\u6362\u4e00\u6362".concat(r||d),onClick:function(){v(b+180),null==l||l()}},i.a.createElement("img",{src:s.a,style:{transform:"rotate(".concat(b,"deg)")},alt:""}),i.a.createElement("span",null,"\u6362\u4e00\u6362"));return i.a.createElement("div",{className:u()("pane-header",n)},i.a.createElement("h2",{className:u()("header",{"icon-video":"hotVideo"===t,"icon-related":"relatedRecommend"===t})},r||d),c||h)}},bd33a538acc6ecad6220:function(e,t,n){},bd59e351304c36b262a0:function(e,t,n){},be6323750fae7868d676:function(e,t,n){"use strict";n.d(t,"m",(function(){return _})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return E})),n.d(t,"k",(function(){return k})),n.d(t,"q",(function(){return O})),n.d(t,"s",(function(){return j})),n.d(t,"t",(function(){return C})),n.d(t,"i",(function(){return I})),n.d(t,"e",(function(){return x})),n.d(t,"j",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"n",(function(){return N})),n.d(t,"d",(function(){return L})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return A})),n.d(t,"r",(function(){return P})),n.d(t,"c",(function(){return D})),n.d(t,"l",(function(){return M})),n.d(t,"f",(function(){return U})),n.d(t,"a",(function(){return F}));var r=n("5ef06cd6af9ff07eb579"),a=n.n(r),o=n("1ec2f05bec7d248b8c92"),i=n.n(o),c=n("fbbd810ddf979da8e79a"),u=n.n(c),l=n("90cd159fadd272c59cf2"),s=n.n(l),f=n("921313ed7f476f07fc2d"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("a8b0120a79b3dcde8d12"),v=n.n(b),h=n("7dff81f08f97f513bb8d"),g=n.n(h);function _(e,t){void 0===t&&(t="undefined"!=typeof window?window.location&&window.location.search.substr(1):"");var n={};return t&&t.split("&").forEach((function(e){if(""!==e){var t=e.split("="),r=g()(t),a=r[0],o=r.slice(1),i=decodeURIComponent(a),c=decodeURIComponent(o.join("="));if(i.match(/\[\]$/)){var u=i.replace(/\[\]$/,"");n[u]&&n[u]instanceof Array?n[u].push(c):n[u]=[c]}else n[i]=c}})),e?n[e]:n}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n="".concat(e);return Array(Math.abs(n.length-(t+1))).join("0")+e}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM\u6708dd\u65e5 hh:mm:ss",n=new Date(e),r=n.getFullYear(),a=n.getMonth()+1,o=n.getDate(),i=n.getHours(),c=n.getMinutes(),u=n.getSeconds();return t.replace(/Y|y|MM?|dd?|hh?|mm?|ss?/g,(function(e){return{M:"".concat(a),MM:y(a),Y:"".concat(r),d:"".concat(o),dd:y(o),h:"".concat(i),hh:y(i),m:"".concat(c),mm:y(c),s:"".concat(u),ss:y(u),y:"".concat(r%100)}[e]}))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=y(~~(e%60));if(t){var r=y(~~(e/3600)),a=y(~~(e/60)%60);if("00"!==r)return"".concat(r,":").concat(a,":").concat(n)}var o=y(~~(e/60));return"".concat(o,":").concat(n)}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=v()()/1e3,n=t-e,r=60*(new Date).getTimezoneOffset(),a=~~((t-r)/86400),o=~~((e-r)/86400),i=1e3*e;if(n<60)return"\u521a\u521a";if(n<3600)return"".concat(Math.floor(n/60),"\u5206\u949f\u524d");if(n<86400)return"".concat(Math.floor(n/60/60),"\u5c0f\u65f6\u524d");if(a-o==1)return"\u6628\u5929".concat(w(i,"hh:mm"));if(a-o==2)return"\u524d\u5929".concat(w(i,"hh:mm"));if(a-o<=9)return"".concat(a-o,"\u5929\u524d");var c=new Date(1e3*t).getFullYear(),u=new Date(1e3*e).getFullYear();return w(i,c===u?"MM\u6708dd\u65e5":"Y\u5e74MM\u6708dd\u65e5")}function O(e,t,n){if(void 0===t||0===p()(t).length)return e;var r,a=e.split("?"),o=u()(a,2),c=o[0],l=o[1],f=void 0===l?"":l;if(f){var m=f.split("#"),b=u()(m,2);f=b[0];var v=b[1];r=void 0===v?"":v}else{var h=e.split("#"),g=u()(h,2);c=g[0];var y=g[1];r=void 0===y?"":y}c.endsWith("?")&&(c=c.replace("?",""));var w=_(void 0,f);return f=(f=function(e,t){for(var n=[],r=function(){var r=o[a],i=e[r];null!=i&&("object"===d()(i)?t&&i instanceof Array&&i.every((function(e){return"object"!==d()(e)}))?i.forEach((function(e){n.push("".concat(encodeURIComponent(r),"[]=").concat(encodeURIComponent(e)))})):n.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(s()(i)))):n.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(i))))},a=0,o=p()(e);a<o.length;a++)r();return n.join("&")}(w=i()(w,t),n))&&"?".concat(f),r=r&&"#".concat(r),"".concat(c).concat(f).concat(r)}function j(e){try{return JSON.parse(e)}catch(t){return console.error("safeJSONParse error",t),null}}function C(e,t){var n,r=0;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var c=v()();c-r>=t?(e.apply(void 0,o),r=c):(clearTimeout(n),n=setTimeout((function(){r=c,e.apply(void 0,o)}),t))}}function I(e){return e?0===e.indexOf("http://")?e.substr(5):e:""}function x(e,t){if(t<=0)return"".concat(Math.floor(e));var n=Math.pow(10,t),r="".concat(Math.floor(e*n));return"".concat(r.slice(0,-t),".").concat(r.slice(-t))}function T(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){var o="".concat(e);if(o.indexOf(".")>=0){var i=o.split("."),c=u()(i,2),l=c[0],s=c[1];return"".concat(l.replace(/(?=\B(?:\d{3})+$)/g,","),".").concat(s.replace(/\d{3}\B/g,"$&,"))}return o.replace(/(?=\B(?:\d{3})+$)/g,",")}return"number"!=typeof e&&(e=a()(e)?a()(e):0),e<1e4?"".concat(e):e<1e5&&r?"0"===(n=x(e/1e4,1)).split(".")[1]?"".concat(n.split(".")[0],"\u4e07"):"".concat(n,"\u4e07"):e<1e8?"".concat(Math.floor(e/1e4),"\u4e07"):e<1e9&&r?"0"===(n=x(e/1e8,1)).split(".")[1]?"".concat(n.split(".")[0],"\u4ebf"):"".concat(n,"\u4ebf"):"".concat(Math.floor(e/1e8),"\u4ebf")}function S(e){for(var t=0,n=0,r=e;null!==r&&r!==document.body;)t+=r.offsetLeft,n+=r.offsetTop,r=r.offsetParent;return{left:t,top:n}}function N(){return Math.floor(v()()/1e3)}function L(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return"";var n=864e5,r=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],a=new Date(1e3*Number(e)+t*n).getDay();return r[a]}function A(e){if(!e)return!1;var t=window.innerWidth,n=window.innerHeight,r=null==e?void 0:e.getBoundingClientRect(),a=r.top,o=r.left;return!!r.height&&(a>0&&a<n&&o>0&&o<t)}function P(e){return e?e.replace(/^http[s]?:/,""):""}function D(){}function M(e){return e?Array.prototype.slice.call(e.querySelectorAll('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')).filter((function(e){return!e.hasAttribute("disabled")&&!e.getAttribute("aria-hidden")})):[]}function U(e,t){var n,r=-1;(t.some((function(t,n){return t===e&&(r=n,!0)})),r<0)||(null===(n=t[(r+1)%t.length])||void 0===n||n.focus())}var V=function(e){return Object.prototype.toString.call(e).slice(8,-1)};function F(e,t){if("object"===d()(e)&&null!==e&&"object"===d()(t)&&null!==t){if(V(e)!==V(t))return!1;switch(V(e)){case"Object":var n=p()(e);return n.length===p()(t).length&&n.every((function(n){return F(e[n],t[n])}));case"Array":return e.length===t.length&&e.every((function(e,n){return F(e,t[n])}));case"RegExp":return e.toString()===t.toString();case"Date":return!(e-t);case"String":case"Boolean":case"Number":return e.valueOf()===t.valueOf();default:return e===t}}return e===t}},beaec0c0fc506c05a050:function(e,t,n){},c087020a3cc93c265893:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("4f6e6e2b02b6a70b9d23"),v=n.n(b),h=n("a8b0120a79b3dcde8d12"),g=n.n(h),_=n("819716bda1fd0681a754"),y=n.n(_),w=n("6bb41c796464fc214f15"),E=n.n(w),k=n("6104d0ccf35b3944ecf2"),O=n.n(k),j=n("4cc68b2efb2eff1c34aa"),C=n.n(j),I=n("f9aa1a8184c17c535d23"),x=n.n(I),T=n("b1b96d53056a3b30ef69"),S=n.n(T),N=n("3b76dd97653dea47ddc2"),L=n("be6323750fae7868d676"),R=n("fdbcb2f5089886a59aee"),A=n("160a8425c578120b2627");function P(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):u.a?i()(e,u()(n)):P(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!v.a)return!1;if(v.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=v()(r,arguments,a)}else n=r.apply(this,arguments);return x()(this,n)}}var U=function(e){C()(n,e);var t=M(n);function n(){var e;E()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).isFirstPlay=!1,e.currentVideoId="",e.accumulatedPlayedTime=0,e.playedCount=0,e.fullscreenStartTime=0,e.hasMouseUpEventListener=!1,e.handlePlay=function(){e.playerConfig.vid!==e.currentVideoId?(e.accumulatedPlayedTime=e.player.cumulateTime,e.isFirstPlay=!0):e.isFirstPlay=!1,e.currentVideoId=e.playerConfig.vid,e.isFirstPlay&&Object(A.n)(D({},Object(A.b)()))},e.handleEnded=function(){e.playedCount++},e.reportEnded=function(t){var n=t.currentTime,r=t.duration,a=(e.player.cumulateTime-e.accumulatedPlayedTime)/1e3,o=Number(Object(L.e)(n/r*100,1)),i=Number(Object(L.e)(n/r*100,1));i=i>100?100:i,e.playedCount>=1&&(i=100),Object(A.m)(D({percent:o,duration:1e3*a,play_cnt:e.playedCount,play_count:Number(Object(L.e)(a/r,2)),max_percent:i},Object(A.b)()))},e.handlePlayNext=function(t){var n=t.actionType;e.reportEnded({currentTime:e.player.currentTime,duration:e.player.duration}),e.updateActionParams("next",n),e.playedCount=0},e.handlePlayPrev=function(t){var n=t.actionType;e.reportEnded({currentTime:e.player.currentTime,duration:e.player.duration}),e.updateActionParams("prev",n),e.playedCount=0},e.updateActionParams=function(e,t){switch(Object(A.e)({draw_action:"prev"===e?"to_up":"to_down",is_auto_draw:0}),t){case R.f.AUTO_NEXT:case R.f.DISLIKE:Object(A.g)("video_play_draw"),Object(A.f)(void 0),Object(A.e)({is_auto_draw:1});break;case R.f.CLICK:Object(A.g)("video_play_draw"),Object(A.f)(void 0);break;case R.f.KEYBOARD:Object(A.g)("video_play_draw"),Object(A.f)("keyboard");break;case R.f.WHEEL:Object(A.g)("video_play_draw"),Object(A.f)("mouse");break;case R.f.UNKNOWN:default:Object(A.g)("video_play"),Object(A.f)(void 0),Object(A.e)({draw_action:void 0})}},e.handlePageBeforeUnload=function(){e.reportEnded({currentTime:e.player.currentTime,duration:e.player.duration})},e.handleMouseEnterDefinitionButton=function(){var t,n,r,a=null===(t=e.player.getPlugin("definition"))||void 0===t||null===(n=t.curItem)||void 0===n||null===(r=n.definition)||void 0===r?void 0:r.toLocaleUpperCase();Object(A.i)(D(D({},Object(A.b)()),{},{action_type:"hover",definition:a,from_definition:a}))},e.handleMouseEnterPlaybackRateButton=function(){Object(A.l)(D(D({},Object(A.b)()),{},{action_type:"hover",speed:e.player.playbackRate,from_speed:e.player.playbackRate}))},e.handleVolumeBarMouseUp=function(){document.removeEventListener("mouseup",e.handleVolumeBarMouseUp),e.hasMouseUpEventListener=!1,Object(A.o)(D({},Object(A.b)()))},e.handleUserAction=function(t){var n,r,a=t.eventType,o=t.action,i=t.from,c=t.to,u=t.props;switch(o){case R.e.SWITCH_PLAY_PAUSE:Object(A.k)(c);break;case R.e.CHANGE_DEFINITION:Object(A.i)(D(D({},Object(A.b)()),{},{action_type:"select",definition:null==c||null===(n=c.definition)||void 0===n?void 0:n.toLocaleUpperCase(),from_definition:null==i||null===(r=i.definition)||void 0===r?void 0:r.toLocaleUpperCase()}));break;case R.e.CHANGE_RATE:var l,s,f=u[0];Object(A.l)(D(D({},Object(A.b)()),{},{action_type:"select",speed:null==f||null===(l=f.playbackRate)||void 0===l?void 0:l.to,from_speed:null==f||null===(s=f.playbackRate)||void 0===s?void 0:s.from}));break;case R.e.CHANGE_MUTED:case R.e.CHANGE_VOLUME:if("mousemove"===a)return e.hasMouseUpEventListener||document.addEventListener("mouseup",e.handleVolumeBarMouseUp),void(e.hasMouseUpEventListener=!0);Object(A.o)(D({},Object(A.b)()));break;case R.e.SWITCH_FULLSCREEN:Object(A.e)({fullscreen:c?1:0}),Object(A.j)(c,c?void 0:g()()-e.fullscreenStartTime),c&&(e.fullscreenStartTime=g()());break;case R.e.SWITCH_AUTO_NEXT:Object(A.e)({auto_play_status:c?"on":"off"}),Object(A.h)(c)}},e}return O()(n,[{key:"afterCreate",value:function(){var e=this;this.player.on(R.b.PLAY,this.handlePlay),this.player.on(R.b.ENDED,this.handleEnded),this.player.on(R.b.PLAY_NEXT,this.handlePlayNext),this.player.on(R.b.PLAY_PREV,this.handlePlayPrev),this.player.on(R.b.USER_ACTION,this.handleUserAction),window.addEventListener("beforeunload",this.handlePageBeforeUnload),setTimeout((function(){var t,n,r,a;null===(t=e.player.root)||void 0===t||null===(n=t.querySelector(".xgplayer-definition"))||void 0===n||n.addEventListener("mouseenter",e.handleMouseEnterDefinitionButton),null===(r=e.player.root)||void 0===r||null===(a=r.querySelector(".xgplayer-playbackrate"))||void 0===a||a.addEventListener("mouseenter",e.handleMouseEnterPlaybackRateButton)}))}},{key:"destroy",value:function(){var e,t,n,r;this.player.off(R.b.PLAY,this.handlePlay),this.player.off(R.b.ENDED,this.handleEnded),this.player.off(R.b.PLAY_NEXT,this.handlePlayNext),this.player.off(R.b.PLAY_PREV,this.handlePlayPrev),window.removeEventListener("beforeunload",this.handlePageBeforeUnload),null===(e=this.player.root)||void 0===e||null===(t=e.querySelector(".xgplayer-definition"))||void 0===t||t.removeEventListener("mouseenter",this.handleMouseEnterDefinitionButton),null===(n=this.player.root)||void 0===n||null===(r=n.querySelector(".xgplayer-playbackrate"))||void 0===r||r.removeEventListener("mouseenter",this.handleMouseEnterPlaybackRateButton)}}],[{key:"pluginName",get:function(){return"eventLog"}},{key:"defaultConfig",get:function(){return{}}}]),n}(N.b)},c0c721f9f12a8d2dd2bc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("dfb30137603785af9d6e");function a(e){Object(r.useEffect)(e,[])}},c1428f02c35d581c417d:function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return O}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("2422758950d9f66b7423");function g(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):g(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var y={web_id:""};function w(e){y=_(_({},y),e)}function E(e){var t;return(null===(t=e.videoPlayInfo.video_list)||void 0===t?void 0:t.length)?"MP4":e.videoPlayInfo.dynamic_video?"DASH":"MP4"}function k(e){var t,n,r,a=e.videoPlayInfo;return a.dynamic_video?null===(n=a.dynamic_video.dynamic_video_list)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.codec_type:(null===(t=a.video_list)||void 0===t?void 0:t.length)?a.video_list[0].codec_type:null}function O(e){var t,n=y.web_id,r=k(e)||"h264";return{line_app_id:h.k,line_user_id:n,vtype:E(e),tag:e.videoType,codec_type:r,dynamic_type:null===(t=e.videoPlayInfo.dynamic_video)||void 0===t?void 0:t.dynamic_type}}},c1d32d7b2c2ebdde5bde:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("35cb213607f0dbaa33a3"),n("c24204dd29ff77475878"),n("eef23a05705d8b46f87b"),n("714667d626fd04a26548");var r=n("dfb30137603785af9d6e"),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,r,a=l(o);function o(){return i(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"componentDidCatch",value:function(e,t){var n,r;window.Slardar&&(window.Slardar("captureException",e,Object.assign({type:"ErrorBoundary-catch-error",stackInfo:t.componentStack},this.props.extraReportParams)),null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t))}},{key:"render",value:function(){return this.props.children}}])&&c(t.prototype,n),r&&c(t,r),o}(a.a.Component);function m(e,t){var n=function(n){return a.a.createElement(d,Object.assign({},t),a.a.createElement(e,Object.assign({},n)))},r=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary(".concat(r,")"),n}},c220c1b97ff242ddd88d:function(e,t,n){},c2834b224e087d5c3479:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("4f6e6e2b02b6a70b9d23"),a=n.n(r),o=n("6bb41c796464fc214f15"),i=n.n(o),c=n("6104d0ccf35b3944ecf2"),u=n.n(c),l=n("4cc68b2efb2eff1c34aa"),s=n.n(l),f=n("f9aa1a8184c17c535d23"),d=n.n(f),m=n("b1b96d53056a3b30ef69"),p=n.n(m),b=n("3b76dd97653dea47ddc2"),v=n("fdbcb2f5089886a59aee");function h(e){var t=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var g=b.b.POSITIONS,_=function(e){s()(n,e);var t=h(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).timer=0,e.handleShowTips=function(t){window.clearTimeout(e.timer);var n=t.content,r=t.duration,a=void 0===r?1500:r,o=t.autoClose,i=void 0===o||o;e.changeTipsText(n),e.show(),i&&(e.timer=window.setTimeout((function(){e.hide()}),a))},e.handleVideoChange=function(){window.clearTimeout(e.timer),e.hide()},e.changeTipsText=function(t){var n=e.find(".text");n&&(n.innerHTML=t)},e}return u()(n,[{key:"afterCreate",value:function(){this.player.on(v.b.SHOW_BOTTOM_LEFT_TIPS,this.handleShowTips),this.player.on(v.b.PLAY_NEXT,this.handleVideoChange),this.player.on(v.b.PLAY_PREV,this.handleVideoChange),this.player.on(v.b.MANUAL_PLAY_NEXT,this.handleVideoChange)}},{key:"destroy",value:function(){this.player.off(v.b.SHOW_BOTTOM_LEFT_TIPS,this.handleShowTips),this.player.off(v.b.PLAY_NEXT,this.handleVideoChange),this.player.off(v.b.PLAY_PREV,this.handleVideoChange),this.player.off(v.b.MANUAL_PLAY_NEXT,this.handleVideoChange)}},{key:"render",value:function(){return'\n      <xg-bottom-left-tips class="xgplayer-bottom-left-tips hide">\n        <div class="text"></div>\n      </xg-bottom-left-tips>\n    '}}],[{key:"pluginName",get:function(){return"bottomLeftTips"}},{key:"defaultConfig",get:function(){return{position:g.ROOT,index:0}}}]),n}(b.b)},c32dc719ced889e8de03:function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("90cd159fadd272c59cf2"),v=n.n(b),h=n("819716bda1fd0681a754"),g=n.n(h),_=n("fbbd810ddf979da8e79a"),y=n.n(_),w=n("dfb30137603785af9d6e"),E=n.n(w),k=n("098de4f1853062b3a141"),O=n.n(k),j=(n("ae17adf1c28fabf1305a"),n("fb622297466e7a637f99")),C=n("41e81a6b6b2e87160a0d"),I=n("53955f9dab771af04369");function x(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?i()(e,u()(n)):x(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}t.a=function(e){var t,n,r,a=e.cell,o=e.logParams,i=e.disableDislike,c=void 0!==i&&i,u=e.onDislike,l=e.onItemClick,s=Object(w.useState)(!1),f=y()(s,2),d=f[0],m=f[1],p={groupId:a.group_id,itemId:a.item_id,articleType:a.article_type,title:a.title,coverUrls:a.is_stick?[]:a.__cover_urls,articleUrl:a.__detail_url,userInfo:a.__user_info,source:a.source,commentCount:a.comment_count,timestamp:a.publish_time,isStick:a.is_stick,stickIndex:a.__stick_index,stickStyle:a.stick_style,filterWords:null===(t=a.filter_words)||void 0===t?void 0:t.filter_words},b={impr_id:null===(n=a.log_pb)||void 0===n?void 0:n.impr_id,impr_type:Object(j.l)(a),group_type:Object(j.k)(p.coverUrls.length),category_name:Object(j.i)(a),enter_from:Object(j.j)(a),from_page_name:o.page_name,channel_id:a.__channel_id,section:a.__log_section||"feed",position:o.position,is_following:(null===(r=a.user_info)||void 0===r?void 0:r.follow)?"1":"0",is_top_content:a.is_stick?"1":"0",show_rank:a.__log_show_rank};return E.a.createElement(C.a,{cell:a},E.a.createElement("div",{className:O()("feed-card-wrapper feed-card-article-wrapper",{visited:d,"sticky-cell":p.isStick&&"list"===o.position})},E.a.createElement(I.a,{data:p,disableDislike:c,logInfo:b,logParams:T(T({},o),{},{enter_from:Object(j.j)(a)}),onDislike:function(e){var t;u(a),Object(j.n)(a,{is_following:(null===(t=a.user_info)||void 0===t?void 0:t.follow)?"1":"0",article_type:"text",position:o.position,dislike_type:e,content_type:"single"})},onClickToDetail:function(){var e,t,n;null==l||l(),m(!0),Object(j.c)(T(T({area:a.__log_area||("all"===(null===(e=a.__channel_info)||void 0===e?void 0:e.key)?"feed":"category"),gid:a.group_id,href:a.__detail_url},o),{},{enter_from:Object(j.j)(a),category_name:Object(j.i)(a),channel_id:null===(t=a.__channel_info)||void 0===t?void 0:t.channelId,impr_id:null===(n=a.log_pb)||void 0===n?void 0:n.impr_id,is_top_content:a.is_stick?"1":"0",section:a.__log_section||("list"===o.position?"feed":"detail_feed"),group_source:a.group_source,article_type:"text",group_id:a.group_id,show_rank:a.__log_show_rank,group_type:Object(j.k)(p.coverUrls.length),log_pb:v()(a.log_pb)}))},onDislikeClick:function(){var e;Object(j.g)(a,{is_following:(null===(e=a.user_info)||void 0===e?void 0:e.follow)?"1":"0",article_type:"text",position:o.position})}})))}},c3b7ebebf861b1e36f30:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("d5ea19a4a43e93540347");function a(){return r.b.isSupported()}},c3cdc631e8328a3bec0b:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("a8b0120a79b3dcde8d12"),a=n.n(r),o=n("6ebe1403b6a5cafdbcbe"),i=n.n(o);function c(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function u(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}function l(e,t){var n=t||{},r=n.container,o=void 0===r?window:r,c=n.callback,u=n.duration,l=void 0===u?450:u,s="number"==typeof o.scrollY?o.scrollY:o.scrollTop,f=a()();i()((function t(){var n,r,u,d=a()()-f,m=(n=d>l?l:d,u=e-(r=s),(n/=l/2)<1?u/2*n*n*n+r:u/2*((n-=2)*n*n+2)+r);o===o.window?o.scrollTo(window.scrollX,m):o instanceof Document?o.documentElement.scrollTop=m:o.scrollTop=m,d<l?i()(t):c&&c()}))}},c3f6c65547e619f96c18:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ESC:27,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40}},c48483c92f9361f020b3:function(e,t,n){},cd614ef011545c6d16a0:function(e,t,n){},cdea2e385cdc7aa33952:function(e,t,n){"use strict";n.r(t),n.d(t,"cancelRequest",(function(){return i})),n.d(t,"isCancel",(function(){return c})),n.d(t,"getSearchSug",(function(){return u}));var r=n("3b6da333073325e45942"),a=n.n(r),o=n("13e917642399ec04710a"),i=null,c=function(e){return a.a.isCancel(e)};function u(e){return o.a.get("/2/article/search_sug/",{params:{keyword:e,ps_type:"sug",aid:4916},cancelToken:new a.a.CancelToken((function(e){i=e}))})}},ce33c134671e688f0c8f:function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("4f6e6e2b02b6a70b9d23"),v=n.n(b),h=n("819716bda1fd0681a754"),g=n.n(h),_=n("92c8006d8139d763c605"),y=n.n(_),w=n("ee10aab64b9ea632f5ab"),E=n.n(w),k=n("6bb41c796464fc214f15"),O=n.n(k),j=n("6104d0ccf35b3944ecf2"),C=n.n(j),I=n("4cc68b2efb2eff1c34aa"),x=n.n(I),T=n("f9aa1a8184c17c535d23"),S=n.n(T),N=n("b1b96d53056a3b30ef69"),L=n.n(N),R=n("dfb30137603785af9d6e"),A=n.n(R),P=n("c1d32d7b2c2ebdde5bde"),D=n("663529bce6ee6d8996f5"),M=n("ed0e645fb10944a4fb8f"),U=n("be6323750fae7868d676"),V=n("f9e7ab430b1eaeaf2713"),F=n("7d92094057582d9db023"),H=n("b185499127a129210d8e"),B=n("fb622297466e7a637f99"),W=n("dc8fcd3c4bc605c8245b");function Y(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?i()(e,u()(n)):Y(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function K(e){var t=function(){if("undefined"==typeof Reflect||!v.a)return!1;if(v.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var a=L()(this).constructor;n=v()(r,arguments,a)}else n=r.apply(this,arguments);return S()(this,n)}}var z=function(e){x()(r,e);var t,n=K(r);function r(){var e;O()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={refresh:!1,loading:!1,increasedCount:0,refreshErrTips:null,hasMore:!0,list:[]},e.feedEl=null,e.refresh=function(){var t=E()(y.a.mark((function t(n){var r,a,o,i,c,u,l,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.refresh&&!e.state.loading){t.next=2;break}return t.abrupt("return");case 2:return e.setState({refresh:!0}),t.prev=3,t.next=6,e.fetchFeedData({min_behot_time:n});case 6:if("success"!==(r=t.sent).data.message){t.next=17;break}o=r.data.data||[],o=Object(M.b)(o,{__log_area:"detail_feed",__log_impr_type:"__detail_feed",__log_enter_from:"click_headline",__log_category_name:"related",__log_section:(null===(a=e.props.cellLogParams)||void 0===a?void 0:a.section)||"detail_feed",__log_page_name:e.props.logParams.page_name}),i=e.state.list,c=0===n?"after":"before",u=Object(M.m)(o,i,0,c),l=u.length-(i.length?i.length:1),e.setState({increasedCount:l<0?0:l,refreshErrTips:null,hasMore:r.data.has_more,list:u},(function(){setTimeout((function(){e.setState({refresh:!1,increasedCount:0})}),1500)})),t.next=18;break;case 17:throw new Error(r.data.message);case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(3),console.log("refresh detail feed error",t.t0),s=null===t.t0||void 0===t.t0?void 0:t.t0.message,e.setState((function(){return{refreshErrTips:"Network Error"===s||s.indexOf("timeout")>-1?F.a.NETWORK_ERR:F.a.SERVICE_ERR}}),(function(){setTimeout((function(){e.setState({refresh:!1,refreshErrTips:null})}),1500)}));case 25:case"end":return t.stop()}}),t,null,[[3,20]])})));return function(e){return t.apply(this,arguments)}}(),e.loadMore=E()(y.a.mark((function t(){var n,r,a,o,i,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.loading&&!e.state.refresh){t.next=2;break}return t.abrupt("return");case 2:return e.setState({loading:!0}),n={category_name:"related",position:"detail",enter_from:"click_headline",section:"detail_feed",reload_type:"loadmore"},t.prev=4,r={max_behot_time:e.state.list.length?e.state.list[e.state.list.length-1].behot_time:0},t.next=8,e.fetchFeedData(r);case 8:if("success"!==(a=t.sent).data.message){t.next=17;break}i=a.data.data||[],i=Object(M.b)(i,{__log_area:"detail_feed",__log_impr_type:"__detail_feed",__log_enter_from:"click_headline",__log_category_name:"related",__log_section:(null===(o=e.props.cellLogParams)||void 0===o?void 0:o.section)||"detail_feed",__log_page_name:e.props.logParams.page_name}),c=Object(M.l)(i,e.state.list,0),e.setState({list:c,hasMore:a.data.has_more},(function(){e.setState({loading:!1})})),Object(B.a)(G(G({},n),{},{is_null:i.length?0:1})),t.next=18;break;case 17:throw new Error(a.data.message);case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(4),console.log("loadMore detail feed error",t.t0),e.setState({loading:!1}),Object(B.a)(G(G({},n),{},{is_null:1}));case 25:case"end":return t.stop()}}),t,null,[[4,20]])}))),e.handleRefresh=function(){var t=e.state.list.length?e.state.list[0].behot_time:0;e.refresh(t)},e.handleSubscribe=function(t,n){e.setState((function(e){return{list:Object(M.n)(t,n,e.list)}}))},e.handleDislike=function(t){var n=document.activeElement,r=Object(U.l)(e.feedEl);e.setState((function(e){return{list:Object(M.e)(t.group_id,e.list)}})),Object(U.f)(n,r)},e.handleLikeChange=function(t,n){e.setState((function(e){return{list:Object(M.o)(t,n,e.list)}}))},e}return C()(r,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var t,n,r=((null===(t=e.props.abtestInfo)||void 0===t||null===(n=t.parameters.candidate_module)||void 0===n?void 0:n.block_list)||[]).some((function(e){return e.name===W.a.RELATED_RECOMMEND}));e.props.hasRelated&&!r?e.init():e.refresh(0)}),0)}},{key:"init",value:(t=E()(y.a.mark((function e(){var t,n,r,a,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,D.a.feed.getDetailRelatedList({gid:this.props.groupId});case 4:if("success"!==(t=e.sent).data.message){e.next=12;break}a=t.data.data||[],o=Object(M.m)(a,[],94349561185,"before"),o=Object(M.b)(o,{__log_area:"item_related",__log_impr_type:"__detail_related",__log_enter_from:(null===(n=this.props.cellLogParams)||void 0===n?void 0:n.enter_from)||"click_related",__log_category_name:"related",__log_section:(null===(r=this.props.cellLogParams)||void 0===r?void 0:r.section)||"detail_feed",__log_page_name:this.props.logParams.page_name}),this.setState({loading:!1,list:o}),e.next=13;break;case 12:throw new Error(t.data.message);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("getRelatedList error.",e.t0),this.setState({loading:!1});case 19:this.refresh(0);case 20:case"end":return e.stop()}}),e,this,[[1,15]])}))),function(){return t.apply(this,arguments)})},{key:"fetchFeedData",value:function(e){return D.a.feed.getDetailFeedList(e)}},{key:"render",value:function(){var e=this,t=this.props.groupId,n=this.state,r=n.refresh,a=n.loading,o=n.hasMore,i=n.increasedCount,c=n.refreshErrTips,u=n.list,l=G(G({},this.props.logParams),{},{from_gid:t,section:"detail_feed"});return A.a.createElement(V.a,{toTopOffset:-84,refresh:r,loading:a,hasMore:o,onLoadMore:this.loadMore},A.a.createElement("div",{role:"region","aria-label":"\u76f8\u5173\u63a8\u8350",className:"detail-end-feed",ref:function(t){e.feedEl=t}},r&&A.a.createElement(F.b,{count:i,errorTips:c}),A.a.createElement("div",{style:{marginTop:20}},A.a.createElement(H.a,{list:u,logParams:l,onSubscribe:this.handleSubscribe,onDislike:this.handleDislike,onRefresh:this.handleRefresh,onLikeChange:this.handleLikeChange}))))}}]),r}(A.a.Component);t.a=Object(P.b)(z)},cf421b33cba8016652a2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("c93a3409710bc0c7e7f7"),n("96e657875a3e8636f3a2"),n("3001a3934397946b1a1f"),n("562804f2026cdb551686");function r(e,t){if(!e||!t)return{};var n={},r=Object.keys(e);return r.forEach((function(e){n[e]=t.style[e]})),r.forEach((function(n){t.style[n]=e[n]})),n}},cf532962bc746b402696:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("92c8006d8139d763c605"),v=n.n(b),h=n("ee10aab64b9ea632f5ab"),g=n.n(h),_=n("fbbd810ddf979da8e79a"),y=n.n(_),w=n("819716bda1fd0681a754"),E=n.n(w),k=n("dfb30137603785af9d6e"),O=n.n(k),j=n("9a26e56d17b55462db4a"),C=(n("892f788fdb5a8ff13b0d"),n("663529bce6ee6d8996f5")),I=n("be6323750fae7868d676"),x=n("fb622297466e7a637f99"),T=n("6cf195ddfada1b0033e1"),S=n("acff6c447f863638e55f"),N=n("1d7fcef557f69e9ba680"),L=n("ba5c9f6f094cd420b97f"),R=n("e763df33e8176fe29b0e"),A=n("1364f485450c5b33f8c4");function P(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):u.a?i()(e,u()(n)):P(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var M=function(e){var t=e.onRef,n=e.logParams,r=Object(k.useRef)(null),a=Object(k.useRef)(!1),o=Object(k.useRef)(0),i=Object(k.useState)([]),c=y()(i,2),u=c[0],l=c[1],s=Object(k.useCallback)((function(){var e=Math.floor(46*Math.random());return e>o.current-5&&e<o.current+5?s():e}),[]),f=Object(k.useCallback)((function(e){Object(T.a)("category_refresh",D(D({},n),{},{section:"hot_video",reload_type:"change",is_null:e}))}),[n]),d=Object(k.useCallback)(function(){var e=g()(v.a.mark((function e(t){var n,r,i,c,u,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=2;break}return e.abrupt("return");case 2:return a.current=!0,e.prev=3,n=s(),o.current=n,e.next=8,C.a.feed.getHotVideoData(n);case 8:if(r=e.sent,i=r.data||{},c=i.message,u=i.data,"success"!==c){e.next=16;break}d=u.filter((function(e){return 211===e.cell_type})).map((function(e,t){var n,r,a,o;return{itemId:e.item_id,groupId:e.group_id,gid:e.gid,groupSource:e.group_source,title:e.title,imgUrl:Object(I.r)((null===(n=e.middle_image)||void 0===n?void 0:n.url)||(null===(r=e.video_detail_info)||void 0===r||null===(a=r.detail_video_large_image)||void 0===a?void 0:a.url)),sourceUrl:Object(S.b)(S.a.SELF_VIDEO,e.group_id),duration:Object(I.h)(e.video_duration),watchCount:Object(I.j)(null===(o=e.video_detail_info)||void 0===o?void 0:o.video_watch_count,!1,!1),rank:t+1,userInfo:e.user_info,logInfo:D(D({},e.log_pb),{},{item_id:e.item_id,show_rank:Number(e.rank)+1,section:"hot_video"})}})),l(d.slice(0,5)),"change"===t&&f(0),e.next=17;break;case 16:throw new Error(r.data.message);case 17:a.current=!1,e.next=25;break;case 20:e.prev=20,e.t0=e.catch(3),a.current=!1,console.log("get hotVideo error",e.t0),"change"===t&&f(1);case 25:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t){return e.apply(this,arguments)}}(),[s,f]);function m(e){Object(T.a)("detail_page_widget_click",{group_id:n.from_gid,widget_name:"video_card",from_position:e})}function p(e){Object(x.c)(D(D({},n),{},{channel_id:94349549395,area:"hot_videos",gid:e.gid,href:e.sourceUrl,show_rank:e.rank,section:"hot_video",group_source:e.groupSource,group_id:e.gid,article_type:"video",is_top_content:"0"})),m("list")}return Object(k.useEffect)((function(){d()}),[]),Object(k.useImperativeHandle)(t,(function(){return{refresh:function(){d()}}})),O.a.createElement("div",{role:"complementary","aria-label":"\u7cbe\u5f69\u89c6\u9891",className:"hot-video",ref:r},O.a.createElement(L.a,{className:"video-header",type:"hotVideo",title:"\u7cbe\u5f69\u89c6\u9891",onClick:function(){d("change"),m("change")}}),O.a.createElement("div",{className:"video-list"},u.map((function(e){return O.a.createElement(j.a,{onVisible:function(t){return t&&function(e){var t;Object(T.a)("client_show",D(D({},n),{},{channel_id:94349549395,show_rank:e.rank,section:"hot_video",group_source:e.groupSource,group_id:e.gid,article_type:"video",is_top_content:"0",is_following:(null===(t=e.userInfo)||void 0===t?void 0:t.follow)?"1":"0",key_name:"tt_pc_feed"}))}(e)},once:!0,key:e.gid},O.a.createElement("div",{className:"video-item"},O.a.createElement(R.a,{tabIndex:-1,"aria-hidden":!0,className:"left-img",href:e.sourceUrl,logInfo:Object(N.b)(e,n),onClick:function(){return p(e)}},O.a.createElement("i",{className:"pic",style:{backgroundImage:"url(".concat(e.imgUrl,")")}}),O.a.createElement("p",{className:"duration"},e.duration)),O.a.createElement("div",{className:"right-content"},O.a.createElement(R.a,{className:"title",href:e.sourceUrl,title:e.title,logInfo:Object(N.b)(e,n),onClick:function(){return p(e)}},e.title),O.a.createElement("p",{className:"info"},e.watchCount,"\u6b21\u64ad\u653e"))))}))))},U=function(e){var t=e.fixed;return O.a.createElement(A.a,{disable:!t,placeholderWidth:318,placeholderHeight:518,position:{top:88,zIndex:100}},O.a.createElement(M,D({},e)))};t.b=M},d01523487ce5c2f3fd39:function(e,t,n){},d0cdb1573eb353e026ef:function(e,t,n){},d1168368cb87a97d8ea2:function(e,t,n){"use strict";n.d(t,"b",(function(){return D}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("fbbd810ddf979da8e79a"),g=n.n(h),_=n("dfb30137603785af9d6e"),y=n.n(_),w=n("098de4f1853062b3a141"),E=n.n(w),k=n("a7cb42378ff2e016201f"),O=n("f9ed13e5f81996e94cef"),j=n("cf421b33cba8016652a2"),C=n("7306a56ccd546e9201a3"),I=n("f9dd4d76c78fe11efa84"),x=(n("e101535ac9d197332c92"),n("c3cdc631e8328a3bec0b")),T=n("6cf195ddfada1b0033e1"),S=n("be6323750fae7868d676"),N=n("73f40e49daf0622f890e"),L=n("6f7c19fbb5122ede4b67");function R(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):R(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function P(e,t){var n=e.keyCode;32!==n&&13!==n||(e.preventDefault(),t())}function D(){Object(N.b)("__is_visited_home","1")}var M=y.a.forwardRef((function(e,t){var n=e.logParams,r=e.showHome,a=e.showRefresh,o=e.isFeedbackShow,i=e.abtestInfo,c=e.refresh,u=e.onFeedbackClick,l=e.getPercent,s=Object(_.useState)(!1),f=g()(s,2),d=f[0],m=f[1],p=Object(_.useState)(!1),b=g()(p,2),v=b[0],h=b[1],w=Object(_.useRef)(null),R=Object(_.useRef)(null),D=Object(_.useRef)(-1),M=Object(_.useRef)({}),U=Object(_.useRef)(!1);Object(_.useEffect)((function(){var t;if(e.showHomeBubble){var n=(null==i||null===(t=i.parameters.random_source)||void 0===t?void 0:t.home_popups)||!1,r=!("1"===Object(N.a)("__is_visited_home"))&&Object(C.c)()&&n;U.current=r,h(r)}}),[]);var V=Object(_.useCallback)((function(e){null==e||e.stopPropagation(),h(!1)}),[]);function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",a=Object(k.a)()||{},o=a.channel_id;Object(T.a)("function_bar_click",A(A({channel_id:o},n),{},{action_type:t,section:"function_bar",click_type:e},r?{}:{is_top_page:d?"0":"1"}))}function H(){var e;F("feed_page");var t=(null==i||null===(e=i.parameters.random_source)||void 0===e?void 0:e.home_sticked)||!1,n=Object(S.q)("//www.toutiao.com",A({},t&&U.current?{source:"random_toolbar"}:{}));V(),window.open(n,"_self")}function B(){F("top"),Object(x.a)(0)}function W(){F("refresh"),null==c||c()}function Y(){F("feedback"),u()}function G(e){F(e,"hover")}function K(e){Object(T.a)("home_page_push",{action_type:e,impr_id:n.impr_id,group_id:n.group_id,percent:null==l?void 0:l(),page_name:n.page_name})}return Object(_.useEffect)((function(){var e=window.innerHeight,t=Object(S.t)((function(){Object(x.c)()>e?m(!0):(w.current&&(w.current.style.display="none",D.current=window.setTimeout((function(){w.current&&(w.current.style.display="inherit")}),350)),m(!1))}),300);return window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[]),Object(_.useEffect)((function(){if(R.current)if(o){var e=Object(O.a)();M.current=Object(j.a)({paddingRight:"".concat(e,"px")},R.current)}else Object(j.a)(M.current,R.current)}),[o]),Object(L.a)((function(){setTimeout((function(){K(v?"show":"disappear")}),300)}),[v]),Object(_.useImperativeHandle)(t,(function(){return{closeHomeBubble:V}})),y.a.createElement("div",{className:"toolbar",ref:R},y.a.createElement("ul",{className:"tool-container",style:d?{transform:"translateY(-52px)"}:{}},r&&y.a.createElement("li",{tabIndex:0,role:"button","aria-label":"\u53bb\u9996\u9875",className:"tool-item home",onClick:H,onMouseEnter:function(){return G("feed_page")},onKeyDown:function(e){return P(e,H)}},y.a.createElement(I.a,{visible:v,transformOrigin:"141px center",minScale:0},y.a.createElement("div",{className:"bubble",onClick:function(){K("click")}},"\u70b9\u51fb\u56de\u5230\u5934\u6761\u9996\u9875",y.a.createElement("button",{className:"icon-close",type:"button",onClick:V}))),"\u9996\u9875"),a&&y.a.createElement("li",{tabIndex:0,role:"button","aria-label":"\u5237\u65b0",className:"tool-item refresh",onClick:W,onMouseEnter:function(){return G("refresh")},onKeyDown:function(e){return P(e,W)}},"\u5237\u65b0"),y.a.createElement("li",{tabIndex:0,role:"button","aria-label":"\u53cd\u9988",className:"tool-item feedback",onClick:Y,onMouseEnter:function(){return G("feedback")},onKeyDown:function(e){return P(e,Y)}},"\u53cd\u9988"),y.a.createElement("li",{ref:w,tabIndex:0,role:"button","aria-label":"\u56de\u5230\u9876\u90e8",className:E()("tool-item top",{show:d}),onClick:B,onMouseEnter:function(){return G("top")},onKeyDown:function(e){return P(e,B)}},"\u9876\u90e8")))}));t.a=M},d1afa150e54e7d13351c:function(e,t,n){"use strict";n("714667d626fd04a26548");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=(n("6b2174c63bb15d1d48ee"),n("f9ed13e5f81996e94cef")),i=n("cf421b33cba8016652a2"),c=n("c3f6c65547e619f96c18"),u=(n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("d765da9cbece3e988893")),l=n.n(u),s=n("098de4f1853062b3a141"),f=n.n(s);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.children,n=e.onMount;return Object(r.useEffect)((function(){n&&n()}),[]),l.a.createPortal(t,document.body)},b=function(e){var t=e.visible,n=e.className,o=e.closeTimeout,i=void 0===o?200:o,c=e.children,u=e.init,l=d(Object(r.useState)(t),2),s=l[0],m=l[1],b=Object(r.useRef)(null);function v(){var e;b.current&&(b.current.classList.add("modal-show"),b.current.classList.remove("modal-hide"),null==(e=b.current)||e.clientWidth,b.current.classList.add("modal-anime-show"),b.current.classList.remove("modal-anime-hide"))}return Object(r.useEffect)((function(){t?(m(!0),b.current&&v()):(b.current&&(b.current.classList.add("modal-anime-hide"),b.current.classList.remove("modal-anime-show")),setTimeout((function(){var e,t;null===(e=b.current)||void 0===e||e.classList.add("modal-hide"),null===(t=b.current)||void 0===t||t.classList.remove("modal-show")}),i))}),[t]),u||s?a.a.createElement(p,{onMount:function(){return!u&&v()}},a.a.createElement("div",{className:f()("ttp-modal-wrapper",n,{"modal-hide":u}),ref:b},c)):null};n("35cb213607f0dbaa33a3"),n("c24204dd29ff77475878");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,e);var t,n,r,a=y(o);function o(){var e;return h(this,o),(e=a.apply(this,arguments)).state={mounted:!1},e}return t=o,(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this.props.children;return this.state.mounted?e:null}}])&&g(t.prototype,n),r&&g(t,r),o}(a.a.Component),O=function(e){var t=e.className,n=e.title,u=e.visible,l=e.maskClosable,s=void 0===l||l,f=e.onClose,d=e.onOk,m=e.children,p=e.footer,v=e.init,h=e.limitFocusArea,g=void 0===h||h,_=Object(r.useRef)({}),y=Object(r.useRef)(null),w=Object(r.useRef)(null),E=Object(r.useRef)(null),k=Object(r.useRef)(null);function O(){f()}var j=Object(r.useCallback)((function(e){e.keyCode===c.a.ESC&&O()}),[]),C=Object(r.useCallback)((function(e){var t,n=e.target;if(y.current&&n)try{n!==k.current&&16&y.current.compareDocumentPosition(n)||null===(t=E.current)||void 0===t||t.focus()}catch(r){console.error(r)}}),[]);return Object(r.useEffect)((function(){if(u){if(document.body.clientHeight>window.innerHeight){var e=Object(o.a)();_.current=Object(i.a)({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body)}window.addEventListener("keydown",j),g&&window.addEventListener("focus",C,!0),w.current=document.activeElement,setTimeout((function(){var e,t,n;if(y.current){E.current=y.current.querySelector(".first-focus-el"),E.current||(E.current=y.current.querySelector(".ttp-modal-close-btn"));var r=y.current.querySelector(".initial-focus-el");r?null===(t=(e=r).focus)||void 0===t||t.call(e):null===(n=E.current)||void 0===n||n.focus()}}))}else Object(i.a)(_.current,document.body),window.removeEventListener("keydown",j),window.removeEventListener("focus",C,!0),null===(t=w.current)||void 0===t||t.focus();var t;return function(){window.removeEventListener("keydown",j),window.removeEventListener("focus",C,!0)}}),[u,j,C]),a.a.createElement(b,{visible:u,className:t,init:v},a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"ttp-modal-mask",onClick:function(){s&&O()}}),a.a.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":n,className:"ttp-modal",ref:y},a.a.createElement("div",{className:"ttp-modal-header"},a.a.createElement("span",{className:"ttp-modal-title"},n),a.a.createElement("button",{type:"button","aria-label":"\u5173\u95ed\u5f39\u7a97",className:"ttp-modal-close-btn",onClick:O},a.a.createElement("i",null))),a.a.createElement("div",{className:"ttp-modal-body"},m),a.a.createElement("div",{className:"ttp-modal-footer"},void 0!==p?p:a.a.createElement("div",{className:"ttp-modal-footer-btn"},a.a.createElement("button",{type:"button",className:"btn-cancel",onClick:O},"\u53d6\u6d88"),a.a.createElement("button",{type:"button",className:"btn-ok",onClick:function(){d&&d()}},"\u786e\u8ba4"))),a.a.createElement("div",{tabIndex:0,ref:k}))))};t.a=function(e){return a.a.createElement(k,null,a.a.createElement(O,Object.assign({},e)))}},d21e1985b4157995b9e6:function(e,t,n){},d4449abe3d2ba6591a15:function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("a7cb42378ff2e016201f"),i=(n("e0e7afec53e5c6f0976a"),n("be6323750fae7868d676")),c=n("42d4f6648edde20f9953");t.a=function(e){var t,n,r,u,l=e.userInfo,s=e.source,f=e.sourceAvatar,d=e.timestamp,m=e.logInfo,p=Object(c.b)(null==l||null===(t=l.userAuthInfo)||void 0===t?void 0:t.auth_type),b="";return l&&(b=l.userSecToken?"/c/user/token/".concat(l.userSecToken,"/"):""),a.a.createElement("div",{className:"feed-card-media-header"},a.a.createElement("div",{className:"feed-card-user-info"},b&&a.a.createElement("a",{href:b,target:"_blank",rel:"noopener nofollow",title:null==l?void 0:l.name,onClick:function(e){if(e.preventDefault(),""!==b){var t=Object(o.b)(b,{section:"detail"===m.position?"detail_related":"feed",position:m.position,enter_from:m.enter_from});window.open(t)}}},a.a.createElement("img",{"aria-hidden":!0,src:null==l?void 0:l.avatarUrl}),a.a.createElement("span",null,null==l?void 0:l.name)),!b&&a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{"aria-hidden":!0,src:f}),a.a.createElement("span",null,s))),a.a.createElement(c.a,{size:16,userAuthInfo:null==l?void 0:l.userAuthInfo}),d&&a.a.createElement("div",{className:"time"},Object(i.k)(d)),!p&&(null==l||null===(n=l.userAuthInfo)||void 0===n?void 0:n.auth_info)&&a.a.createElement(a.a.Fragment,null,d&&a.a.createElement("div",{className:"dot"},"\xb7"),a.a.createElement("div",{className:"user-auth-desc",title:null==l||null===(r=l.userAuthInfo)||void 0===r?void 0:r.auth_info},null==l||null===(u=l.userAuthInfo)||void 0===u?void 0:u.auth_info)))}},d599dcaaa3d3c36782f0:function(e,t,n){},d71e3476ab4b874a545f:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("4f6e6e2b02b6a70b9d23"),a=n.n(r),o=n("6bb41c796464fc214f15"),i=n.n(o),c=n("6104d0ccf35b3944ecf2"),u=n.n(c),l=n("00700556522083689ac0"),s=n.n(l),f=n("4cc68b2efb2eff1c34aa"),d=n.n(f),m=n("f9aa1a8184c17c535d23"),p=n.n(m),b=n("b1b96d53056a3b30ef69"),v=n.n(b),h=n("afa39434f067edd8798c"),g=n("3b76dd97653dea47ddc2"),_=n("6a1a59a792ab696fbf35");function y(e){var t=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var w=function(e){d()(n,e);var t=y(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).clickCount=0,e.clickTimer=null,e.onMouseMove=function(){if(_.b){var t,n=s()(e),r=n.player,a=n.playerConfig;if(!r.isActive)r.focus({autoHide:!a.closeDelayBlur}),!a.closeFocusVideoFocus&&(null===(t=r.video)||void 0===t||t.focus())}},e.onMouseEnter=function(){var t;if(_.b){var n=s()(e),r=n.playerConfig,a=n.player;a.focus({autoHide:!r.closeDelayBlur}),!r.closeFocusVideoFocus&&(null===(t=a.video)||void 0===t||t.focus())}},e.onMouseLeave=function(){if(_.b){var t=e.playerConfig,n=t.closePlayerBlur,r=t.leavePlayerTime;n||(r?e.player.focus({autoHide:!0,delay:r}):e.player.blur())}},e.onVideoClick=function(t){var n,r=s()(e),a=r.player,o=r.playerConfig;t.target&&o.closeVideoClick||t.target!==a.video&&t.target!==a.innerContainer&&t.target!==(null===(n=a.video)||void 0===n?void 0:n.__canvas)||(t.preventDefault(),o.closeVideoStopPropagation||t.stopPropagation(),e.clickCount++,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),e.clickTimer=window.setTimeout((function(){e.clickCount&&(e.clickCount--,e.switchPlayPause(t),clearTimeout(e.clickTimer),e.clickTimer=null)}),300))},e.onVideoDblClick=function(t){var n,r=s()(e),a=r.player,o=r.playerConfig;!t.target||t.target!==a.video&&t.target!==(null===(n=a.video)||void 0===n?void 0:n.__canvas)||o.closeVideoDblclick||(e.clickCount<2?e.clickCount=0:(e.clickCount=0,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),t.preventDefault(),t.stopPropagation(),e.emitUserAction(t,"switch_fullscreen",{props:"fullscreen",from:a.fullscreen,to:!a.fullscreen}),a.fullscreen?a.exitFullscreen():a.getFullscreen()))},e}return u()(n,[{key:"afterCreate",value:function(){var e=this.playerConfig,t=e.enableContextmenu;e.isMobileSimulateMode||"mobile"===h.a.device&&!h.a.os.isIpad||(this.config.disableContextmenu=!t,this.initEvents())}},{key:"initEvents",value:function(){var e=this.player,t=e.video,n=e.root;t.addEventListener("click",this.onVideoClick,!1),t.addEventListener("dblclick",this.onVideoDblClick,!1),null==n||n.addEventListener("mousemove",this.onMouseMove,!1),null==n||n.addEventListener("mouseleave",this.onMouseLeave,!1),this.config.disableContextmenu&&t.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var t=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:t.paused,to:!t.paused}),t.ended?t.duration!==1/0&&t.duration>0&&t.replay():t.paused?t.play():t.pause()}},{key:"onContextmenu",value:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this.player,t=e.video,n=e.root;this.clickTimer&&clearTimeout(this.clickTimer),null==n||n.removeEventListener("click",this.onVideoClick,!1),null==n||n.removeEventListener("mousemove",this.onMouseMove,!1),null==n||n.removeEventListener("mouseleave",this.onMouseLeave,!1),null==t||t.removeEventListener("dblclick",this.onVideoDblClick,!1),null==t||t.removeEventListener("contextmenu",this.onContextmenu,!1)}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{disableContextmenu:!0}}}]),n}(g.b)},d744c9d685338e6625ab:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("e704d05b0d6013ca4cfe"),g=n("fdbcb2f5089886a59aee"),_=n("544a2fe35893607768ff");function y(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):y(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function E(e){var t,n=e.videoId,r=e.videoPlayInfo,a=Object(_.c)(_.a.DEFINITION),o="\u81ea\u52a8"===a||!a,i={vid:n,defaultFormat:"dash",defaultDefinition:o?void 0:a,definitionText:{"360p":g.a["360p"].text,"480p":g.a["480p"].text,"720p":g.a["720p"].text,"1080p":g.a["1080p"].text}};return r.dynamic_video&&(i.defaultFormat="dash",i.dashOpts={dynamic_video:r.dynamic_video},i.autoBitrateOpts={autoDefiText:"\u81ea\u52a8",isPlayAutoDefi:o,isOpenAutoDefi:!0,interval:1e3,noStallCheckTime:5,method:22,module:h.a},i.preloadBufferThreshold=.1),r.video_list&&(i.defaultFormat="mp4",i.mp4Opts={isPlayAutoDefi:o,isOpenAutoDefi:!0,mp4List:(t=r.video_list,t.map((function(e){var t,n,r=e.definition;return w(w({},e),{},{url:(e.main_url||"").replace(/^http[s]?:/,""),definition:r,text:(null===(t=g.a[r])||void 0===t?void 0:t.text)||r,iconText:(null===(n=g.a[r])||void 0===n?void 0:n.iconText)||r})})))}),i}},d7eda47c4265102ff5f2:function(e,t,n){"use strict";n.d(t,"a",(function(){return Gn}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("4f6e6e2b02b6a70b9d23"),v=n.n(b),h=n("92c8006d8139d763c605"),g=n.n(h),_=n("90cd159fadd272c59cf2"),y=n.n(_),w=n("ee10aab64b9ea632f5ab"),E=n.n(w),k=n("819716bda1fd0681a754"),O=n.n(k),j=n("6bb41c796464fc214f15"),C=n.n(j),I=n("6104d0ccf35b3944ecf2"),x=n.n(I),T=n("4cc68b2efb2eff1c34aa"),S=n.n(T),N=n("f9aa1a8184c17c535d23"),L=n.n(N),R=n("b1b96d53056a3b30ef69"),A=n.n(R),P=n("dfb30137603785af9d6e"),D=n.n(P),M=n("9e90160f7e0f5e79b860"),U=n("f1419b67ef4472693a2c"),V=n("c1d32d7b2c2ebdde5bde"),F=(n("e51434d8d152e1ba8c58"),D.a.createContext(null)),H=n("2422758950d9f66b7423"),B=n("be6323750fae7868d676"),W=n("36091a6286193bdd62ec"),Y=n("733b0b7fc50b301159ca"),G=n("acff6c447f863638e55f"),K=n("d1168368cb87a97d8ea2"),z=n("5261bf3449e88fd34744"),q=n("9ff8b349516e807d509d"),X=n("7306a56ccd546e9201a3"),Q=n("a7cb42378ff2e016201f"),Z=n("6cf195ddfada1b0033e1"),J=n("4e16ef1abe038022cfb8"),$=n("fb622297466e7a637f99"),ee=n("ac9414e2d47df986f7f3"),te=n("fbbd810ddf979da8e79a"),ne=n.n(te),re=n("098de4f1853062b3a141"),ae=n.n(re),oe=n("9a26e56d17b55462db4a"),ie=(n("5e2f6fd90cd06c4f8232"),n("7127a810ea2f14f1c924"));function ce(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):ce(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var le=0,se=!0;function fe(){return{contentOverHeight:le,isContentExpanded:se}}var de=function(e){var t=e.children,n=e.maxHeight,r=void 0===n?1424:n,a=e.overHeight,o=void 0===a?0:a,i=Object(P.useState)(!0),c=ne()(i,2),u=c[0],l=c[1],s=Object(P.useState)(!1),f=ne()(s,2),d=f[0],m=f[1],p=Object(P.useState)(0),b=ne()(p,2),v=b[0],h=b[1],g=Object(P.useRef)(!1),_=Object(P.useRef)(e.logParams);_.current=e.logParams,le=o,se=u;function y(e){var t;Object(Z.a)("detail_text_icon",ue(ue({},_.current),{},{category_name:(t=Object(X.b)(),t===X.a.SEO?"search":t===X.a.MOBILE?"app_share":""),action_type:e,percent:100-v,position:"detail_content"}))}return D.a.createElement("div",{className:ae()("expand-container",{folded:d&&!u}),style:{maxHeight:u?"none":r}},D.a.createElement(ie.a,{onSizeChange:function(e){var t=e.height;if(r&&Object(X.c)()){var n=t>r+o,a=Math.ceil((t-r)/t*100);a=Math.min(a,100),h(a),m(n),g.current||(g.current=!0,l(!n))}}},D.a.createElement("div",null,t)),d&&!u&&D.a.createElement(oe.a,{onVisible:function(e){e&&y("show")},once:!0},D.a.createElement("div",{className:"expand-button-wrapper"},D.a.createElement("div",{className:"mask"}),D.a.createElement("div",{className:"expand-button",onClick:function(){y("click"),l(!0)}},D.a.createElement("button",{type:"button"},"\u70b9\u51fb\u5c55\u5f00\u5269\u4f59 ",v,"%")))))};function me(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):me(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function be(e){var t=function(){if("undefined"==typeof Reflect||!v.a)return!1;if(v.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var a=A()(this).constructor;n=v()(r,arguments,a)}else n=r.apply(this,arguments);return L()(this,n)}}var ve=function(e){S()(n,e);var t=be(n);function n(){var e;C()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).readPCT=0,e.handleScroll=Object(B.t)((function(){e.calcReadPCT()}),300),e.calcReadPCT=function(){if(100!==e.readPCT){var t=e.getContentRect();if(t){var n=t.top,r=t.height,a=fe().isContentExpanded||!e.isExpandBtnVisible()?window.innerHeight-n:1424,o=Math.floor(a/r*100);o=Math.min(o,100),e.readPCT=Math.max(o,e.readPCT)}}},e}return x()(n,[{key:"componentDidMount",value:function(){var e,t=this,n=(null===(e=this.props)||void 0===e?void 0:e.data)||{},r=n.loginUserInfo,a=n.identity,o=n.groupId,i=n.groupSource,c=n.articleType,u=n.mediaInfo,l=n.relation,s=n.abtestInfo,f=n.videoGroup,d=n.videoInfo,m=n.videoLinkCardInfo,p=n.longVideoInfo,b=n.logId,v=n.attachCardInfo,h=c===H.a.article||c===H.a.gallery;Object(J.a)(a),Object(Z.b)(a,s),Object(Y.b)(h?"tuwen_detail":"weitoutiao_detail"),Object(Y.c)(),Object(J.d)(y()({logId:b}));var g={group_id:o,group_source:i,group_format:h?"tuwen":"weitoutiao",page_type:"detail",author_id:null==u?void 0:u.userId,is_following:l.isFollowing?"1":"0",is_login:r?1:0,url:window.location.href,from_url:document.referrer,wtt_video:Object(Y.a)({video_group:f,video_info:d,video_link_card_info:m,long_video_info:p}),wtt_link:v?"1":void 0,is_folded:function(){return t.isFolded()}};Object($.m)(pe(pe(pe({},Object(Q.a)()),g),{},{is_folded:this.isFolded()})),new ee.a([{event:"stay_page",params:pe(pe({},Object(Q.a)()),g)},{event:"read_pct",params:pe(pe(pe({},Object(Q.a)()),g),{},{percent:function(){return t.getReadPCT()},page_count:1})}]).start(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"getContentRect",value:function(){var e,t,n=null;if(n="article"===(null===(e=this.props)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.articleType)?document.querySelector(".article-content"):document.querySelector(".wtt-content"))return n.getBoundingClientRect()}},{key:"isExpandBtnVisible",value:function(){var e,t=null===(e=document.querySelector(".".concat("expand-button")))||void 0===e?void 0:e.getBoundingClientRect();return!!t&&t.top<window.innerHeight}},{key:"getReadPCT",value:function(){return this.readPCT||this.calcReadPCT(),this.readPCT}},{key:"isFolded",value:function(){var e;if(Object(X.c)())return((null===(e=this.getContentRect())||void 0===e?void 0:e.height)||0)>1424+fe().contentOverHeight?1:void 0}},{key:"render",value:function(){return null}}]),n}(D.a.Component),he=n("b7d86484cebe8a19dabd"),ge=n.n(he),_e=(n("714667d626fd04a26548"),n("281981c6b99b2a82c28b"),n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("21460410443b5c09d963"),n("17d091243b0d38080c9b"),n("ec7d18b3433a1d1d5e4e")),ye=n("0f46dda6f1b1c5bdfea1"),we=n("102c68ff4eb277341743"),Ee=n("5198e738d473f46c850b"),ke=n("4bf504815cc5ae7cb0af"),Oe=n("f6778eb8e31acff71d81");function je(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ce(o,r,a,i,c,"next",e)}function c(e){Ce(o,r,a,i,c,"throw",e)}i(void 0)}))}}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||Te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne=D.a.forwardRef((function(e,t){var n,r,a=e.loginUserInfo,o=e.groupId,i=e.itemId,c=e.webid,u=e.isReplyList,l=void 0!==u&&u,s=e.defaultCount,f=void 0===s?10:s,d=e.isCommentFolded,m=e.onInitEnd,p=xe(Object(P.useState)(0),2),b=p[0],v=p[1],h=xe(Object(P.useState)([]),2),g=h[0],_=h[1],y=xe(Object(P.useState)(!1),2),w=y[0],E=y[1],k=xe(Object(P.useState)(!1),2),O=k[0],j=k[1],C=Object(P.useRef)(0),I=(Object(Q.a)()||{}).is_top_content,x=void 0===I?"0":I,T=Object.assign(Object.assign({},e.logParams),{is_top_content:x,section:"content_detail"}),S=((null===(r=null===(n=g[0])||void 0===n?void 0:n.replyList)||void 0===r?void 0:r.list)||[]).some((function(e){return e.isHighlightReply})),N=Object(P.useMemo)((function(){return d?S?1:2:e.previewCount}),[e.previewCount,d,S]);function L(e,t,n){return R.apply(this,arguments)}function R(){return(R=Ie(regeneratorRuntime.mark((function e(t,n,r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.a.comment.getTabComments(t,i,n,r);case 2:if(a=e.sent,"success"!==(o=a.data).message){e.next=6;break}return e.abrupt("return",{total:o.total_number,list:Object(ye.a)(o.data),hasMore:o.has_more});case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n,r){return M.apply(this,arguments)}function M(){return(M=Ie(regeneratorRuntime.mark((function e(t,n,r,a){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.a.comment.getReplyList(t,n,r,a);case 2:if(o=e.sent,"success"!==(i=o.data).message){e.next=6;break}return e.abrupt("return",{total:i.data.total_count,list:Object(ye.b)(i.data.data),hasMore:i.data.has_more});case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return V.apply(this,arguments)}function V(){return(V=Ie(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=null,!l){e.next=8;break}return e.next=5,A(o,t,n,1);case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,L(o,t,n);case 10:r=e.sent;case 11:if(!r){e.next=19;break}a=[].concat(je(g),je(Object(ye.e)(g,r.list))),_(a),v(r.total),E(r.hasMore),null==m||m(r.total),e.next=20;break;case 19:throw new Error("");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}function F(e,t){return H.apply(this,arguments)}function H(){return(H=Ie(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,n,5);case 2:(r=e.sent)&&(a=Object(ye.c)(t,Object.assign(Object.assign({},r),{offset:n}),g),_(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return W.apply(this,arguments)}function W(){return(W=Ie(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.a.comment.submitComment(o,i,t);case 2:if(n=e.sent,"success"!==(r=n.data).message){e.next=9;break}return a=Object(ye.a)([{comment:r.data}]),_(a.concat(g)),v(b+1),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t,n){return G.apply(this,arguments)}function G(){return(G=Ie(regeneratorRuntime.mark((function e(t,n,r){var a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={id:o,content:t},l?n&&(i.replyCommentId=n.id,i.replyUserId=n.user.uid):(i.id=(null==n?void 0:n.id)||o,r&&(i.id=r.id,i.replyCommentId=null==n?void 0:n.id,i.replyUserId=null==n?void 0:n.user.uid)),e.next=4,_e.a.comment.submitReply(i);case 4:if(c=e.sent,"success"!==(u=c.data).message){e.next=12;break}return s=Object(ye.d)(u.data.comment,g,n,r,l),_(s),e.abrupt("return");case 12:throw new Error(null===(a=u.err_alert)||void 0===a?void 0:a.err_content);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t,n){var r=Object(ye.f)(t,e,g,n);_(r)}function z(){j(!0)}return Object(P.useEffect)((function(){U(0,f)}),[]),Object(P.useEffect)((function(){0!==C.current?O?(C.current=Date.now(),Object(we.a)("comment_enter",T)):Object(we.a)("comment_exit",Object.assign(Object.assign({},T),{stay_time:Date.now()-C.current})):C.current=Date.now()}),[O]),Object(P.useImperativeHandle)(t,(function(){return{openCommentPanel:function(){z()}}})),D.a.createElement("div",{role:"region","aria-label":"\u8bc4\u8bba\u533a",className:ae()("ttp-comment-block",{"comment-folded":d})},D.a.createElement(ke.a,{loginUserInfo:a,groupId:o,itemId:i,webid:c,isReplyList:l,total:b,list:N?g.slice(0,N):g,logParams:T,disableMainInput:d,onGetReplyListByCommentId:F,onSubmitComment:B,onSubmitReply:Y,onLikeChange:K}),!!N&&b>N&&D.a.createElement("button",{className:"side-drawer-btn",onClick:z},D.a.createElement("span",null,"\u67e5\u770b\u5168\u90e8 ",b," \u6761\u8bc4\u8bba")),D.a.createElement(Oe.a,{ariaLabel:"\u8bc4\u8bba",className:"ttp-comment-drawer",title:D.a.createElement("div",{className:"title"},"\u8bc4\u8bba ",!!b&&D.a.createElement("span",null,Object(Ee.a)(b))),visible:O,style:{width:442},onClose:function(){j(!1)}},D.a.createElement(D.a.Fragment,null,D.a.createElement(ke.a,{anchorId:"",className:"small",loginUserInfo:a,groupId:o,itemId:i,webid:c,isReplyList:l,total:b,list:g,logParams:T,onGetReplyListByCommentId:F,onSubmitComment:B,onSubmitReply:Y,onLikeChange:K}),w&&D.a.createElement("div",{className:"load-more-btn-wrapper"},D.a.createElement("button",{className:"load-more-btn",onClick:function(){U(g.length,f)}},D.a.createElement("span",null,"\u67e5\u770b\u66f4\u591a\u8bc4\u8bba"))),!w&&D.a.createElement("div",{className:ae()("no-more",{"no-data":!g.length})},g.length?"\u6682\u65e0\u66f4\u591a\u8bc4\u8bba":"\u6682\u65e0\u8bc4\u8bba\uff0c\u53d1\u8868\u7b2c\u4e00\u6761\u8bc4\u8bba\u62a2\u6c99\u53d1"))))})),Le=D.a.forwardRef((function(e,t){var n=Object(P.useRef)(null);return Object(P.useEffect)((function(){setTimeout((function(){if("#comment"===window.location.hash){var e=document.querySelector("#comment-area");if(e){var t=e.getBoundingClientRect().top+window.pageYOffset-64-20;window.scrollTo(0,t)}}}),1e3)}),[]),Object(P.useImperativeHandle)(t,(function(){return{openCommentPanel:function(){var e;null===(e=n.current)||void 0===e||e.openCommentPanel()}}})),D.a.createElement(Ne,Object.assign({},e,{ref:n}))})),Re=(n("e21f3ef9e0e4c7ac448b"),n("7009f854fb449fc1b23d")),Ae=n("8da0d466807af5fb475a"),Pe=function(){function e(){C()(this,e),this.loadTimer=void 0,this.iframe=void 0,this.loaded=!1;var t=document.createElement("iframe");this.iframe=t,t.setAttribute("id","diversion2transcode"),t.setAttribute("sandbox","allow-scripts allow-same-origin"),t.style.width="0px",t.style.height="0px",t.style.display="none",document.documentElement.appendChild(t),this.loaded=!1}return x()(e,[{key:"loadAsync",value:function(e){var t=this;!this.loaded&&e&&this.iframe&&(this.cancel(),this.loadTimer=window.setTimeout((function(){t.iframe.src=e,t.loaded=!0}),1e3))}},{key:"cancel",value:function(){window.clearTimeout(this.loadTimer)}},{key:"destroy",value:function(){this.cancel(),this.loaded&&(this.iframe.src="about:blank",this.loaded=!1)}}]),e}(),De=n("65f05d1287ec18e50d95"),Me=n("e03789860a157f665dce"),Ue=n("6ebe1403b6a5cafdbcbe"),Ve=n.n(Ue),Fe=n("04277718ef526b67d04b"),He=n("44750f857690efd77995");n("9c433afd1e0a4a1aafd7");function Be(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){var t=e.getBoundingClientRect();return{x:t.x||t.left||0,y:t.y||t.top||0,width:t.width,height:t.height}}function Ye(e,t){var n=document.createElement("img");return n.src=e.getAttribute("src"),n.className="carousel-zoomed-img",n.style.cssText="position: absolute;top: ".concat(t.y,"px;left: ").concat(t.x,"px;")+"width: ".concat(t.width,"px;height: ").concat(t.height,"px"),n}function Ge(e){if(!e)return"";var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,r=.55*t/e.width,a=(n-8-70)/e.height,o=Math.min(r,a),i=((t-e.width)/2-e.x)/o,c=((n-e.height-70)/2-e.y)/o;return"scale(".concat(o,") translate3d(").concat(i,"px, ").concat(c,"px, 0)")}function Ke(e,t,n){var r=We(e),a=Ye(e,r);return t.appendChild(a),Ve()((function(){a.style.transform=Ge(r),a.style.transitionDuration="".concat(n,"ms")})),e.style.visibility="hidden",{origin:e,originRect:r,copy:a}}function ze(e,t,n,r){t.style.transform="none",setTimeout((function(){e.style.visibility="visible",Ve()((function(){n.removeChild(t)}))}),r)}function qe(e){return e.map((function(e){var t=We(e),n=function(e,t){var n=document.createElement("img");return n.src=e.getAttribute("src"),n.className="carousel-img-list-item",n.style.cssText="position: absolute;top: 0px;left: 0px;width: ".concat(t.width,"px;height: ").concat(t.height,"px"),n}(e,t);return n.style.transform=Ge({x:0,y:0,width:t.width,height:t.height}),{origin:e,originRect:t,copy:n}}))}function Xe(e,t,n){var r=We(e),a=Ye(e,r);return a.style.transform=Ge(r),a.style.transitionDuration="".concat(n,"ms"),a.onclick=function(e){return e.stopPropagation()},t.appendChild(a),a}function Qe(e,t,n){Ve()((function(){e.style.transform="none",setTimeout((function(){t.removeChild(e)}),n)}))}function Ze(e){Object(Z.a)("detail_picture_click",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):Be(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}({},e))}var Je=function(e){var t=e.list,n=e.currentIndex,r=e.onChange,a=Object(P.useState)(0),o=ne()(a,2),i=o[0],c=o[1];return Object(P.useEffect)((function(){var e=t.length,r=function(e,t,n){var r=Math.floor(t/2);if(n>15&&e>r){var a=e-r;return a+t>n?n-t:a}return 0}(n,15,e);c(r)}),[n,t.length]),D.a.createElement("div",{className:"bottom-nav-wrapper",onClick:function(e){return e.stopPropagation()}},D.a.createElement("div",{className:"bottom-nav",style:{maxWidth:1192}},D.a.createElement("ul",{style:{transform:"translateX(-".concat(80*i,"px)")}},t.map((function(e,t){return D.a.createElement("li",{key:t,className:ae()({active:n===t}),style:{width:72},onClick:function(){return function(e){e!==n&&r(e)}(t)}},D.a.createElement("img",{src:e}))})))))};function $e(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):$e(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function tt(e){var t=function(){if("undefined"==typeof Reflect||!v.a)return!1;if(v.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var a=A()(this).constructor;n=v()(r,arguments,a)}else n=r.apply(this,arguments);return L()(this,n)}}var nt=function(e){var t=e.direction,n=e.onClick;return D.a.createElement("div",{className:ae()("switch-btn",t),onClick:n})},rt=function(e){S()(n,e);var t=tt(n);function n(){var e;C()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={list:[],navList:[],prevShow:e.props.show,currentIndex:e.props.defaultIndex},e.prev=function(t){t.stopPropagation(),e.setState((function(t){var n=t.list,r=t.currentIndex;return 0===r?null:(Ze(et(et({},e.props.logParams),{},{action_type:"last"})),{currentIndex:(r-1+n.length)%n.length})}))},e.next=function(t){t.stopPropagation(),e.setState((function(t){var n=t.list,r=t.currentIndex;return r===n.length-1?null:(Ze(et(et({},e.props.logParams),{},{action_type:"next"})),{currentIndex:(r+1)%n.length})}))},e.handleKeyUp=function(t){if(e.props.show){var n=t.keyCode;37===n?e.prev(t):39===n?e.next(t):27===n&&e.handleClose()}},e.handleNavChange=function(t){e.setState({currentIndex:t})},e.handleClose=function(t){null==t||t.stopPropagation();var n=e.props.list[e.state.currentIndex];e.props.onClose(n)},e}return x()(n,[{key:"componentDidMount",value:function(){var e=qe(this.props.list),t=this.props.list.map((function(e){return e.getAttribute("src")}));this.setState({list:e,navList:t}),window.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.props.show,t=this.state,n=t.list,r=t.navList,a=t.currentIndex;return D.a.createElement("div",{className:"carousel-img-list",style:{display:e?"block":"none"}},D.a.createElement("ul",{style:{width:"".concat(100*n.length,"%"),transform:"translateX(".concat(100*-a,"%)")},onClick:this.handleClose},n.map((function(e,t){return D.a.createElement("li",{key:t,dangerouslySetInnerHTML:{__html:e.copy.outerHTML}})}))),n.length>1&&a>0&&D.a.createElement(nt,{direction:"left",onClick:this.prev}),n.length>1&&a<n.length-1&&D.a.createElement(nt,{direction:"right",onClick:this.next}),D.a.createElement(Je,{list:r,currentIndex:a,onChange:this.handleNavChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.show!==t.prevShow?{currentIndex:e.defaultIndex,prevShow:e.show}:null}}]),n}(D.a.Component);function at(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):at(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function it(e){var t=function(){if("undefined"==typeof Reflect||!v.a)return!1;if(v.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var a=A()(this).constructor;n=v()(r,arguments,a)}else n=r.apply(this,arguments);return L()(this,n)}}var ct=function(e){S()(n,e);var t=it(n);function n(){var e;C()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={initialIndex:0,listVisible:!1},e.containerEl=null,e.zoomInfo=null,e.animating=!1,e.open=function(){e.animating||(e.animating=!0,setTimeout((function(){var t=e.props,n=t.target,r=t.transitionDuration,a=t.list;if(n&&e.containerEl){e.zoomInfo=Ke(n,e.containerEl,r),document.body.style.overflow="hidden";var o=e.getInitialIndex(n,a);e.setState({initialIndex:o}),e.openList()}else e.animating=!1})))},e.close=function(){e.zoomInfo&&e.containerEl&&(ze(e.zoomInfo.origin,e.zoomInfo.copy,e.containerEl,e.props.transitionDuration),document.body.style.overflow="")},e.closeList=function(t){if(!e.animating&&e.containerEl){var n=e.props.transitionDuration,r=Xe(t,e.containerEl,n);setTimeout((function(){e.setState({listVisible:!1}),e.containerEl&&Qe(r,e.containerEl,n),e.closeCarousel()}))}},e.closeCarousel=function(){e.animating||e.props.onClose()},e}return x()(n,[{key:"componentDidUpdate",value:function(e){this.props.visible!==e.visible&&(this.props.visible?(this.open(),Ze(ot(ot({},this.props.logParams),{},{action_type:"open"}))):(this.close(),Ze(ot(ot({},this.props.logParams),{},{action_type:"close"}))))}},{key:"getInitialIndex",value:function(e,t){var n=t.indexOf(e);return n<0?0:n}},{key:"openList",value:function(){var e=this;setTimeout((function(){e.setState({listVisible:!0}),Ve()((function(){e.zoomInfo&&(e.zoomInfo.copy.style.display="none"),e.animating=!1}))}),this.props.transitionDuration)}},{key:"render",value:function(){var e=this,t=this.props,n=t.visible,r=t.transitionDuration,a=t.list,o=t.logParams,i=this.state,c=i.initialIndex,u=i.listVisible;return D.a.createElement(He.a,{className:"detail-image-carousel",visible:n,closeTimeout:r},D.a.createElement("div",{ref:function(t){e.containerEl=t},onClick:this.closeCarousel},D.a.createElement("div",{className:"mask",style:{transitionDuration:"".concat(r,"ms")}}),D.a.createElement(rt,{show:u,defaultIndex:c,list:a,logParams:o,onClose:this.closeList})))}}]),n}(D.a.Component);ct.defaultProps={transitionDuration:300};var ut=function(e){return D.a.createElement(Fe.a,null,D.a.createElement(ct,ot({},e)))},lt=n("2fb346eb9d0bf63cb593"),st=n("1e730bf012fd52f53f80"),ft=n.n(st),dt=n("9eddc6a1e381c7391b96"),mt=(n("43db26ce2aeac2dfc381"),n("fd2f6cebe99b8c083dd2"),n("02e35b3ab0673440f632"),n("6fdd75f166f9598810b8"),n("6f4cb0171dba87e45734")),pt=n("34c0f6a91c0bdd59090c"),bt=n("3b76dd97653dea47ddc2"),vt=n("fdbcb2f5089886a59aee");function ht(e){var t=function(){if("undefined"==typeof Reflect||!v.a)return!1;if(v.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var a=A()(this).constructor;n=v()(r,arguments,a)}else n=r.apply(this,arguments);return L()(this,n)}}var gt=function(e){S()(n,e);var t=ht(n);function n(){var e;C()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).intersectionObserver=void 0,e.handleScroll=Object(B.t)((function(){var t=e.player.root;if(t){var n=t.getBoundingClientRect(),r=n.height,a=n.top-window.innerHeight;a<-r/2&&a>=-(r+window.innerHeight)&&(e.player.play(),e.removeVisibleListener())}}),300),e}return x()(n,[{key:"afterCreate",value:function(){var e=this.player.root;e&&(pt.a.addClass(e,"visible-play-start"),this.config.muted&&this.addAutoplayPreventedListener(),this.addVisibleListener(e),setTimeout((function(){pt.a.removeClass(e,"visible-play-start")}),1e3))}},{key:"destroy",value:function(){this.removeVisibleListener()}},{key:"addIntersectionObserver",value:function(e){var t=this;this.intersectionObserver=new IntersectionObserver((function(e){e[0].isIntersecting&&(t.player.play(),t.removeVisibleListener())}),{threshold:.5}),this.intersectionObserver.observe(e)}},{key:"addScrollEventListener",value:function(){var e=this;window.addEventListener("scroll",this.handleScroll),setTimeout((function(){return e.handleScroll()}))}},{key:"addVisibleListener",value:function(e){window.IntersectionObserver?this.addIntersectionObserver(e):this.addScrollEventListener()}},{key:"removeVisibleListener",value:function(){var e;null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),window.removeEventListener("scroll",this.handleScroll)}},{key:"addAutoplayPreventedListener",value:function(){var e=this;this.player.on(vt.b.AUTOPLAY_PREVENTED,(function(){e.player.muted=!0,setTimeout((function(){e.player.play()}))}))}}],[{key:"pluginName",get:function(){return"visiblePlay"}},{key:"defaultConfig",get:function(){return{muted:!1}}}]),n}(bt.b),_t=n("83a311389b32f14cef31"),yt=n("8400655226bf61906365"),wt=function(e){var t,n,r=e.data,a=e.onClickContent;if(!r)return null;return D.a.createElement("div",{className:"article-content"},D.a.createElement("h1",{dangerouslySetInnerHTML:{__html:r.title}}),D.a.createElement("div",{className:ae()("article-meta",{"mt-4":r.showResearch})},r.isOriginal&&D.a.createElement("span",{className:"original-tag"},"\u539f\u521b"),D.a.createElement("span",null,r.publishTime),D.a.createElement("span",{className:"dot"},"\xb7"),D.a.createElement("span",{className:"name"},(null===(t=r.mediaInfo)||void 0===t?void 0:t.name)?D.a.createElement(yt.a,{href:"/c/user/token/".concat(r.mediaInfo.userId,"/?source=tuwen_detail"),logInfo:{position:"detail",section:"content_detail"}},null===(n=r.mediaInfo)||void 0===n?void 0:n.name):r.source),r.showResearch&&D.a.createElement("div",{className:"detail-research-wrapper"},D.a.createElement(_t.a,{size:"mini"}))),D.a.createElement(V.a,null,D.a.createElement(ft.a,{articleClassName:"tt-article-content",execInlineScripts:!0,needPreRender:!0,platform:"tt_article_pc",forceDevice:st.DEVICE_CLASS.PC,appearance:st.APPEARANCE.LIGHT,cardSettings:{config:{lifeCycle:!0,uid:r.sylpageConfig.card.id}},videoSettings:{aid:H.k,xiguaConfig:{needAria:!0,closeDelayBlur:!0,icons:mt.a.icons,commonStyle:mt.a.commonStyle,plugins:[gt],volume:mt.a.volume,visiblePlay:{muted:!0}},shouldUseV2Api:!0},content:r.content||"",weiui:"1"===r.wxStyle,plugins:{request:dt.a},onInteraction:function(e){null==a||a(e.target)}})),r.hasExtraLink&&D.a.createElement("a",{className:"pc-extra-link",href:"//api.toutiaoapi.com/pgcui/extern_redirect/?item_id=".concat(r.itemId),target:"_blank",rel:"noopener noreferrer nofollow"},"\u4e86\u89e3\u66f4\u591a"))},Et=(n("5c205b27178ea18852dc"),function(e){var t=e.abstract,n=e.imgUrl,r=e.title;return D.a.createElement(D.a.Fragment,null,D.a.createElement("p",null,t),D.a.createElement("div",{className:"pgc-img"},D.a.createElement("img",{className:"syl-page-img",src:n,alt:r})))}),kt=function(e){var t,n=e.data,r=e.onClickContent;if(!n)return null;var a=n.gallery,o=(null==a?void 0:a.sub_images)||[],i=(null==a?void 0:a.sub_abstracts)||[],c=(null==a?void 0:a.sub_titles)||[];return D.a.createElement("div",{className:"article-content"},D.a.createElement("h1",{dangerouslySetInnerHTML:{__html:n.title}}),D.a.createElement("div",{className:ae()("article-meta",{"mt-4":n.showResearch})},D.a.createElement("span",null,n.publishTime),D.a.createElement("span",{className:"dot"},"\xb7"),D.a.createElement("span",null,(null===(t=n.mediaInfo)||void 0===t?void 0:t.name)||n.source),n.showResearch&&D.a.createElement("div",{className:"detail-research-wrapper"},D.a.createElement(_t.a,{size:"mini"}))),D.a.createElement("article",{className:"syl-page-article syl-device-pc syl-article-base tt-article-content tt-gallery-content",onClick:function(e){e.stopPropagation(),null==r||r(e.target)}},o.map((function(e,t){return D.a.createElement(Et,{key:t,title:c[t],abstract:i[t],imgUrl:e.url})}))))},Ot=n("86458b0d0c4daedfcb4f"),jt=n("0aab18c30afb7e36a8bb"),Ct=(n("a20f03753300ba348bc3"),n("1364f485450c5b33f8c4")),It=(n("fc2cfd1b6b52d60a2681"),n("663529bce6ee6d8996f5")),xt=n("a5b25f8e99db71c1fcf2"),Tt=n("d84b833f284337beaf9b"),St=function(e){var t=e.groupId,n=e.likeCount,r=void 0===n?0:n,a=e.userLiked,o=void 0!==a&&a,i=e.loginUserInfo,c=e.logParams,u=e.diggType,l=e.useCandle,s=Object(P.useState)(r),f=ne()(s,2),d=f[0],m=f[1],p=Object(P.useState)(o),b=ne()(p,2),v=b[0],h=b[1],_=Object(P.useRef)(!1),y=Object(P.useMemo)((function(){return d>0?Object(B.j)(d):l?"\u7eaa\u5ff5":"\u8d5e"}),[d,l]);function w(){return k.apply(this,arguments)}function k(){return(k=E()(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(Z.a)("interaction_bar_action",{action_type:"click",from_position:"like"}),v?Object(Z.a)("rt_unlike",c):Object(Z.a)("rt_like",c),Object(xt.a)(i)&&!_.current){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,_.current=!0,e.next=8,It.a.user.diggArticle(t,v?-1:1,u);case 8:if("success"!==(n=e.sent).data.message){e.next=15;break}_.current=!1,h(!v),m(v?d-1:d+1),e.next=16;break;case 15:throw new Error(n.data.message);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(4),Tt.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),_.current=!1,console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[4,18]])})))).apply(this,arguments)}return D.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u70b9\u8d5e".concat(Object(B.j)(d)),"aria-pressed":v,className:ae()("detail-like",{like:v,"icon-candle":l}),onClick:w,onKeyDown:function(e){var t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),w())}},D.a.createElement("div",{className:"digg-icon"},D.a.createElement("div",{className:"inner"},D.a.createElement("i",null))),D.a.createElement("span",null,y))},Nt=(n("5183bcdddddfd7790485"),function(e){var t=e.commentCountStr,n=e.onClick;function r(){Object(Z.a)("interaction_bar_action",{action_type:"click",from_position:"comment"}),n()}return D.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u6253\u5f00\u8bc4\u8bba\u9762\u677f\uff0c".concat(t,"\u8bc4\u8bba"),className:"detail-interaction-comment",onClick:r,onKeyDown:function(e){var t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),r())}},D.a.createElement("span",null,"0"===t?"\u8bc4\u8bba":t))}),Lt=(n("283705023d97b64a3c68"),function(e){var t=e.collected,n=e.loginUserInfo,r=e.groupId,a=e.itemId,o=e.logParams,i=Object(P.useState)(t),c=ne()(i,2),u=c[0],l=c[1],s=Object(P.useRef)(!1);function f(){return d.apply(this,arguments)}function d(){return(d=E()(g.a.mark((function e(){var t,i,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(Z.a)("interaction_bar_action",{action_type:"click",from_position:"favorite"}),u?Object(Z.a)("rt_unfavorite",o):Object(Z.a)("rt_favorite",o),Object(xt.a)(n)&&!s.current){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,s.current=!0,c=null,!u){e.next=13;break}return e.next=10,It.a.user.dislikeArticle(r,a);case 10:c=e.sent,e.next=16;break;case 13:return e.next=15,It.a.user.likeArticle(r,a);case 15:c=e.sent;case 16:if("success"!==(null===(t=c)||void 0===t?void 0:t.data.message)){e.next=20;break}return l(!u),s.current=!1,e.abrupt("return");case 20:throw new Error(null===(i=c)||void 0===i?void 0:i.data.message);case 23:e.prev=23,e.t0=e.catch(4),s.current=!1,Tt.a.info("\u6536\u85cf\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),console.log(e.t0);case 28:case"end":return e.stop()}}),e,null,[[4,23]])})))).apply(this,arguments)}return D.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u6536\u85cf","aria-pressed":u,className:ae()("detail-interaction-collect",{collected:u}),onClick:f,onKeyDown:function(e){var t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),f())}},D.a.createElement("div",{className:"collect-icon"},D.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},D.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.448 18.0551C12.1658 17.9136 11.8334 17.9136 11.5513 18.0551L6.28528 20.6965C5.9852 20.847 5.64437 20.5832 5.71485 20.255L6.89736 14.7477C6.96955 14.4115 6.86391 14.0618 6.61765 13.8217L2.60748 9.91277C2.37007 9.68135 2.50108 9.27817 2.82916 9.23049L8.39769 8.42134C8.7234 8.37401 9.00496 8.16944 9.15062 7.8743L11.6409 2.82836C11.7877 2.53106 12.2116 2.53106 12.3583 2.82836L14.8487 7.8743C14.9943 8.16944 15.2759 8.37401 15.6016 8.42134L21.1701 9.23049C21.4982 9.27817 21.6292 9.68135 21.3918 9.91277L17.3816 13.8217C17.1354 14.0618 17.0297 14.4115 17.1019 14.7478L18.2846 20.255C18.3551 20.5832 18.0143 20.847 17.7142 20.6965L12.448 18.0551Z"}))),D.a.createElement("span",null,u?"\u5df2\u6536\u85cf":"\u6536\u85cf"))});function Rt(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):Rt(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var Pt=function(e){var t=e.likeData,n=e.commentCount,r=e.isCollected,a=e.shareConfig,o=e.loginUserInfo,i=e.groupId,c=e.itemId,u=e.diggType,l=e.useCandle,s=e.onCommentClick,f=Object(Q.a)()||{},d=f.is_top_content,m=void 0===d?"0":d,p=f.show_rank,b=void 0===p?0:p,v=At(At({},e.logParams),{},{is_top_content:m,show_rank:b,section:"content_detail"});return D.a.createElement(Ct.a,{position:{top:164,zIndex:199},placeholderWidth:0,placeholderHeight:0},D.a.createElement("div",{role:"complementary","aria-label":"\u5de5\u5177\u680f",className:"detail-side-interaction"},D.a.createElement(St,{groupId:i,likeCount:t.count,userLiked:!!t.userLikeStatus,loginUserInfo:o,diggType:u,logParams:v,useCandle:l}),D.a.createElement("div",{className:"divide"}),D.a.createElement(Nt,{commentCountStr:n,onClick:s}),D.a.createElement("div",{style:{margin:"20px 0"}},D.a.createElement(Lt,{collected:r,loginUserInfo:o,groupId:i,itemId:c,logParams:v})),D.a.createElement("div",{style:{textAlign:"center"}},D.a.createElement(jt.a,{shareConfig:a.default,wtt:a.wtt,weibo:a.weibo,openType:"hover",onShare:function(e){Object(Z.a)("rt_share_to_platform",At(At({},v),{},{share_platform:e}))},onShareAction:function(e){Object(Z.a)("share_button",At(At({},v),{},{action_type:e}))},onWttSubmit:function(){Object(Z.a)("repost_publish_done",v)}}))))},Dt=n("ce33c134671e688f0c8f"),Mt=(n("1dc3f3067b61c6f29ae2"),function(e){var t=e.data;return(null==t?void 0:t.length)?D.a.createElement("div",{className:"seo-hot-link-list"},D.a.createElement("span",null,"\u70ed\u95e8\uff1a"),D.a.createElement("ul",null,t.map((function(e,t){return D.a.createElement("li",{key:t},D.a.createElement("a",{href:e.url,target:"_blank",title:e.keyword},e.keyword.slice(0,7)))})))):null}),Ut=n("dc8fcd3c4bc605c8245b");function Vt(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):Vt(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var Ht=null,Bt=function(e){var t=Object(P.useContext)(F),n=t||{},r=n.groupId,a=void 0===r?"":r,o=n.itemId,i=void 0===o?"":o,c=n.articleType,u=void 0===c?"article":c,l=n.relation,s=n.likeData,f=void 0===s?{count:0,userLikeStatus:0}:s,d=n.commentCount,m=void 0===d?"0":d,p=n.favorite,b=void 0!==p&&p,v=n.mediaInfo,h=n.mediaSite,g=n.isSelf,_=n.loginUserInfo,y=n.cover,w=void 0===y?"":y,E=n.title,k=void 0===E?"":E,O=n.identity,j=n.abtestInfo,C=n.setCommentCount,I=n.voteLink,x=void 0===I?null:I,T=n.grSensitive,S=n.blockVisibility,N=n.logId,L=n.useCandle,R=void 0!==L&&L,A=Object(P.useRef)(null),M=Object(P.useState)(!1),U=ne()(M,2),V=U[0],B=U[1],Y=Object(P.useState)(null),K=ne()(Y,2),z=K[0],q=K[1],Q=Object(P.useState)([]),J=ne()(Q,2),$=J[0],ee=J[1],te=Object(P.useState)(!0),re=ne()(te,2),ae=re[0],oe=re[1],ie=Object(P.useState)(!1),ce=ne()(ie,2),ue=ce[0],le=ce[1],se={origin:{content:k,cover:w,user:v&&{name:v.name,uid:v.userId}},repostParams:{fw_id:a,fw_id_type:4,fw_user_id:(null==v?void 0:v.unsafeUserId)||0,opt_id:a,opt_id_type:4,repost_to_comment:1,repost_type:211,title:k,group_id:a,item_id:i},loginUserInfo:_&&{uid:_.userId}},fe=Ft(Ft({},Ht),{},{page_name:H.f[u],from_gid:a,position:"detail"});function me(e){e&&"img"===e.tagName.toLowerCase()&&e.className.includes("syl-page-img")&&(q(e),B(!0),$.length||ee(Array.prototype.slice.call(document.querySelectorAll(".tt-article-content .syl-page-img"))))}function pe(e){var t=Object(W.a)()||{},n=t.enter_from,r=void 0===n?"":n,o=t.channel_id,i=void 0===o?0:o,c=t.category_name,u=void 0===c?"":c;Object(Z.a)("content_section_show",{group_id:a,widget_name:e,position:"detail",category_name:u,channel_id:i,enter_from:r,section:e,is_has_following:(null==_?void 0:_.followingCount)?1:0,page_name:fe.page_name})}return Object(P.useEffect)((function(){(Ht=Object(W.a)()||{},h)&&((new Pe).loadAsync(h),Object(Z.a)("diversion_log",{site_url:h}))}),[]),Object(P.useEffect)((function(){var e=Object(X.c)();le(e)}),[]),D.a.createElement("div",{role:"main",className:"article-detail-container"},D.a.createElement("div",{className:"left-sidebar"},D.a.createElement("div",{style:{display:ae?"block":"none"}},D.a.createElement(Pt,{loginUserInfo:_,groupId:a,itemId:i,likeData:f,commentCount:m,isCollected:b,shareConfig:{default:{title:k,url:Object(G.b)(G.a.ARTICLE,a),cover:w},wtt:se,weibo:{image:Object(De.c)(w)}},diggType:H.d.ARTICLE,useCandle:R,logParams:e.logParams,onCommentClick:function(){var e;null===(e=A.current)||void 0===e||e.openCommentPanel()}}))),D.a.createElement("div",{className:"main"},D.a.createElement(lt.a,{inViewHandler:function(){return pe("content_detail")}},D.a.createElement(de,{overHeight:90,logParams:{impr_id:N||"",group_id:a}},u===H.a.gallery?D.a.createElement(kt,{data:t,onClickContent:me}):D.a.createElement(wt,{data:t,onClickContent:me}))),D.a.createElement("div",{className:"action"},D.a.createElement(Ot.a,{groupId:a,source:H.h.ARTICLE,webid:(null==O?void 0:O.web_id)||""})),D.a.createElement("div",{style:{margin:"20px 0 40px"}},D.a.createElement(Le,{ref:A,loginUserInfo:_&&{name:_.name,uid:_.userId,avatar:_.avatarUrl},isReplyList:!1,groupId:a,itemId:i,webid:(null==O?void 0:O.web_id)||"",previewCount:3,defaultCount:20,isCommentFolded:ue,logParams:e.logParams,onInitEnd:function(e){null==C||C(e)}})),!T&&D.a.createElement(D.a.Fragment,null,D.a.createElement(Me.a,{offset:437,onViewChange:function(e){oe(!e)}},D.a.createElement("div",{className:"divide"})),D.a.createElement(Re.a.Provider,{value:_&&Ft(Ft({},_),{},{isPgc:_.isPgc?1:0})},D.a.createElement(Ae.a.Provider,{value:{webid:(null==O?void 0:O.web_id)||"",abtestInfo:j}},D.a.createElement(lt.a,{inViewHandler:function(){return pe("detail_feed")}},D.a.createElement(Dt.a,{groupId:a,itemId:i,hasRelated:!0,logParams:fe,abtestInfo:j})))),D.a.createElement(Mt,{data:x}))),D.a.createElement(Ut.b,{genre:"article",groupId:a,relation:l,mediaInfo:v,isSelf:Boolean(g),loginUserInfo:_||null,logParams:fe,blockVisibility:S,abtestInfo:j,onModuleShow:pe}),D.a.createElement(ut,{visible:V,target:z,list:$,logParams:{page_name:fe.page_name,group_id:a},onClose:function(){B(!1),q(null)}}))},Wt=(n("3ec5a4f3c530463c912e"),n("6740510cbb0e5ccf88eb")),Yt=n("5f2df22a04de7668a003"),Gt=(n("70793f6623c7d80d47e6"),n("0e07c12661fbe9d3d4af")),Kt=n("abe5a667b2c2630eda61"),zt=(n("21ba294a771470c868d7"),function(e){var t=e.userInfo,n=e.loginUserInfo,r=e.onSubscribe,a=Object(P.useRef)(!1),o=Object(P.useState)(t.isFollow),i=ne()(o,2),c=i[0],u=i[1];function l(){return(l=E()(g.a.mark((function e(){var o,i,l,s,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=2;break}return e.abrupt("return");case 2:if(Object(xt.a)(n)){e.next=4;break}return e.abrupt("return");case 4:if(o=!c,e.prev=5,f=null,a.current=!0,!o){e.next=14;break}return e.next=11,It.a.relation.followUser(t.userSecToken,t.userId);case 11:f=e.sent,e.next=17;break;case 14:return e.next=16,It.a.relation.unfollowUser(t.userSecToken,t.userId);case 16:f=e.sent;case 17:if("success"!==(null===(i=f)||void 0===i?void 0:i.data.message)){e.next=21;break}return null==r||r(o),u(o),e.abrupt("return");case 21:if(!(null===(l=f)||void 0===l?void 0:l.data.message.includes("\u9ed1\u540d\u5355"))){e.next=24;break}return Tt.a.info("\u60a8\u5df2\u62c9\u9ed1\u5bf9\u65b9\uff0c\u8bf7\u5148\u5728app\u7aef\u9690\u79c1\u8bbe\u7f6e\u4e2d\u53d6\u6d88\u62c9\u9ed1"),e.abrupt("return");case 24:throw new Error(null===(s=f)||void 0===s?void 0:s.message);case 27:e.prev=27,e.t0=e.catch(5),Tt.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),console.log(e.t0);case 31:return e.prev=31,a.current=!1,e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[5,27,31,34]])})))).apply(this,arguments)}return D.a.createElement("button",{type:"button",className:ae()("wtt-detail-subscribe",{followed:c}),onClick:function(){return l.apply(this,arguments)}},D.a.createElement("i",null),D.a.createElement("span",null,c?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"))}),qt=(n("704d98a9da1493f7fc9a"),n("1ec3e8ffbef3bc77ca37"));function Xt(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):Xt(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function Zt(e){var t=e.groupId,n=e.videoId,r=e.videoType,a=e.coverUrl,o=e.title,i=e.user,c=e.playInfo,u=c.play_addr_list.map((function(e){return Qt(Qt({},e),{},{main_url:Object(B.r)(e.play_url_list[0]),backup_url_1:Object(B.r)(e.play_url_list[0])})}));return{groupId:t,videoModel:{groupId:t,videoId:n,videoType:r,poster:Object(B.r)(a),duration:c.duration,currentTime:0,videoPlayInfo:{url_expire:c.url_expire,video_list:u}},metaBarInfo:{groupId:t,title:o,user:i}}}function Jt(e,t,n){return e?Zt(e):t?Zt(t.videoGroup):n?function(e){var t=e.groupId,n=e.vid,r=e.duration,a=e.coverUrl,o=e.playInfo,i=Object(B.s)(o);return{groupId:t,videoModel:{groupId:t,videoId:n,videoType:H.j.UNKNOWN,poster:Object(B.r)(a),duration:r,currentTime:0,videoPlayInfo:Object(qt.a)(i)}}}(n):void 0}var $t=n("c1428f02c35d581c417d"),en=n("160a8425c578120b2627"),tn=(n("3f02065a1a91a3cd3530"),n("c0c721f9f12a8d2dd2bc")),nn=n("544a2fe35893607768ff"),rn=n("d744c9d685338e6625ab"),an=n("d5ea19a4a43e93540347"),on=n("91b52644aaf37c1a441a"),cn=n("9a6d52046a9932628ae8"),un=n("bb49792cce51cc2eac20"),ln=n("a262c24142fa15f75e93"),sn=n("84e9431b43bf71843c85"),fn=n("997a44ee604c9ccfa8ae"),dn=n("c8c315dc775fdfc7c489"),mn=n("4e19e12862d114f09ad6"),pn=n("a81749b6fb57993f107c"),bn=n("0ae55f3aeb8765b56936"),vn=n("4a013326355ba5e09547"),hn=n("c087020a3cc93c265893"),gn=n("d71e3476ab4b874a545f"),_n=n("6f344480eddd57e04406"),yn=n("02bf73d0fc60a69393f6"),wn=n("c2834b224e087d5c3479"),En=n("7619191d4db2e0ec6dfb"),kn=n("1219d2e8717a9a753eb7");En.a.extend([{LANG:"zh-cn",TEXT:{FULLSCREEN_TIPS:"\u5168\u5c4f"}}]);var On=function e(){C()(this,e),this.plugins=void 0,this.i18n=void 0,this.plugins=[an.a,vn.a,hn.a,gt,on.a,cn.a,un.a,ln.a,gn.a,sn.a,_n.a,fn.a,dn.a,nn.b,mn.a,pn.a,bn.a,yn.a,wn.a],this.i18n=[kn.a]};function jn(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):jn(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var In=n("b69c0a8f260387bba662"),xn=Object(V.b)((function(e){var t=e.data,n=Object(P.useState)(null),r=ne()(n,2),a=r[0],o=r[1];return Object(tn.a)((function(){var e;o((e=t.videoModel,Cn(Cn({},mt.a),{},{autoplay:!1,autoplayMuted:!1,autoNext:!1,presets:[On],url:"",poster:e.poster,volume:{showValueLabel:!0,default:Number(Object(nn.c)(nn.a.VOLUME,.5))},start:{isShowPause:!0,isShowEnd:!0,disableAnimate:!0},videoModel:e,DASHPlugin:Object(rn.a)(e),vodLogOpts:Object($t.b)(e)})))})),a?D.a.createElement(In.a,{config:a}):D.a.createElement("div",{className:"video-player-placeholder"})})),Tn=(n("b4529db9187f1e16c01c"),function(e){var t=e.data,n=t.groupId,r=t.title,a=t.user,o=Object(P.useMemo)((function(){return Object(G.b)(G.a.SELF_VIDEO,n)}),[n]),i=Object(P.useMemo)((function(){return Object(G.c)("".concat(null==a?void 0:a.uid))}),[null==a?void 0:a.uid]),c=Object(P.useMemo)((function(){var e;return{position:"detail",enter_from:(null===(e=Object(Q.a)())||void 0===e?void 0:e.enter_from)||"",section:"content_detail"}}),[]);return D.a.createElement("div",{className:"video-meta-info"},D.a.createElement("a",{className:"title",href:o,onClick:function(e){e.preventDefault();var t=Object(Q.b)(Object(B.q)(o,{source:"weitoutiao_detail"}),c);window.open(t)}},r),a&&D.a.createElement("a",{className:"user-info",href:i,rel:"nofollow",onClick:function(e){if(a){e.preventDefault();var t=Object(Q.b)(Object(B.q)(i,{source:"weitoutiao_detail"}),c);window.open(t)}}},D.a.createElement(Yt.a,{url:a.avatarUrl}),D.a.createElement("span",{className:"name"},a.name)))}),Sn=Object(V.b)((function(e){var t=e.identity,n=Jt(e.videoGroup,e.videoLinkCardInfo,e.videoInfo),r=Object(P.useMemo)((function(){return Object(Q.a)()}),[]);if(!n)return null;var a={page_name:"weitoutiao_detail",position:"detail",section:"content",category_name:(null==r?void 0:r.category_name)||"",enter_from:(null==r?void 0:r.enter_from)||"",article_type:H.b[n.videoModel.videoType],group_id:n.groupId,item_id:n.groupId,parent_section:null==r?void 0:r.section};return t&&Object($t.c)(t),Object(en.c)(a),Object(en.e)({auto_play_status:"off"}),D.a.createElement("div",{className:ae()("video-card-wrapper",{"card-border":n.metaBarInfo})},D.a.createElement("div",{className:"video-player-wrapper"},D.a.createElement(xn,{data:n})),n.metaBarInfo&&D.a.createElement(Tn,{data:n.metaBarInfo}))})),Nn=function(e){var t,n,r,a,o,i=e.data,c=e.onClickContent,u=Object(P.useMemo)((function(){var e;if(null==i||null===(e=i.mediaInfo)||void 0===e?void 0:e.userId)return Object(B.q)(Object(G.c)(i.mediaInfo.userId),{source:"weitoutiao_detail"})}),[null==i||null===(t=i.mediaInfo)||void 0===t?void 0:t.userId]);if(!i)return null;var l=i.loginUserInfo,s=i.mediaInfo,f=i.publishTime,d=i.relation,m=i.isSelf,p=i.showOrigin,b=i.showTips,v=i.commentType,h=i.originGroup,g=i.originThread,_=i.originUgcVideo,y=i.originCommonContent,w=i.seoTDK,E=i.identity,k=i.videoGroup,O=i.videoLinkCardInfo,j=i.videoInfo,C=i.attachCardInfo,I=i.richContent||i.content||"",x=i.ugcImages||[],T=null===(n=w.title.match(/(.+?)[_-]/))||void 0===n?void 0:n[1];function S(e){var t;if(e.preventDefault(),u){var n=Object(Q.b)(u,{position:"detail",enter_from:(null===(t=Object(W.a)())||void 0===t?void 0:t.enter_from)||"",section:"content_detail"});window.open(n)}}return D.a.createElement("div",{className:"wtt-content"},s&&D.a.createElement("div",{className:"wtt-meta"},D.a.createElement("div",{className:"author-info"},D.a.createElement("a",{"aria-hidden":!0,tabIndex:-1,href:u,className:"avatar",target:"_blank",rel:"noopener nofollow",onClick:S},D.a.createElement(Yt.a,{size:"middle",url:s.avatarUrl,authType:null===(r=s.userAuthInfo)||void 0===r?void 0:r.auth_type})),D.a.createElement("div",{className:"desc"},D.a.createElement("a",{href:u,className:"name",target:"_blank",rel:"noopener nofollow",onClick:S},s.name),D.a.createElement("p",{className:"abstract"},D.a.createElement("span",{className:"time"},f),(null===(a=s.userAuthInfo)||void 0===a?void 0:a.auth_info)&&D.a.createElement(D.a.Fragment,null,D.a.createElement("span",{className:"dot"},"\xb7"),null===(o=s.userAuthInfo)||void 0===o?void 0:o.auth_info)))),!m&&D.a.createElement(zt,{userInfo:{isFollow:d.isFollowing,userSecToken:"",userId:Number(s.userId)},loginUserInfo:l})),T&&D.a.createElement("h1",{style:{display:"none"}},T),D.a.createElement("article",{onClick:function(e){e.stopPropagation(),c&&c(e.target)}},D.a.createElement("div",{className:"weitoutiao-html",dangerouslySetInnerHTML:{__html:I}}),D.a.createElement("div",{className:"image-list"},x.map((function(e,t){return D.a.createElement("img",{key:t,className:"weitoutiao-img",src:e})}))),D.a.createElement(Gt.a,{commentType:v,originGroup:h,originThread:g,originUgcVideo:_,originCommonContent:y,showOrigin:p,showTips:b}),D.a.createElement(Kt.a,{attachCardInfo:C}),D.a.createElement(Sn,{identity:E,videoGroup:k,videoLinkCardInfo:O,videoInfo:j})))};function Ln(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):Ln(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var An=null,Pn=function(e){var t,n=Object(P.useContext)(F),r=n||{},a=r.articleType,o=void 0===a?"ugc":a,i=r.groupId,c=void 0===i?"":i,u=r.itemId,l=void 0===u?"":u,s=r.likeData,f=void 0===s?{count:0,userLikeStatus:0}:s,d=r.commentCount,m=void 0===d?"0":d,p=r.favorite,b=void 0!==p&&p,v=r.mediaInfo,h=r.loginUserInfo,g=r.cover,_=void 0===g?"":g,y=r.title,w=void 0===y?"":y,E=r.repostParams,k=r.identity,O=r.setCommentCount,j=r.showResearch,C=r.abtestInfo,I=r.commentType,x=r.originGroup,T=r.originThread,S=r.originUgcVideo,N=r.originCommonContent,L=r.voteLink,R=void 0===L?null:L,A=r.grSensitive,M=r.blockVisibility,U=r.logId,V=r.isSelf,B=r.useCandle,Y=void 0!==B&&B,K=Object(P.useRef)(null),z=Object(P.useState)(!1),q=ne()(z,2),Q=q[0],J=q[1],$=Object(P.useState)(null),ee=ne()($,2),te=ee[0],re=ee[1],ae=Object(P.useState)([]),oe=ne()(ae,2),ie=oe[0],ce=oe[1],ue=Object(P.useState)(!0),le=ne()(ue,2),se=le[0],fe=le[1],me=Object(P.useState)(!1),pe=ne()(me,2),be=pe[0],ve=pe[1],he=Object(Wt.a)({commentType:I,originGroup:x,originThread:T,originUgcVideo:S,originCommonContent:N}),ge={content:(null==he?void 0:he.content)||w,cover:_,user:v&&{name:v.name,uid:v.userId}};he&&(ge={content:he.content,cover:null===(t=he.coverUrls)||void 0===t?void 0:t[0],user:he.userInfo&&{name:he.userInfo.name,uid:he.userInfo.uid}});var _e={origin:ge,repostParams:Rn(Rn({fw_id:c,fw_id_type:2,fw_user_id:Number((null==v?void 0:v.userId)||0),opt_id:c,opt_id_type:2,repost_type:212},E),{},{repost_to_comment:1,group_id:c,item_id:l}),loginUserInfo:h&&{uid:h.userId}},ye=Rn(Rn({},An),{},{page_name:H.f[o],from_gid:c,position:"detail"});function we(e){var t=Object(W.a)()||{},n=t.enter_from,r=void 0===n?"":n,a=t.channel_id,o=void 0===a?0:a,i=t.category_name,u=void 0===i?"":i;Object(Z.a)("content_section_show",{group_id:c,widget_name:e,position:"detail",category_name:u,channel_id:o,enter_from:r,section:e,is_has_following:(null==h?void 0:h.followingCount)?1:0,page_name:ye.page_name})}return Object(P.useEffect)((function(){An=Object(W.a)()||{}}),[]),Object(P.useEffect)((function(){var e=Object(X.c)();ve(e)}),[]),D.a.createElement("div",{role:"main",className:"wtt-detail-container"},D.a.createElement("div",{className:"left-sidebar"},D.a.createElement("div",{style:{display:se?"block":"none"}},D.a.createElement(Pt,{loginUserInfo:h,groupId:c,itemId:l,likeData:f,commentCount:m,isCollected:b,shareConfig:{default:{title:w,url:Object(G.b)(G.a.WTT,c),cover:_},wtt:_e},diggType:o===H.a.ugc?H.d.WTT:H.d.COMMENT,useCandle:Y,logParams:e.logParams,onCommentClick:function(){var e;null===(e=K.current)||void 0===e||e.openCommentPanel()}}))),D.a.createElement("div",{className:"main"},D.a.createElement(lt.a,{inViewHandler:function(){return we("content_detail")}},D.a.createElement(de,{overHeight:90,logParams:{impr_id:U||"",group_id:c}},D.a.createElement(Nn,{data:n,onClickContent:function(e){e&&"img"===e.tagName.toLowerCase()&&"weitoutiao-img"===e.className&&(re(e),J(!0),ie.length||ce(Array.prototype.slice.call(document.querySelectorAll(".wtt-content .weitoutiao-img"))))}}))),D.a.createElement("div",{className:"action"},D.a.createElement(Ot.a,{groupId:c,source:H.h.WTT,webid:(null==k?void 0:k.web_id)||""})),D.a.createElement("div",{style:{margin:"20px 0 40px"}},D.a.createElement(Le,{ref:K,loginUserInfo:h&&{name:h.name,uid:h.userId,avatar:h.avatarUrl},isReplyList:o===H.a.comment,groupId:c,itemId:l,webid:(null==k?void 0:k.web_id)||"",previewCount:3,defaultCount:20,isCommentFolded:be,logParams:e.logParams,onInitEnd:function(e){null==O||O(e)}})),!A&&D.a.createElement(D.a.Fragment,null,D.a.createElement(Me.a,{offset:437,onViewChange:function(e){fe(!e)}},D.a.createElement("div",{className:"divide"})),D.a.createElement(Re.a.Provider,{value:h&&Rn(Rn({},h),{},{isPgc:h.isPgc?1:0})},D.a.createElement(Ae.a.Provider,{value:{webid:(null==k?void 0:k.web_id)||"",abtestInfo:C}},D.a.createElement(lt.a,{inViewHandler:function(){return we("detail_feed")}},D.a.createElement(Dt.a,{groupId:c,itemId:l,logParams:ye,abtestInfo:C})))),D.a.createElement(Mt,{data:R}))),D.a.createElement(Ut.b,{genre:"wtt",groupId:c,showResearch:j,relation:void 0,mediaInfo:void 0,isSelf:Boolean(V),loginUserInfo:h||null,logParams:ye,blockVisibility:M,abtestInfo:C,onModuleShow:we}),D.a.createElement(ut,{visible:Q,target:te,list:ie,logParams:{page_name:ye.page_name,group_id:c},onClose:function(){J(!1),re(null)}}))},Dn=["articleType"];function Mn(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):Mn(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var Vn=function(e){var t=e.articleType,n=ge()(e,Dn);return t===H.a.ugc||t===H.a.comment?D.a.createElement(Pn,Un({},n)):D.a.createElement(Bt,Un({},n))},Fn=n("6b665e54945e23689021"),Hn=n("f3c11b59e6d3f5a70a03");function Bn(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):u.a?i()(e,u()(n)):Bn(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function Yn(e){var t=function(){if("undefined"==typeof Reflect||!v.a)return!1;if(v.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var a=A()(this).constructor;n=v()(r,arguments,a)}else n=r.apply(this,arguments);return L()(this,n)}}var Gn=function(e){S()(n,e);var t=Yn(n);function n(){var e;C()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={commentCount:"0",showFeedback:!1},e.toolRef=null,e.loggerRef=void 0,e.setCommentCount=function(t){e.setState({commentCount:Object(B.j)(t||0)})},e.handleLogoClick=function(){var t;Object(Y.d)("web_page_title"),null===(t=e.toolRef)||void 0===t||t.closeHomeBubble()},e}return x()(n,[{key:"handleFeedbackPanel",value:function(e){this.setState({showFeedback:e})}},{key:"render",value:function(){var e=this,t=this.props.data||{},n=t.groupId,r=t.mediaInfo,a=t.articleType,o=t.loginUserInfo,i=t.groupSource,c=t.abtestInfo,u=t.localCityInfo,l=t.identity,s=t.logId,f=t.forceInsertedChannel,d=t.searchBot,m=this.state,p=m.showFeedback,b=m.commentCount,v=Wn(Wn({},this.props.data),{},{commentCount:b,setCommentCount:this.setCommentCount}),h=Object(W.a)(),g={category_name:(null==h?void 0:h.category_name)||"",enter_from:(null==h?void 0:h.enter_from)||"",page_name:H.f[a],group_type:"article"===a?"tuwen":"weitoutiao",group_id:n,author_id:(null==r?void 0:r.userId)||"",position:"detail",group_source:i,article_type:H.b[a]};return D.a.createElement(F.Provider,{value:v},D.a.createElement(M.a,{logParams:g,userInfo:o,abtestInfo:c,localCityInfo:u,forceInsertedChannel:f,webId:null==l?void 0:l.web_id,onLogoClick:this.handleLogoClick}),D.a.createElement(Vn,{articleType:a,logParams:g}),D.a.createElement(K.a,{showHome:!0,showHomeBubble:!0,logParams:Wn(Wn({},g),{},{impr_id:s}),isFeedbackShow:p,abtestInfo:c,ref:function(t){e.toolRef=t},onFeedbackClick:function(){return e.handleFeedbackPanel(!0)},getPercent:function(){var t;return null===(t=e.loggerRef)||void 0===t?void 0:t.getReadPCT()}}),D.a.createElement(V.a,null,D.a.createElement(ve,{data:v,ref:function(t){e.loggerRef=t}})),D.a.createElement(U.a,{logParams:{page_name:g.page_name}}),D.a.createElement(z.a,{extraOptions:{userId:null==o?void 0:o.userId,webId:null==l?void 0:l.web_id,logId:s},visible:p,onClose:function(){return e.handleFeedbackPanel(!1)}}),D.a.createElement(q.a,{pageName:H.f[a],abtestInfo:c}),D.a.createElement(Hn.a,{searchBot:d}))}}]),n}(D.a.Component);Gn.getDerivedHeadElement=void 0,Gn.getDerivedHeadElement=function(){var e=E()(g.a.mark((function e(t,n){var r,a,o,i,c,u,l,s,f,d,m,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null==n?void 0:n.data)||{},a=r.pathname,o=r.seoTDK,i=void 0===o?{title:"",keywords:"",description:"",publishTimestamp:0,modifiedTimestamp:0}:o,c=r.imageList,u=void 0===c?[]:c,l=r.mediaInfo,s=r.source,f=r.articleType,d=r.title,m=r.isGreyTheme,p=f===H.a.article||f===H.a.gallery,e.abrupt("return",{head:D.a.createElement(D.a.Fragment,null,D.a.createElement("title",null,i.title),D.a.createElement("meta",{name:"keywords",content:i.keywords}),D.a.createElement("meta",{name:"description",content:i.description}),D.a.createElement("meta",{httpEquiv:"Content-Security-Policy",content:"upgrade-insecure-requests"}),D.a.createElement("link",{rel:"canonical",href:"https://www.toutiao.com".concat(a)}),D.a.createElement("link",{rel:"alternate",media:"only screen and (max-width: 640px)",href:"https://m.toutiao.com".concat(a)}),D.a.createElement(Fn.a,{isGreyTheme:m}),p&&D.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:y()({"@context":"https://schema.org","@type":"NewsArticle",mainEntityOfPage:{"@type":"WebPage","@id":"https://www.toutiao.com".concat(a)},headline:d,description:i.description,image:u.slice(0,4),datePublished:i.publishTimestamp&&new Date(1e3*i.publishTimestamp).toISOString(),dateModified:i.modifiedTimestamp&&new Date(1e3*i.modifiedTimestamp).toISOString(),author:{"@type":"Person",name:(null==l?void 0:l.name)||s,url:(null==l?void 0:l.userId)?Object(G.c)(l.userId):""},publisher:{"@type":"Organization",name:"\u4eca\u65e5\u5934\u6761",logo:{"@type":"ImageObject",url:"https://lf3-static.bytednsdoc.com/obj/eden-cn/uhbfnupkbps/216.png"}}})}})),position:"before"});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},d84b833f284337beaf9b:function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("dfb30137603785af9d6e"),g=n.n(h),_=n("d765da9cbece3e988893"),y=n("4f6e6e2b02b6a70b9d23"),w=n.n(y),E=n("6bb41c796464fc214f15"),k=n.n(E),O=n("6104d0ccf35b3944ecf2"),j=n.n(O),C=n("4cc68b2efb2eff1c34aa"),I=n.n(C),x=n("f9aa1a8184c17c535d23"),T=n.n(x),S=n("b1b96d53056a3b30ef69"),N=n.n(S),L=n("098de4f1853062b3a141"),R=n.n(L),A=(n("7c04e1c6a9d8a4a067f5"),n("be6323750fae7868d676"));function P(e){var t=function(){if("undefined"==typeof Reflect||!w.a)return!1;if(w.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(w()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N()(e);if(t){var a=N()(this).constructor;n=w()(r,arguments,a)}else n=r.apply(this,arguments);return T()(this,n)}}var D=function(e){I()(n,e);var t=P(n);function n(){var e;k()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={fade:!1},e.timer=void 0,e.toastEl=null,e}return j()(n,[{key:"componentDidMount",value:function(){var e,t=this,n=document.activeElement;null===(e=this.toastEl)||void 0===e||e.focus(),this.timer=setTimeout((function(){t.setState({fade:!0}),Object(A.p)(n)&&(null==n||n.focus())}),2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=this.state.fade,n=this.props,r=n.msg,a=n.className;return g.a.createElement("div",{role:"alert",tabIndex:0,"aria-label":r,"data-focus-trap-disable":!0,ref:function(t){e.toastEl=t},className:R()("toast",a,{fade:t})},r)}}]),n}(g.a.PureComponent);function M(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):M(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}function V(e){var t,n=document.createElement("div");return document.body.appendChild(n),t=U({},e),_.render(h.createElement(D,U({},t)),n),setTimeout((function(){_.unmountComponentAtNode(n)&&n.parentNode&&n.parentNode.removeChild(n)}),3e3),{}}function F(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}D.info=void 0,D.info=function(e,t){return V(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):F(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}({msg:e},t))};t.a=D},d85b0c63a3e4ea46eafd:function(e,t,n){},d8a3087aabcd86ae5e3a:function(e,t,n){},d9c75f65b66c037f4131:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var r="undefined"!=typeof window,a=r&&(/localhost/.test(location.origin)||/dev.eden.net/.test(location.origin)),o=r&&/boe-gateway.byted.org/.test(location.host)},da718d76f9b51529dd59:function(e,t,n){},dc8fcd3c4bc605c8245b:function(e,t,n){"use strict";n.d(t,"a",(function(){return he}));var r,a=n("fbbd810ddf979da8e79a"),o=n.n(a),i=n("819716bda1fd0681a754"),c=n.n(i),u=n("dfb30137603785af9d6e"),l=n.n(u),s=(n("f522f85de441d96330d9"),n("2fb346eb9d0bf63cb593")),f=n("e03789860a157f665dce"),d=n("cf532962bc746b402696"),m=n("54868fd92a74e390355c"),p=n.n(m),b=n("007862268c2fc8134ebb"),v=n.n(b),h=n("c5054cf9c06ccf557fcd"),g=n.n(h),_=n("4f25322f10fce8ce9169"),y=n.n(_),w=n("a1370d8a46bf7fd478fc"),E=n.n(w),k=n("a0317e3b4020b526a9b2"),O=n.n(k),j=n("c1d32d7b2c2ebdde5bde"),C=n("be6323750fae7868d676"),I=n("1364f485450c5b33f8c4"),x=n("92c8006d8139d763c605"),T=n.n(x),S=n("ee10aab64b9ea632f5ab"),N=n.n(S),L=n("9a26e56d17b55462db4a"),R=(n("7e8e1d5038b1981a6e81"),n("663529bce6ee6d8996f5")),A=n("90cd159fadd272c59cf2"),P=n.n(A),D=n("2422758950d9f66b7423"),M=n("acff6c447f863638e55f"),U=n("ed0e645fb10944a4fb8f");function V(e,t){var n=O()(e);if(E.a){var r=E()(e);t&&(r=r.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):g.a?v()(e,g()(n)):V(Object(n)).forEach((function(t){p()(e,t,y()(n,t))}))}return e}function H(e){var t,n;return Object(U.f)(e)[0]||Object(C.r)(null===(t=e.video_detail_info)||void 0===t||null===(n=t.detail_video_large_image)||void 0===n?void 0:n.url)}!function(e){e.UNKNOWN="unknown",e.ARTICLE="article",e.VIDEO="video"}(r||(r={}));var B={category_name:"related",channel_id:D.c.ARTICLE_RELATED,enter_from:"click_related",impr_type:"__detail_related",is_top_content:"0",section:"detail_related_right"};function W(e,t){return e.map((function(e){switch(function(e){return 0===e.cell_type?e.has_video?r.VIDEO:r.ARTICLE:r.UNKNOWN}(e)){case r.ARTICLE:return function(e){var t=e.log_pb||{},n=Object(M.b)(M.a.ARTICLE,e.group_id);return{cardType:r.ARTICLE,groupId:e.group_id,title:e.title,coverUrl:H(e),detailUrl:n,commentCount:Object(C.j)(e.comment_count),timestamp:e.publish_time,logInfo:F(F(F({},t),B),{},{href:n,impr_id:t.impr_id,group_source:e.group_source||t.group_source,group_id:e.group_id,item_id:e.item_id,biz_id:e.biz_id,article_type:"text",log_pb:P()(t),show_rank:0,page_name:""}),crossPageLog:F(F({},B),{},{impr_id:t.impr_id,is_following:t.is_following})}}(e);case r.VIDEO:return function(e){var t,n=e.log_pb,a=Object(M.b)(M.a.SELF_VIDEO,e.group_id);return{cardType:r.VIDEO,groupId:e.group_id,title:e.title,coverUrl:H(e),detailUrl:a,duration:Object(C.h)(e.video_duration),playCount:Object(C.j)((null===(t=e.video_detail_info)||void 0===t?void 0:t.video_watch_count)||0,!1,!1),timestamp:e.publish_time,logInfo:F(F(F({},n),B),{},{href:a,impr_id:n.impr_id,group_source:e.group_source||n.group_source,group_id:e.group_id,item_id:e.item_id,biz_id:e.biz_id,article_type:"video",log_pb:P()(n),show_rank:0,page_name:""}),crossPageLog:F(F({},B),{},{impr_id:n.impr_id,is_following:n.is_following})}}(e);default:return}})).filter(Boolean).map((function(e,n){var r=null==e?void 0:e.logInfo,a=null==e?void 0:e.crossPageLog;return F(F({},e),{},{logInfo:F(F(F({},r),t),{},{show_rank:n+1}),crossPageLog:F(F({},a),{},{show_rank:n+1})})}))}var Y=n("6cf195ddfada1b0033e1"),G=n("4e16ef1abe038022cfb8"),K=n("c0c721f9f12a8d2dd2bc"),z=n("ba5c9f6f094cd420b97f"),q=n("38c58096afa111fcdfd2"),X=function(e){var t=e.data,n=e.onClickToDetail,a=t.cardType,o=t.coverUrl,i=t.detailUrl,c=t.timestamp,u=t.title,s=t.commentCount,f=t.playCount,d=t.duration,m=t.crossPageLog;return l.a.createElement("div",{className:"related-card-item"},o&&l.a.createElement(q.a,{tabIndex:-1,"aria-hidden":!0,className:"left-img",href:i,logInfo:m,target:"_blank",rel:"noopener nofollow",onClick:n},l.a.createElement("img",{className:"cover",src:o}),a===r.VIDEO&&l.a.createElement("span",{className:"duration"},d)),l.a.createElement("div",{className:"right-content"},l.a.createElement(q.a,{className:"title",href:i,"aria-label":u,logInfo:m,target:"_blank",rel:"noopener nofollow",onClick:n},u),l.a.createElement("p",{className:"info"},a===r.ARTICLE&&l.a.createElement("span",null,s,"\u8bc4\u8bba"),a===r.VIDEO&&l.a.createElement("span",null,f,"\u64ad\u653e"),l.a.createElement("span",null,Object(C.k)(c)))))},Q=function(e,t){var n=e.groupId,r=e.logParams,a=e.onSuccess,i=Object(u.useState)([]),c=o()(i,2),s=c[0],f=c[1],d=Object(u.useRef)(null),m=Object(u.useCallback)(N()(T.a.mark((function e(){var t,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.feed.getArticleRelatedList(n);case 3:if("success"===(t=e.sent).data.message){e.next=6;break}throw new Error("errorMsg=".concat(t.data.message,", logId=").concat(t.headers["x-tt-logid"]));case 6:o=W(t.data.data,{page_name:r.page_name}),f(o.slice(0,5)),null==a||a(o.length),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(G.d)(null===e.t0||void 0===e.t0?void 0:e.t0.message,"fetch-article-related-error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[]);return Object(K.a)((function(){m()})),Object(u.useImperativeHandle)(t,(function(){return{dom:d.current}})),s.length<2?null:l.a.createElement("div",{className:"related-recommend-list",ref:d},l.a.createElement(z.a,{type:"relatedRecommend",right:l.a.createElement(l.a.Fragment,null)}),l.a.createElement("ul",null,s.map((function(e){return l.a.createElement(L.a,{key:e.groupId,onVisible:function(t){!function(e,t){t&&Object(Y.a)("client_show",e.logInfo)}(e,t)},once:!0},l.a.createElement("li",null,l.a.createElement(X,{data:e,onClickToDetail:function(){!function(e){Object(Y.a)("content_click",e.logInfo)}(e)}})))}))))},Z=Object(u.forwardRef)(Q);function J(e,t){var n=O()(e);if(E.a){var r=E()(e);t&&(r=r.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):g.a?v()(e,g()(n)):J(Object(n)).forEach((function(t){p()(e,t,y()(n,t))}))}return e}var ee=Object(j.b)((function(e){var t=e.fixed,n=e.onModuleShow,r=Object(u.useRef)(null),a=Object(u.useState)(518),i=o()(a,2),c=i[0],s=i[1];return l.a.createElement("div",{role:"complementary","aria-label":"\u76f8\u5173\u63a8\u8350"},l.a.createElement(I.a,{disable:!t,placeholderWidth:318,placeholderHeight:c,position:{top:88,zIndex:100}},l.a.createElement(Z,$($({},e),{},{ref:r,onSuccess:function(e){var t;setTimeout((function(){var e,t,n=null===(e=r.current)||void 0===e||null===(t=e.dom)||void 0===t?void 0:t.clientHeight;n&&s(n)})),e>=2&&Object(C.p)(null===(t=r.current)||void 0===t?void 0:t.dom)&&n()}}))))})),te=n("a7cb42378ff2e016201f"),ne=(n("9b9d3218952e7795f17c"),n("4d09ad27fd704dfe94be")),re=n("fb622297466e7a637f99"),ae=n("36091a6286193bdd62ec"),oe=n("42d4f6648edde20f9953"),ie=n("098de4f1853062b3a141"),ce=n.n(ie),ue=(n("ed8d16f3f8c4d22e1fe9"),n("d84b833f284337beaf9b")),le=n("a5b25f8e99db71c1fcf2"),se=function(e){var t=e.isFollowing,n=e.isFollowed,r=e.userId,a=e.loginUserInfo,i=Object(u.useRef)(!1),c=Object(u.useState)(t),s=o()(c,2),f=s[0],d=s[1];function m(){return(m=N()(T.a.mark((function e(){var t,n,o,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.current){e.next=2;break}return e.abrupt("return");case 2:if(Object(le.a)(a)){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,c=null,i.current=!0,!f){e.next=14;break}return Object(Y.a)("unfollow_user"),e.next=11,R.a.relation.unfollowUser(r);case 11:c=e.sent,e.next=18;break;case 14:return Object(Y.a)("follow_user"),e.next=17,R.a.relation.followUser(r);case 17:c=e.sent;case 18:if("success"!==(null===(t=c)||void 0===t?void 0:t.data.message)){e.next=21;break}return d(!f),e.abrupt("return");case 21:if(!(null===(n=c)||void 0===n?void 0:n.data.message.includes("\u9ed1\u540d\u5355"))){e.next=24;break}return ue.a.info("\u60a8\u5df2\u62c9\u9ed1\u5bf9\u65b9\uff0c\u8bf7\u5148\u5728app\u7aef\u9690\u79c1\u8bbe\u7f6e\u4e2d\u53d6\u6d88\u62c9\u9ed1"),e.abrupt("return");case 24:throw new Error(null===(o=c)||void 0===o?void 0:o.message);case 27:e.prev=27,e.t0=e.catch(4),ue.a.info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),console.log(e.t0);case 31:return e.prev=31,i.current=!1,e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[4,27,31,34]])})))).apply(this,arguments)}return l.a.createElement("button",{"aria-pressed":f,type:"button",className:ce()("user-subscribe-wrapper",{following:f}),onClick:function(){return m.apply(this,arguments)}},l.a.createElement("i",{className:ce()("bui-icon",{"icon-add_small":!f,"icon-check":f})}),l.a.createElement("span",null,f?n?"\u4e92\u76f8\u5173\u6ce8":"\u5df2\u5173\u6ce8":"\u5173\u6ce8"))},fe=n("a3483165d38bc7294f7d"),de=function(){var e=Object(u.useState)(!1),t=o()(e,2),n=t[0],r=t[1];return Object(u.useEffect)((function(){window.SVGAnimateElement&&r(!0)}),[]),l.a.createElement(fe.a,{animate:n,viewBox:"0 0 308 470",uniqueKey:"author-related-list-loading"},l.a.createElement("rect",{x:"5",y:"16",rx:"5",ry:"5",width:"96",height:"72"}),l.a.createElement("rect",{x:"113",y:"20",rx:"2",ry:"2",width:"180",height:"10"}),l.a.createElement("rect",{x:"114",y:"40",rx:"2",ry:"2",width:"120",height:"10"}),l.a.createElement("rect",{x:"5",y:"110",rx:"5",ry:"5",width:"96",height:"72"}),l.a.createElement("rect",{x:"113",y:"114",rx:"2",ry:"2",width:"180",height:"10"}),l.a.createElement("rect",{x:"114",y:"134",rx:"2",ry:"2",width:"120",height:"10"}),l.a.createElement("rect",{x:"5",y:"204",rx:"5",ry:"5",width:"96",height:"72"}),l.a.createElement("rect",{x:"113",y:"208",rx:"2",ry:"2",width:"180",height:"10"}),l.a.createElement("rect",{x:"113",y:"228",rx:"2",ry:"2",width:"120",height:"10"}),l.a.createElement("rect",{x:"5",y:"296",rx:"5",ry:"5",width:"96",height:"72"}),l.a.createElement("rect",{x:"113",y:"300",rx:"2",ry:"2",width:"180",height:"10"}),l.a.createElement("rect",{x:"113",y:"320",rx:"2",ry:"2",width:"120",height:"10"}),l.a.createElement("rect",{x:"5",y:"388",rx:"5",ry:"5",width:"96",height:"72"}),l.a.createElement("rect",{x:"113",y:"392",rx:"2",ry:"2",width:"180",height:"10"}),l.a.createElement("rect",{x:"113",y:"412",rx:"2",ry:"2",width:"120",height:"10"}))};function me(e,t){var n=O()(e);if(E.a){var r=E()(e);t&&(r=r.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):g.a?v()(e,g()(n)):me(Object(n)).forEach((function(t){p()(e,t,y()(n,t))}))}return e}function be(e,t){var n,r=[],a=[];return(e.data||[]).forEach((function(e){var n,o,i,c=Object(ne.a)(e.raw_data);c=c&&Object(C.s)(c)||{};var u,l,s,f=(s=[],(u=c).large_image_list?s=u.large_image_list:u.image_list?s=u.image_list:u.middle_image&&(s=[].concat(u.middle_image)),Object(C.r)(null===(l=s[0])||void 0===l?void 0:l.url)),d=(null===(n=c.log_pb)||void 0===n?void 0:n.group_id_str)||c.group_id,m={itemId:c.item_id_str||c.item_id,groupId:d,groupSource:c.group_source,title:c.title,url:Object(M.b)(M.a.ARTICLE,d),behotTime:Object(C.k)(c.behot_time),imageUrl:f,commentsCount:Object(C.j)(c.comment_count),readCount:c.read_count,readCountStr:Object(C.j)(c.read_count),imprId:null===(o=c.log_pb)||void 0===o?void 0:o.impr_id,isFollowing:null===(i=c.log_pb)||void 0===i?void 0:i.is_following,isStick:c.is_stick};m.groupId!==t&&(f?r.push(m):a.push(m))})),(r.length?r:a).sort((n="readCount",function(e,t){var r=e[n];return t[n]-r})).slice(0,5).map((function(e,t){return pe(pe({},e),{},{rank:t+1})}))}var ve,he,ge=function(e){var t,n=e.gid,r=e.mediaInfo,a=e.relation,i=e.isSelf,c=e.loginUserInfo,s=e.logParams,f=e.hideList,d=Object(u.useState)(!0),m=o()(d,2),p=m[0],b=m[1],v=Object(u.useState)([]),h=o()(v,2),g=h[0],_=h[1],y=Object(u.useState)(!1),w=o()(y,2),E=w[0],k=w[1],O=(null==r?void 0:r.userVerified)&&(null==r||null===(t=r.userAuthInfo)||void 0===t?void 0:t.auth_info)?r.userAuthInfo.auth_info:(null==r?void 0:r.description)||"",j=Object(u.useCallback)(function(){var e=N()(T.a.mark((function e(t){var r,a,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,R.a.feed.getDetailHotList({userId:t});case 5:r=e.sent,"success"===(a=r.data).message?(o=be(a,n),_(o),k(!o.length)):k(!0),b(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0),b(!1),k(!0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),[n]);if(Object(u.useEffect)((function(){r&&!f&&j(r.userId)}),[r,f,j]),!r)return null;function C(e,t){t.preventDefault(),Object(re.c)(pe(pe({},s),{},{area:"author_related",gid:e.groupId,href:e.url,show_rank:e.rank||0,section:"author_card",group_source:e.groupSource,group_id:e.groupId,article_type:"text",is_top_content:e.isStick?"1":"0"}));var n=Object(ae.a)()||{},r=n.category_name,a=n.channel_id,o=n.enter_from,i=Object(te.b)(e.url,{category_name:r,channel_id:a,enter_from:o,impr_id:e.imprId,is_following:e.isFollowing,is_top_content:e.isStick?"1":"0",show_rank:e.rank||0,section:"author_card"});window.open(i)}function I(e){Object(Y.a)("detail_page_widget_click",{group_id:n,widget_name:"author_card",from_position:e})}function x(e,t){var n,a;e.preventDefault(),e.stopPropagation(),I(t);var o=(null===(n=e.currentTarget)||void 0===n?void 0:n.getAttribute("href"))||"/c/user/token/".concat(null==r?void 0:r.userId,"/?source=").concat(s.page_name),i=Object(te.b)(o,{position:"detail",enter_from:(null===(a=Object(ae.a)())||void 0===a?void 0:a.enter_from)||"",section:"content_detail"});window.open(i)}var S=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"related-title"},l.a.createElement("span",null,"TA\u7684\u70ed\u95e8\u4f5c\u54c1")),p&&l.a.createElement(de,null),!!g.length&&l.a.createElement("ul",{className:"related-list",onClick:function(){return I("list")}},g.map((function(e){return l.a.createElement(L.a,{onVisible:function(t){return t&&function(e){Object(Y.a)("client_show",pe(pe({},s),{},{show_rank:e.rank||0,section:"author_card",group_source:e.groupSource,group_id:e.groupId,article_type:"text",is_top_content:e.isStick?"1":"0"}))}(e)},once:!0,key:e.itemId},l.a.createElement("li",{className:"related-list-item"},e.imageUrl&&l.a.createElement("a",{tabIndex:-1,"aria-hidden":!0,className:"left-img",href:e.url,target:"_blank",rel:"noopener nofollow",onClick:function(t){return C(e,t)}},l.a.createElement("i",{className:"pic",style:{backgroundImage:"url(".concat(e.imageUrl,")")}})),l.a.createElement("div",{className:"right-content"},l.a.createElement("a",{className:"title",href:e.url,"aria-label":"".concat(e.title,"\uff0c").concat(e.readCountStr,"\u9605\u8bfb\uff0c").concat(e.behotTime,"\u53d1\u5e03"),target:"_blank",rel:"noopener nofollow",onClick:function(t){return C(e,t)}},e.title),l.a.createElement("p",{className:"info"},l.a.createElement("span",null,e.readCountStr,"\u9605\u8bfb"),l.a.createElement("span",null,e.behotTime)))))}))),l.a.createElement("a",{className:"look-more",href:"/c/user/token/".concat(r.userId,"/?source=").concat(s.page_name),target:"_blank",rel:"noopener nofollow",onClick:function(e){return x(e,"more")}},l.a.createElement("span",null,"\u67e5\u770b\u66f4\u591a"),l.a.createElement("i",{className:"icon-arrow"})),l.a.createElement("div",{style:{height:12}}));return l.a.createElement("div",{role:"complementary","aria-label":"\u4f5c\u8005\u4fe1\u606f",className:"media-info"},l.a.createElement("div",{className:"user-info"},l.a.createElement("a",{"aria-label":"\u4f5c\u8005\u5934\u50cf",className:"user-avatar",target:"_blank",rel:"noopener nofollow",href:"/c/user/token/".concat(r.userId,"/?source=").concat(s.page_name),onClick:function(e){return x(e,"author_profile")}},l.a.createElement("img",{src:r.avatarUrl,alt:"".concat(r.name," \u5934\u50cf")}),l.a.createElement(oe.a,{size:16,userAuthInfo:r.userAuthInfo})),l.a.createElement("a",{className:"user-name",target:"_blank",rel:"noopener nofollow",href:"/c/user/token/".concat(r.userId,"/?source=").concat(s.page_name),onClick:function(e){return x(e,"author_name")}},r.name),O&&l.a.createElement("p",{className:"user-auth"},O),!i&&l.a.createElement(se,{isFollowing:!!(null==a?void 0:a.isFollowing),userId:r.userId,loginUserInfo:c})),!f&&!E&&S)},_e=n("83a311389b32f14cef31"),ye=n("1587a98d5918598bbe02");!function(e){e.PERSONAL_WORKS="personal_works",e.RELATED_RECOMMEND="related_recommend",e.HOT_BOARD="hot_board",e.HOT_VIDEO="hot_video"}(he||(he={}));var we=(ve={},c()(ve,he.PERSONAL_WORKS,{section:"author_card"}),c()(ve,he.HOT_BOARD,{section:"hot_spot"}),c()(ve,he.HOT_VIDEO,{section:"hot_video"}),c()(ve,he.RELATED_RECOMMEND,{section:"detail_related_right"}),ve),Ee=[{name:he.PERSONAL_WORKS,is_sticked:!1,show_list:!0},{name:he.HOT_BOARD,is_sticked:!0},{name:he.HOT_VIDEO,is_sticked:!1}];t.b=function(e){var t,n=e.genre,r=e.groupId,a=e.mediaInfo,i=e.showResearch,c=e.isSelf,m=e.relation,p=e.loginUserInfo,b=e.blockVisibility,v=e.abtestInfo,h=e.logParams,g=e.onModuleShow,_=(null==v||null===(t=v.parameters.candidate_module)||void 0===t?void 0:t.block_list)||Ee,y=Object(u.useState)(!1),w=o()(y,2),E=w[0],k=w[1],O=Object(u.useRef)(!1);function j(e){if(e===he.RELATED_RECOMMEND){if(O.current)return;O.current=!0}g(we[e].section)}var C=Object(u.useCallback)((function(e){k(e)}),[]);return l.a.createElement("div",{className:"right-sidebar"},"wtt"===n&&i&&l.a.createElement("div",{style:{marginBottom:28}},l.a.createElement(_e.a,null)),_.map((function(e){return function(e){var t=null,o=e.name;switch(o){case he.PERSONAL_WORKS:"article"===n&&(t=l.a.createElement(ge,{gid:r,relation:m,mediaInfo:a||void 0,isSelf:c,loginUserInfo:p||null,logParams:h,hideList:!e.show_list}));break;case he.HOT_BOARD:t=(null==b?void 0:b.hotBoard)&&l.a.createElement(ye.a,{fixed:e.is_sticked&&E,logParams:h,abtestInfo:v});break;case he.HOT_VIDEO:t=(null==b?void 0:b.hotVideo)&&l.a.createElement(d.a,{fixed:e.is_sticked&&E,logParams:h});break;case he.RELATED_RECOMMEND:t=(null==b?void 0:b.relatedRecommend)&&l.a.createElement(ee,{fixed:e.is_sticked&&E,groupId:r,logParams:h,onModuleShow:function(){j(o)}});break;default:t=null}return t&&l.a.createElement(s.a,{inViewHandler:function(){j(o)},key:o},t)}(e)})),l.a.createElement(f.a,{offset:64,onViewChange:C},l.a.createElement("div",null)))}},dcc7e48d0271dc0ea330:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEIBAMAAACXHeN1AAAAD1BMVEXz8/Py8vLy8vLy8vL///958YmKAAAAA3RSTlMErXC209+aAAABs0lEQVR42u3cQW7CQAwFUAMXoNADgLgAYXIBNNz/TCUCqd20TdqAxu376yyeLGsse5GIa/bb15IgL5u4Z1typJbuBj6UPDkN4GXJlF2yEt+KXHIlYpFMvI5VMvExWRsPjZxN3KUZH+/iki3pxGpMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEz8If1lbGob4vHgWcgziC9T0oK4nySuDYgvl+cW+R+K+4niSkxMTExMTExMTExMPIu4/vqrZ4vHbYNpxH2D4kpMPJHirZhngow6dZl5xMTExMTExMTExMSuWFm2pnSbqQsL8V8Q/7X7sSuWKU1MTExMTExMTExMnP2KlUA8rvgt79LNiysx8bfi3lvx6CtWb+YRExMTExMTExMTExN/ca36LIX40W1RGxDn+2fTpCLXJsQTyDOA/ZGOmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJj45+lim0x8Tifu4pBMfIpVMvExFsnE68j2WEQka+TTVbxMJd5FsiIPJb4mz5PcxT37FOZztxmwbwkzhcAcBQ11AAAAAElFTkSuQmCC"},dcd566af2718bbdb1570:function(e,t,n){},df5cca4a56fea3883d19:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=24,a=[".baidu.",".sogou.",".so.",".360.",".google.",".bing."]},e03789860a157f665dce:function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("6ebe1403b6a5cafdbcbe"),i=n.n(o);t.a=function(e){var t=e.children,n=e.offset,o=void 0===n?0:n,c=e.onViewChange,u=Object(r.useRef)(null),l=Object(r.useRef)(!1),s=Object(r.useRef)(!1),f=Object(r.useCallback)((function(){l.current||(l.current=!0,i()((function(){if(u.current){var e=u.current.getBoundingClientRect(),t=e.top,n=e.height||u.current.clientHeight,r=s.current,a=null;(a=t-o<-n)!==r&&(null==c||c(a)),s.current=a,l.current=!1}else l.current=!1})))}),[o,c]);return Object(r.useEffect)((function(){return window.addEventListener("scroll",f),f(),function(){window.removeEventListener("scroll",f)}}),[f]),a.a.createElement("div",{ref:u},t)}},e0e7afec53e5c6f0976a:function(e,t,n){},e101535ac9d197332c92:function(e,t,n){},e2077f1c42c64000df64:function(e,t,n){},e21f3ef9e0e4c7ac448b:function(e,t,n){},e51434d8d152e1ba8c58:function(e,t,n){},e6c0fa9948fe7e0bc082:function(e,t,n){},e7201fa908046c02f513:function(e,t,n){},e763df33e8176fe29b0e:function(e,t,n){"use strict";var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b),h=n("b7d86484cebe8a19dabd"),g=n.n(h),_=n("dfb30137603785af9d6e"),y=n.n(_),w=n("a7cb42378ff2e016201f"),E=["href","logInfo","onClick"];function k(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):k(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}t.a=function(e){var t=e.href,n=e.logInfo,r=e.onClick,a=g()(e,E);return y.a.createElement("a",O(O({},a),{},{href:t,target:"_blank",rel:"noopener nofollow","origin-target":"true",onClick:function(e){if(t&&n){e.preventDefault(),null==r||r();var a=Object(w.b)(t,n);window.open(a)}}}),e.children)}},ec1d25f062058231e9a3:function(e,t,n){},ec7d18b3433a1d1d5e4e:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getHotBoard",(function(){return d}));var a={};n.r(a),n.d(a,"repostContent",(function(){return b}));var o={};n.r(o),n.d(o,"getTabComments",(function(){return h})),n.d(o,"getReplyList",(function(){return g})),n.d(o,"submitComment",(function(){return _})),n.d(o,"submitReply",(function(){return y})),n.d(o,"commentAction",(function(){return w})),n.d(o,"diggReply",(function(){return E})),n.d(o,"reportUser",(function(){return k}));var i={};n.r(i),n.d(i,"followUser",(function(){return O})),n.d(i,"unfollowUser",(function(){return j}));var c={};n.r(c),n.d(c,"getCities",(function(){return C}));var u={};n.r(u),n.d(u,"getLogin",(function(){return I}));var l={};n.r(l),n.d(l,"getUnreadMsg",(function(){return T})),n.d(l,"getWendaUnreadMsg",(function(){return S}));var s=n("cdea2e385cdc7aa33952"),f=n("13e917642399ec04710a");function d(){return f.a.get("/hot-event/hot-board/?origin=toutiao_pc")}n("714667d626fd04a26548");var m=n("bd3497eff95c6980ce46"),p=n.n(m);function b(e){return f.a.post("/c/ugc/content/repost/",p.a.stringify(Object.assign({},e)))}var v="toutiao_web";function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;return f.a.get("/article/v2/tab_comments/",{params:{aid:24,app_name:v,offset:n,count:r,group_id:e,item_id:t}})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return f.a.get("/2/comment/v2/reply_list/",{params:{aid:24,app_name:v,id:e,offset:t,count:n,repost:r}})}function _(e,t,n){return f.a.post("/browser/2/data/v5/post_message/",p.a.stringify({group_id:e,item_id:t,text:n}),{params:{aid:24,app_name:v}})}function y(e){var t={id:e.id,content:e.content};return(e.replyUserId||e.replyCommentId)&&(t.reply_user_id=e.replyUserId,t.reply_comment_id=e.replyCommentId),f.a.post("/browser/2/comment/v3/create_reply/",p.a.stringify(t),{params:{aid:24,app_name:v}})}function w(e,t,n,r){return f.a.post("/browser/2/data/v1/comment_action/",p.a.stringify({comment_id:e,group_id:t,item_id:n,action:r}),{params:{aid:24,app_name:v}})}function E(e,t,n){return f.a.post("/browser/2/comment/v1/digg_reply/",p.a.stringify({id:e,reply_id:t,action:n}),{params:{aid:24,app_name:v}})}function k(e){return f.a.post("/api/pc/feedback/2/report_user_comment/",p.a.stringify(Object.assign(Object.assign({},e),{report_source:0,source:1,aid:24})),{params:{aid:24,app_name:"toutiao-web",app_key:"toutiao-web",webid:e.webid}})}function O(e){return f.a.post("/api/pc/user/follow",{user_token:e})}function j(e){return f.a.post("/c/user/unfollow/",p.a.stringify({user_token:e}))}function C(){return f.a.get("https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-toutiao.fe.toutiao_web_pc-default")}function I(e){return f.a.get(e)}var x=n("df5cca4a56fea3883d19");function T(){return f.a.get("/api/msg/tab_list",{params:{app_id:x.b}})}function S(){return f.a.get("/mp/agw/general/wenda/invite_count")}var N={search:s,hotboard:r,ugc:a,comment:o,relation:i,weather:c,login:u,notice:l};t.a=N},ecc80ba510baa97c03b0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("90cd159fadd272c59cf2"),a=n.n(r),o=n("4e16ef1abe038022cfb8");function i(){"undefined"!=typeof window&&Promise.all([n.e(16),n.e(0)]).then(n.t.bind(null,"e3cb0887020ffeef7482",7)).then((function(e){var t=new(0,e.TtWid)({aid:24,service:"www.toutiao.com",region:"cn",union:!0,needFid:!1});try{t.checkWebId()}catch(n){console.error("[checkTTWid] error: ",n)}try{t.reportFingerprintInfo()}catch(n){Object(o.c)(a()(n),"report-fingerprint-info-error")}}))}},ed0e645fb10944a4fb8f:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"g",(function(){return T})),n.d(t,"f",(function(){return S})),n.d(t,"k",(function(){return N})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return R})),n.d(t,"c",(function(){return V})),n.d(t,"m",(function(){return F})),n.d(t,"l",(function(){return H})),n.d(t,"e",(function(){return B})),n.d(t,"d",(function(){return W})),n.d(t,"n",(function(){return Y})),n.d(t,"o",(function(){return G})),n.d(t,"b",(function(){return K})),n.d(t,"h",(function(){return z}));var r,a,o=n("54868fd92a74e390355c"),i=n.n(o),c=n("007862268c2fc8134ebb"),u=n.n(c),l=n("c5054cf9c06ccf557fcd"),s=n.n(l),f=n("4f25322f10fce8ce9169"),d=n.n(f),m=n("a1370d8a46bf7fd478fc"),p=n.n(m),b=n("a0317e3b4020b526a9b2"),v=n.n(b),h=n("819716bda1fd0681a754"),g=n.n(h),_=n("4c1314c969cf00365acd"),y=n.n(_),w=n("be6323750fae7868d676"),E=n("acff6c447f863638e55f"),k=n("1b69c40e39893f89b5f5"),O=n("10130cfc2ba27a09b7e5");function j(e,t){var n=v()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):s.a?u()(e,s()(n)):j(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}!function(e){e[e.ARTICLE=0]="ARTICLE",e[e.VIDEO=0]="VIDEO",e[e.WTT=32]="WTT",e[e.COMMENT=56]="COMMENT",e[e.SHORT_VIDEO=49]="SHORT_VIDEO",e[e.MULTI_VIDEO=48]="MULTI_VIDEO",e[e.MULTI_ARTICLE=102]="MULTI_ARTICLE",e[e.LYNX=213]="LYNX"}(r||(r={})),function(e){e[e.QUESTION=9]="QUESTION",e[e.ANSWER=10]="ANSWER"}(a||(a={}));var I={ARTICLE:"article",WTT:"wtt",VIDEO:"video",REFRESH:"refresh",SHORT_VIDEO:"short_video",QUESTION:"question",ANSWER:"answer",SCHEDULE:"schedule"},x=[48,102,213];function T(e,t){return 165===e.group_source?e.open_url:(e.is_stick||4===e.stick_style)&&e.article_type>0&&e.article_url?e.article_url:I.WTT===t?Object(E.b)(E.a.WTT,e.thread_id_str||e.id_str):I.VIDEO===t?Object(E.b)(E.a.SELF_VIDEO,e.group_id):Object(E.b)(E.a.ARTICLE,e.group_id)}function S(e){var t=[];return e.thumb_image_list?t=e.thumb_image_list:e.large_image_list?t=e.large_image_list:e.image_list?t=e.image_list:e.middle_image&&(t=[].concat(e.middle_image)),t.map((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.replace(/^http:/,"")})).filter(Boolean)}function N(e){var t=e.user_info||e.user;if(56===e.cell_type){var n,r=null===(n=e.comment_base)||void 0===n?void 0:n.user;return{name:r.info.name,userSecToken:r.info.user_id,userAuthInfo:Object(w.s)(r.info.user_auth_info||"{}"),avatarUrl:r.info.avatar_url,isFollow:!!r.relation.is_following,schema:r.info.schema}}return t&&49===e.cell_type?{name:t.info.name,userSecToken:t.info.user_id,userAuthInfo:Object(w.s)(t.info.user_auth_info||"{}"),avatarUrl:t.info.avatar_url,isFollow:!!t.relation.is_following,schema:t.info.schema}:t?{name:t.name,userSecToken:t.user_id,userAuthInfo:Object(w.s)(t.user_auth_info||"{}"),avatarUrl:t.avatar_url,isFollow:!(!(null==t?void 0:t.follow)&&!(null==t?void 0:t.is_following)),schema:t.schema}:null}function L(e){return e.media_info?{name:e.media_info.name,userId:e.media_info.user_id}:null}function R(e){if(!e)return"";var t=String(e.userSecToken);return e.schema&&Object(w.m)("uid",e.schema.split("?")[1])||t}function A(e){var t;return e.group_source||(null===(t=e.comment_base)||void 0===t?void 0:t.group_source)||0}function P(e,t,n,a){return a===O.a.get().video.channelId?"2_card":t===I.VIDEO||t===I.SHORT_VIDEO?e.cell_type===r.MULTI_VIDEO?t===I.SHORT_VIDEO?"4_card":"2_card":"1_card":n?n>3?"4_picture":"1_picture":"no_picture"}function D(e,t){var n=new y.a;return t.forEach((function(e){return n.add(e.group_id)})),e.filter((function(e){return!n.has(e.group_id)}))}function M(e){return e.map((function(e){var t=e.group_id||e.id,n=e.item_id||e.id;if(x.includes(e.cell_type)){var r=Math.random().toString(16).substr(2);t=r,n=r}return C(C({},e),{},{group_id:t,item_id:n})}))}function U(e,t){return function(e,t){return t!==O.a.get().local.channelId?e:e.filter((function(e){if(e.cell_type===r.MULTI_VIDEO){var t,n=null===(t=e.data[0])||void 0===t?void 0:t.cell_type,a=(e.data||[]).length;if(n===r.SHORT_VIDEO&&a<4)return!1}return!0}))}(e,t).map((function(e,n){var o,i,c,u,l,s=(c=(o=e).cell_type,u=o.biz_id,l=o.group_source,o.is_stick||4===o.stick_style?I.ARTICLE:a.QUESTION===l?I.QUESTION:a.ANSWER===l?I.ANSWER:0===c?o.has_video?I.VIDEO:I.ARTICLE:[32,56].indexOf(c)>-1?I.WTT:48===c?49===(null===(i=o.data[0])||void 0===i?void 0:i.cell_type)?I.SHORT_VIDEO:I.VIDEO:49===c||[8,31,32].includes(u)?I.SHORT_VIDEO:c===r.LYNX?I.SCHEDULE:I.ARTICLE);if(s===I.SCHEDULE)return C(C({},e),{},{__type:s});var f,d=S(e),m=C(C({},e),{},{title:e.feed_title||e.title,__channel_id:t,__channel_info:Object(O.c)(t),__type:s,__detail_url:T(e,s),__cover_urls:d,__user_info:N(e),__group_source:A(e),__group_type:P(e,s,(null==d?void 0:d.length)||0,t)});(4===e.stick_style&&(m.is_stick=!0),m.__type===I.WTT)&&(m.__show_subscribe=!(null===(f=m.user)||void 0===f?void 0:f.is_following));return m.is_stick&&(m.__stick_index=n),m}))}function V(e){return e.map((function(e,t){return C(C({},e),{},{__log_show_rank:t+1})}))}function F(e,t,n,r){var a=t.filter((function(e){return!e.is_stick&&e.__type!==I.SCHEDULE})),o=U("before"===r?M(e):D(M(e),a),n);return V("after"===r?a.concat(o):"prepend"===r?o.concat(a):o)}function H(e,t,n){var r=U(D(M(e),t),n);return V(t.concat(r))}function B(e,t){return V(t.filter((function(t){return t.group_id!==e})))}function W(e,t,n){return n?function(e,t,n){return n.map((function(n){return n.group_id===e.group_id?t:n}))}(t,n,e):t.isBlockAnthor?function(e,t){var n,r=null===(n=e.__user_info)||void 0===n?void 0:n.userSecToken;return V(t.filter((function(e){var t;return(null===(t=e.__user_info)||void 0===t?void 0:t.userSecToken)!==r})))}(t,e):B(t.group_id,e)}function Y(e,t,n){return n.map((function(n){return n.__type===I.WTT&&n.user.id===t.user.id?C(C({},n),{},{user:C(C({},n.user),{},{is_following:e})}):n}))}function G(e,t,n){return n.map((function(n){if(n.group_id===e.group_id){if(56===e.cell_type){var r,a=null===(r=e.comment_base)||void 0===r?void 0:r.action,o=n;return a&&(o.comment_base.action=C(C({},a),{},{digg_count:1===t?++a.digg_count:--a.digg_count,user_digg:t})),o}return C(C({},n),{},{digg_count:1===t?++n.digg_count:--n.digg_count,user_digg:t})}return n}))}function K(e,t){return e.map((function(e){return C(C({},e),t)}))}function z(e,t){return e?e===O.a.get().follow.key?e:"":t?t===k.a.fav.key?"":t===k.a.video.key?t:k.a.all.key:""}},ed8d16f3f8c4d22e1fe9:function(e,t,n){},ee4c6d66e74a74b6b480:function(e,t,n){},f0411e24f7f0ecdeeb54:function(e,t,n){},f1419b67ef4472693a2c:function(e,t,n){"use strict";n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("35cb213607f0dbaa33a3"),n("c24204dd29ff77475878"),n("281981c6b99b2a82c28b"),n("3001a3934397946b1a1f"),n("714667d626fd04a26548"),n("21460410443b5c09d963");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=(n("5df478ec6b7652651304"),n("5198e738d473f46c850b")),i=n("d9c75f65b66c037f4131"),c=n("ec7d18b3433a1d1d5e4e"),u={DEFAULT:"\u767b\u5f55\u540e\u5185\u5bb9\u66f4\u7cbe\u5f69",OTHER:"\u767b\u5f55\u89e3\u9501\u5b8c\u6574\u529f\u80fd"},l=function(e){return!!function(){try{return window.sessionStorage.setItem("testSessionStorage","1"),window.sessionStorage.getItem("testSessionStorage"),window.sessionStorage.removeItem("testSessionStorage"),!0}catch(e){return!1}}()&&window.sessionStorage.getItem("session_aweme_code")===e},s=function(){var e=Object(o.b)(),t=e.code;if(e.from_aweme&&t&&!l(t))return!0;return!1},f=n("90b824f4de3f20fa2f01"),d=function(){return a.a.createElement("div",{className:"scan-code-desc"},a.a.createElement("div",null,"\u4f7f\u7528  ",a.a.createElement("i",null,"\u4eca\u65e5\u5934\u6761APP")),a.a.createElement("div",null,"\u5728\u201c\u6211\u7684\u201d\u754c\u9762\u5de6\u4e0a\u89d2\u70b9\u51fb\u626b\u4e00\u626b\u767b\u5f55",a.a.createElement("i",null)),a.a.createElement("div",{className:"scan-preview"},a.a.createElement("i",null)))},m=n("d1afa150e54e7d13351c");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,c,"next",e)}function c(e){E(o,r,a,i,c,"throw",e)}i(void 0)}))}}function O(e){return j.apply(this,arguments)}function j(){return(j=k(regeneratorRuntime.mark((function e(t){var r,a,c,u,l,f,m,p,b,v,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(r=t||{}).onAuthLogin,c=r.redirectUrl,u=r.logParams,l=r.otherMethod,f=r.success,m=c||window.location.href,p="https://sso.toutiao.com",b=(null==t?void 0:t.appId)||24,s()&&(m=Object(o.d)(m,{code:""})),i.c&&(p=""),i.a&&(p="https://sso-boe.toutiao.com"),e.next=9,Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"c0a31596a1f509fc7eb8"));case 9:return v=e.sent.default,h=new v({aid:b,scope:"sso",isOversea:!1,region:"cn",next:m,isBoe:!(!i.a&&!i.c),host:p,loginType:["LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"],isStopCheckWhenHide:!0,globalMobileSupport:!0,unionLoginPanel:!0,defaultCheck:!0,ele:document.getElementById("login_modal_ele"),accountType:["mobile","email"],phoneSeparate:!0,mobileCodeLength:4,confirm:[{text:"\u300a\u7528\u6237\u534f\u8bae\u300b",url:"https://www.toutiao.com/user_agreement/"},{text:"\u300a\u9690\u79c1\u653f\u7b56\u300b",url:"https://www.toutiao.com/privacy_protection/"}],textConfig:{mobileCodeLoginText:{title:"\u624b\u673a\u767b\u5f55",mobilePlaceholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",confirmInfoBeforeText:"\u767b\u5f55\u5373\u540c\u610f"},accountPwdLoginText:{confirmInfoBeforeText:"\u767b\u5f55\u5373\u540c\u610f"},scanCodeLoginText:{refreshCode:"\u70b9\u51fb\u5237\u65b0",getCodeFailed:"\u70b9\u51fb\u5237\u65b0",loginSuccess:"\u626b\u7801\u6210\u529f"},extraText:{otherLoginText:"\u5176\u4ed6\u767b\u5f55",switchToLogin:"\u8fd4\u56de\u767b\u5f55"}},otherMethod:l||[{key:"aweme",type:"auth",authConfig:{clientKey:"awggm9lb4j3epp3d",scope:"user_info",platformAppId:2115}},{key:"qzone_sns",type:"auth",authConfig:{platformAppId:5}},{key:"weixin",type:"auth",authConfig:{platformAppId:43}},{key:"account_pwd",type:"page",clickToPage:"LOGIN_ACCOUNT_PWD",existOn:["LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"]},{key:"mobile_code",type:"page",clickToPage:"LOGIN_MOBILE_CODE",existOn:["LOGIN_ACCOUNT_PWD","LOGIN_SCAN_CODE"]}],ScanCodeDescription:d,teaConfig:{appId:b,config:{evtParams:Object.assign({url:window.location.href},u)}},success:f,onAuthLogin:a}),e.abrupt("return",h);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,n,r,o,i=g(l);function l(){var e;return b(this,l),(e=i.apply(this,arguments)).state={show:!1,title:u.DEFAULT},e.loginEl=null,e.destroy=null,e.sdkRef=null,e.onLogin=function(t){(null==t?void 0:t.title)&&e.setState({title:u[t.title]||t.title}),e.initModel()},e.onClose=function(){e.setState({show:!1}),setTimeout((function(){var t;null===(t=e.destroy)||void 0===t||t.call(y(e))}),200)},e.onSuccess=function(){var e=k(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.redirect_url){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c.a.login.getLogin(t.redirect_url);case 5:window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Object(f.a)("login-callback-error");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),e.loadSDK=k(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(Object.assign(Object.assign({},e.props),{success:e.onSuccess}));case 3:n=t.sent,e.sdkRef=n,window.WebLogin=Object.assign(Object.assign({},n),{show:e.onLogin}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("init login sdk error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.initModel=function(){var t;e.destroy=null===(t=e.sdkRef)||void 0===t?void 0:t.init(e.loginEl);var n=null===document||void 0===document?void 0:document.querySelector(".web-login-normal-input__input");null==n||n.classList.add("first-focus-el"),e.setState({show:!0})},e}return t=l,n=[{key:"componentDidMount",value:function(){this.loadSDK(),s()&&this.initModel()}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,r=t.show;return a.a.createElement(m.a,{className:"ttp-login-modal",title:n,visible:r,maskClosable:!1,onClose:this.onClose,footer:a.a.createElement(a.a.Fragment,null),init:!0,limitFocusArea:!1},a.a.createElement("div",{id:"login_modal_ele",ref:function(t){e.loginEl=t}}))}}],r=[{key:"checkLogin",value:(o=k(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.WebLogin){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,window.WebLogin.checkLogin();case 4:if((t=e.sent).has_login){e.next=8;break}return this.show(),e.abrupt("return",!1);case 8:return e.abrupt("return",t.has_login);case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&v(t.prototype,n),r&&v(t,r),l}(a.a.Component);C.show=function(e){var t,n,r;null===(t=window.WebLogin)||void 0===t||t.setTeaConfig({evtParams:Object.assign({enter_method:void 0},null==e?void 0:e.logParams)}),null===(r=null===(n=window.WebLogin)||void 0===n?void 0:n.show)||void 0===r||r.call(n,e)},C.logout=function(){var e,t;null===(t=null===(e=window.WebLogin)||void 0===e?void 0:e.logout)||void 0===t||t.call(e)};t.a=C},f1f248b38a47032da672:function(e,t,n){"use strict";n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("1c4b8d4085d28a8b83d7");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o),c=(n("bd33a538acc6ecad6220"),n("102c68ff4eb277341743")),u=[{text:"\u5199\u6587\u7ae0",url:"https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc",position:"text"},{text:"\u53d1\u5fae\u5934\u6761",url:"https://mp.toutiao.com/profile_v4/weitoutiao/publish?from=toutiao_pc",position:"wtt"},{text:"\u5199\u56de\u7b54",url:"https://mp.toutiao.com/profile_v4/wenda/home/recommended?from=toutiao_pc",position:"qa"},{text:"\u53d1\u89c6\u9891",url:"https://mp.toutiao.com/profile_v4/xigua/upload-video?from=toutiao_pc",position:"video"}],l=n("742f59eaa59127e610f4"),s=n("f9dd4d76c78fe11efa84");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.isLogin,n=e.logParams,o=e.theme,d=f(Object(r.useState)(!1),2),m=d[0],p=d[1],b=Object(r.useRef)(!1);function v(){Object(c.a)("top_bar_click",{icon_type:"publish",action_type:"click",section:n.section,page_name:n.page_type}),window.open("https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc")}function h(e,t){t.stopPropagation(),Object(c.a)("publish_icon_click",{publish_type:e.position,position:n.page_type,section:n.section,page_name:n.page_type}),window.open(e.url)}return a.a.createElement(l.a,{onOpen:function(){t&&(p(!0),b.current||(Object(c.a)("top_bar_click",{icon_type:"publish",action_type:"expand",section:n.section,page_name:n.page_type}),b.current=!0))},onClose:function(){p(!1),b.current=!1}},a.a.createElement(l.a.MenuButton,{onKeyDown:function(e){if(t){var n=e.keyCode;32!==n&&13!==n||(e.preventDefault(),v())}}},a.a.createElement("div",{"aria-label":"\u53d1\u5e03\u4f5c\u54c1",className:i()("ttp-header-publisher",{dark:"dark"===o,black:"black"===o}),onClick:v},a.a.createElement("a",{className:"publisher-icon",rel:"nofollow"},"\u53d1\u5e03"),t&&a.a.createElement(s.a,{visible:m,transformOrigin:"24px top"},a.a.createElement("div",{className:"publish-list"},a.a.createElement(l.a.MenuList,null,a.a.createElement("div",null,u.map((function(e){return a.a.createElement(l.a.MenuItem,{key:e.text,onKeyDown:function(t){return function(e,t){var n=e.keyCode;32!==n&&13!==n||(e.preventDefault(),h(t,e))}(t,e)}},a.a.createElement("a",{onClick:function(t){return h(e,t)}},e.text))})))))))))}},f2b9489240fb11583b9a:function(e,t,n){},f3c11b59e6d3f5a70a03:function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r);t.a=function(e){return e.searchBot?a.a.createElement("a",{href:"https://www.toutiao.com/sitemap-tuwen"},"\u7f51\u7ad9\u5730\u56fe"):null}},f522f85de441d96330d9:function(e,t,n){},f528931b6f51de3f6b7b:function(e,t,n){},f5af4a301d22e870440e:function(e,t,n){},f6778eb8e31acff71d81:function(e,t,n){"use strict";n("17d091243b0d38080c9b");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o),c=n("6ebe1403b6a5cafdbcbe"),u=n.n(c),l=(n("f0411e24f7f0ecdeeb54"),n("f9ed13e5f81996e94cef")),s=n("cf421b33cba8016652a2"),f=n("c3f6c65547e619f96c18"),d=n("44750f857690efd77995"),m=function(e,t){var n=e.className,o=e.ariaLabel,c=e.title,m=e.children,p=e.visible,b=e.maskClosable,v=void 0===b||b,h=e.hasClose,g=void 0===h||h,_=e.noMask,y=void 0!==_&&_,w=e.style,E=e.xAxisResponsive,k=void 0!==E&&E,O=e.onClose,j=e.onMount,C=Object(r.useRef)(null),I=Object(r.useRef)(null),x=Object(r.useRef)(null),T=Object(r.useRef)(null),S=Object(r.useRef)(null),N=Object(r.useRef)(null),L=Object(r.useRef)({}),R=Object(r.useRef)({}),A=Object(r.useRef)(!1),P=Object(r.useRef)(!1);function D(){return C.current||(C.current=document.querySelector(".ttp-drawer-wrapper")),C.current}var M=Object(r.useCallback)((function(e){e.keyCode===f.a.ESC&&(A.current=!0,O())}),[]),U=Object(r.useCallback)((function(e){var t,n=e.target;if(x.current&&n)try{var r=document.querySelector(".ttp-modal-wrapper");if(16&(null==r?void 0:r.compareDocumentPosition(n)))return;n!==N.current&&16&x.current.compareDocumentPosition(n)||null===(t=S.current)||void 0===t||t.focus()}catch(a){console.error(a)}}),[]),V=Object(r.useCallback)((function(){P.current||(P.current=!0,u()((function(){var e=window.scrollX;e=e>=0?e:0,x.current&&(x.current.style.right="".concat(e,"px")),P.current=!1})))}),[k]);return Object(r.useImperativeHandle)(t,(function(){return{bodyEl:I}})),Object(r.useEffect)((function(){var e;return p?(window.addEventListener("keydown",M),k&&window.addEventListener("scroll",V),T.current=document.activeElement,setTimeout((function(){var e;x.current&&(S.current||(S.current=x.current.querySelector(".first-focus-el")),null===(e=S.current)||void 0===e||e.focus())}))):(window.removeEventListener("keydown",M),window.removeEventListener("focus",U,!0),window.removeEventListener("scroll",V),A.current&&(A.current=!1,null===(e=T.current)||void 0===e||e.focus())),function(){window.removeEventListener("keydown",M),window.removeEventListener("focus",U,!0),window.removeEventListener("scroll",V)}}),[p]),a.a.createElement(d.a,{className:i()("ttp-drawer-wrapper",n,{"no-mask":y}),visible:p,closeTimeout:300,onMount:j,onEnter:function(){k&&V()}},a.a.createElement(a.a.Fragment,null,!y&&a.a.createElement("div",{className:"mask",onClick:function(){v&&O()}}),a.a.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":o,className:"ttp-drawer",style:w,ref:x,onMouseEnter:function(){var e=Object(l.a)();document.body.clientHeight>window.innerHeight&&(L.current=Object(s.a)({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body),Object(s.a)({width:"calc(100% - ".concat(e,"px)")},D())),I.current&&Object(s.a)(R.current,I.current)},onMouseLeave:function(){var e=Object(l.a)();Object(s.a)(L.current,document.body),Object(s.a)({width:"100%"},D()),I.current&&Array.prototype.slice.call(I.current.childNodes).reduce((function(e,t){return e+t.clientHeight}),0)>I.current.clientHeight&&(R.current=Object(s.a)({overflowY:"hidden",width:"calc(100% - ".concat(e,"px)")},I.current))}},a.a.createElement("div",{tabIndex:0,className:"header first-focus-el"},c,g&&a.a.createElement("button",{"aria-label":"\u5173\u95ed",className:"close-btn",onClick:O,onKeyDown:function(){A.current=!0}})),a.a.createElement("div",{className:"body",ref:I},m),a.a.createElement("div",{tabIndex:0,ref:N}))))};t.a=Object(r.forwardRef)(m)},f888a5b741084f046b7a:function(e,t,n){},f916861225cf3448ecd3:function(e,t,n){},f9dd4d76c78fe11efa84:function(e,t,n){"use strict";var r=n("dfb30137603785af9d6e"),a=n.n(r),o=n("098de4f1853062b3a141"),i=n.n(o);n("beaec0c0fc506c05a050");t.a=function(e){var t=e.children,n=e.visible,o=e.transformOrigin,c=void 0===o?"center":o,u=e.transform,l=void 0===u?"":u,s=Object(r.useRef)(null),f=Object(r.useRef)(-1),d="number"==typeof e.minScale?e.minScale:.8;return Object(r.useEffect)((function(){s.current&&(s.current.style.transformOrigin=c)}),[]),Object(r.useEffect)((function(){var e;n?s.current&&s.current&&(clearTimeout(f.current),s.current.classList.add("popup-show"),s.current.classList.remove("popup-hide"),null==(e=s.current)||e.clientWidth,s.current.classList.add("popup-anime-show"),s.current.classList.remove("popup-anime-hide"),s.current.style.transform="".concat(l," scale(1)")):(s.current&&(s.current.classList.add("popup-anime-hide"),s.current.classList.remove("popup-anime-show"),s.current.style.transform="".concat(l," scale(").concat(d,")")),f.current=window.setTimeout((function(){var e,t;null===(e=s.current)||void 0===e||e.classList.add("popup-hide"),null===(t=s.current)||void 0===t||t.classList.remove("popup-show")}),400))}),[n]),a.a.cloneElement(t,{ref:s,className:i()(t.props.className,"ttp-popup-container"),style:{transform:"".concat(l," scale(").concat(d,")")}})}},f9e7ab430b1eaeaf2713:function(e,t,n){"use strict";var r=n("4f6e6e2b02b6a70b9d23"),a=n.n(r),o=n("6bb41c796464fc214f15"),i=n.n(o),c=n("6104d0ccf35b3944ecf2"),u=n.n(c),l=n("4cc68b2efb2eff1c34aa"),s=n.n(l),f=n("f9aa1a8184c17c535d23"),d=n.n(f),m=n("b1b96d53056a3b30ef69"),p=n.n(m),b=n("dfb30137603785af9d6e"),v=n.n(b),h=n("54b2d6dda1f17486c719"),g=n("be6323750fae7868d676"),_=n("c3cdc631e8328a3bec0b"),y=(n("e2077f1c42c64000df64"),function(){return v.a.createElement("div",{className:"feed-m-loading"},v.a.createElement("span",{className:"text"},"\u6b63\u5728\u83b7\u53d6\u66f4\u591a\u5185\u5bb9"))});function w(e){var t=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var E=function(e){s()(n,e);var t=w(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).containerEl=null,e.handleScroll=Object(g.t)((function(){e.props.disable||e.containerEl&&(e.props.loading||e.props.refresh||!e.props.hasMore||e.containerEl.getBoundingClientRect().top+e.containerEl.clientHeight-window.innerHeight<=600&&e.props.onLoadMore())}),300),e.handleEEScrollToTop=function(){var t,n,r,a=(null===(t=e.containerEl)||void 0===t?void 0:t.getBoundingClientRect().top)||0,o=e.props.toTopOffset||-16,i=a+Object(_.c)()+o;window.scrollTo(0,i),null===(n=(r=e.props).onScrollToTop)||void 0===n||n.call(r,i)},e}return u()(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),h.a.on.scrollToTop(this.handleEEScrollToTop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),h.a.off.scrollToTop(this.handleEEScrollToTop)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.loading;return v.a.createElement("div",{ref:function(t){return e.containerEl=t}},n,r&&v.a.createElement(y,null))}}]),n}(v.a.Component);t.a=E},f9ed13e5f81996e94cef:function(e,t,n){"use strict";var r;function a(e){if("undefined"==typeof document)return 0;if(e||void 0===r){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),a=n.style;a.position="absolute",a.top="0",a.left="0",a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var o=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;o===i&&(i=n.clientWidth),document.body.removeChild(n),r=o-i}return r}n.d(t,"a",(function(){return a}))},fa1bfa8e190ce16c8135:function(e,t,n){},fa39963efae5fe5415e8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("281981c6b99b2a82c28b"),n("3001a3934397946b1a1f"),n("2424222fdd55b7282442");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n="".concat(e);return Array(Math.abs(n.length-(t+1))).join("0")+e}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM\u6708dd\u65e5 hh:mm:ss",n=new Date(e),a=n.getFullYear(),o=n.getMonth()+1,i=n.getDate(),c=n.getHours(),u=n.getMinutes(),l=n.getSeconds();return t.replace(/Y|y|MM?|dd?|hh?|mm?|ss?/g,(function(e){return{M:"".concat(o),MM:r(o),Y:"".concat(a),d:"".concat(i),dd:r(i),h:"".concat(c),hh:r(c),m:"".concat(u),mm:r(u),s:"".concat(l),ss:r(l),y:"".concat(a%100)}[e]}))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Date.now()/1e3,n=t-e,r=60*(new Date).getTimezoneOffset(),o=~~((t-r)/86400),i=~~((e-r)/86400),c=1e3*e;if(n<60)return"\u521a\u521a";if(n<3600)return Math.floor(n/60)+"\u5206\u949f\u524d";if(n<86400)return Math.floor(n/60/60)+"\u5c0f\u65f6\u524d";if(o-i==1)return"\u6628\u5929"+a(c,"hh:mm");if(o-i==2)return"\u524d\u5929"+a(c,"hh:mm");if(o-i<=9)return o-i+"\u5929\u524d";var u=new Date(1e3*t).getFullYear(),l=new Date(1e3*e).getFullYear();return a(c,u===l?"MM\u6708dd\u65e5":"Y\u5e74MM\u6708dd\u65e5")}function i(e){return new Promise((function(t){return setTimeout((function(){return t(void 0)}),e)}))}},fae1a6313b4ef00cf618:function(e,t,n){"use strict";n("281981c6b99b2a82c28b"),n("4d29b26999e97f1d28ec"),n("644ee2c2adee959c985f"),n("eef23a05705d8b46f87b"),n("e934f008ce014eda6535"),n("3001a3934397946b1a1f"),n("17d091243b0d38080c9b"),n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("21460410443b5c09d963"),n("1c4b8d4085d28a8b83d7"),n("714667d626fd04a26548");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=(n("f528931b6f51de3f6b7b"),n("ec7d18b3433a1d1d5e4e")),i=n("102c68ff4eb277341743"),c=n("5198e738d473f46c850b"),u=n("a7cb42378ff2e016201f");n("06a2848a1ac9fe42cbab"),n("587ee3767cae257489e4");function l(e){return e.map((function(e){var t,n=e.Url,r=!1;return e.Url.startsWith("https://www.toutiao.com/trending/")&&(n="https://www.toutiao.com/trending/".concat(e.ClusterIdStr,"/?rank=").concat(e.rank),r=!0,t=Object(c.b)(void 0,e.Url.split("?")[1]||"")),{id:e.ClusterIdStr,url:n,title:e.Title,label:e.Label,labelDesc:e.LabelDesc,rank:e.rank,isTrendingPage:r,trendingLog:t}}))}function s(e,t,n,r,a){var o=function(e,t,n){if(!e)return[];var r=e.map((function(e,t){return Object.assign(Object.assign({},e),{rank:t+1})}));if(!(null==t?void 0:t.length))return r;var a=t.map((function(e){return{Url:e.Url,Title:e.Title,ClusterIdStr:Object(c.b)("groupid",e.Schema.split("?")[1]),rank:0}}));if("0"===n)return a.concat(r);if("1"===n){var o=Math.floor(Math.random()*t.length);return r.unshift(a[o]),r}return r}(e,t,n),i=function e(t,n,r,a){var o=a;window.innerHeight>=750&&0===r&&(o+=n);var i=t.slice(r,r+o);return i.length<5?e(t,n,0,a):{list:i,offset:r+o>=t.length?0:r+o}}(o,o.length-e.length,r,a);return{offsetList:l(i.list),offsetNum:i.offset}}var f=n("098de4f1853062b3a141"),d=n.n(f),m=function(e){var t=e.title,n=e.loading,r=e.onClick;return a.a.createElement("div",{className:"title-bar"},a.a.createElement("h2",{className:"title"},t),a.a.createElement("button",{type:"button",className:d()("refresh",{loading:n}),onClick:r},"\u6362\u4e00\u6362"))},p=n("9a26e56d17b55462db4a");function b(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,c,"next",e)}function c(e){b(o,r,a,i,c,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=Object(r.forwardRef)((function(e,t){var n=e||{},l=n.count,f=void 0===l?10:l,d=n.logParams,b=n.onClickItem,g=n.onSuccess,_=n.onEnd,y=Object(r.useRef)(null),w=Object(r.useRef)(!1),E=Object(r.useRef)(0),k=h(Object(r.useState)([]),2),O=k[0],j=k[1],C=h(Object(r.useState)(!1),2),I=C[0],x=C[1],T=Object(r.useRef)({impr_id:"",group_format:"amos_land"});function S(e){Object(i.a)("category_refresh",Object.assign(Object.assign({},d),{section:"hot_spot",reload_type:"change",is_null:e}))}function N(e,t){return L.apply(this,arguments)}function L(){return(L=v(regeneratorRuntime.mark((function e(t,n){var r,a,i,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.current){e.next=2;break}return e.abrupt("return");case 2:return w.current=!0,x(!0),e.prev=4,e.next=7,o.a.hotboard.getHotBoard();case 7:r=e.sent,"success"===(a=r.data).status&&(i=void 0===t?E.current:t,c=s(a.data,a.fixed_top_data,a.fixed_top_style,i,f),u=c.offsetList,l=c.offsetNum,j(u),E.current=l,null==g||g(),T.current.impr_id=a.impr_id),"change"===n&&S(0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("get hotList error",e.t0),"change"===n&&S(1);case 17:return e.prev=17,null==_||_(),w.current=!1,x(!1),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[4,13,17,22]])})))).apply(this,arguments)}function R(e){Object(i.a)("detail_page_widget_click",{group_id:d.from_gid||"",widget_name:"hot_board_card",from_position:e})}function A(e,t){Object(i.a)("content_click",Object.assign(Object.assign({},d),{log_pb:JSON.stringify(Object.assign(Object.assign(Object.assign({},"string"==typeof d.log_pb&&Object(c.e)(d.log_pb)),T.current),{group_id:e.id})),area:"toutiao_hot",gid:e.id,href:globalThis.getFilterXss().filterUrl(e.url,null,{logType:"js.href/src",reportOnly:"all"}),show_rank:e.rank||0,section:"hot_spot",group_id:e.id,is_top_content:0===e.rank?"1":"0",channel_id:"94349542854"})),R("list"),null==b||b(e);var n=Object(u.a)()||{},r=n.enter_from,a=void 0===r?"":r,o=n.category_name,l=void 0===o?"":o;if(0===e.rank){t.preventDefault();var s=Object(u.b)(e.url,Object.assign(Object.assign({},d),{category_name:l||d.category_name,enter_from:a||d.enter_from,channel_id:"94349542854",from_page_name:d.page_name,show_rank:e.rank||0,is_top_content:0===e.rank?"1":"0",section:"hot_spot"}));window.open(s)}e.isTrendingPage&&(t.preventDefault(),function(e){var t=Object(u.b)(e.url,Object.assign({},e.trendingLog));window.open(t)}(e))}return Object(r.useEffect)((function(){N()}),[]),Object(r.useImperativeHandle)(t,(function(){return{dom:y.current,refresh:function(){N(0)}}})),a.a.createElement("div",{className:"ttp-hot-board",ref:y},a.a.createElement(m,{title:"\u5934\u6761\u70ed\u699c",loading:I,onClick:function(){N(void 0,"change"),R("change")}}),a.a.createElement("ol",null,O.map((function(e){return a.a.createElement(p.a,{once:!0,key:e.id,onVisible:function(t){t&&function(e){var t=Object(u.a)()||{},n=t.enter_from,r=void 0===n?"":n,a=t.category_name,o=void 0===a?"":a;Object(i.a)("client_show",Object.assign(Object.assign({category_name:o,enter_from:r},d),{log_pb:JSON.stringify(Object.assign(Object.assign(Object.assign({},"string"==typeof d.log_pb&&Object(c.e)(d.log_pb)),T.current),{group_id:e.id})),show_rank:e.rank||0,section:"hot_spot",group_id:e.id,is_top_content:0===e.rank?"1":"0",channel_id:"94349542854"}))}(e)}},a.a.createElement("li",null,a.a.createElement("a",{"aria-label":"".concat(e.title,"\uff0c").concat(e.labelDesc||""),className:"article-item",href:globalThis.getFilterXss().filterUrl(e.url,null,{logType:"js.href/src",reportOnly:"all"}),target:"_blank",rel:"noopener nofollow",onClick:function(t){return A(e,t)}},0===e.rank&&a.a.createElement("i",{className:"icon-stick"}),0!==e.rank&&a.a.createElement("span",{className:"news-index num-".concat(e.rank)},e.rank),a.a.createElement("p",{className:"news-title",title:e.title},e.title),e.label&&a.a.createElement("i",{className:"news-icon ".concat(e.label)}))))}))))}));_.defaultProps={count:10};t.a=_},fb622297466e7a637f99:function(e,t,n){"use strict";n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return N})),n.d(t,"j",(function(){return L})),n.d(t,"i",(function(){return R})),n.d(t,"m",(function(){return A})),n.d(t,"d",(function(){return P})),n.d(t,"o",(function(){return D})),n.d(t,"r",(function(){return M})),n.d(t,"p",(function(){return U})),n.d(t,"s",(function(){return V})),n.d(t,"q",(function(){return F})),n.d(t,"n",(function(){return H})),n.d(t,"g",(function(){return B})),n.d(t,"u",(function(){return Y})),n.d(t,"b",(function(){return G})),n.d(t,"h",(function(){return z})),n.d(t,"v",(function(){return q})),n.d(t,"a",(function(){return X})),n.d(t,"c",(function(){return Q})),n.d(t,"e",(function(){return Z})),n.d(t,"f",(function(){return J})),n.d(t,"t",(function(){return ee})),n.d(t,"w",(function(){return te}));var r,a,o=n("54868fd92a74e390355c"),i=n.n(o),c=n("007862268c2fc8134ebb"),u=n.n(c),l=n("c5054cf9c06ccf557fcd"),s=n.n(l),f=n("4f25322f10fce8ce9169"),d=n.n(f),m=n("a1370d8a46bf7fd478fc"),p=n.n(m),b=n("a0317e3b4020b526a9b2"),v=n.n(b),h=n("4c1314c969cf00365acd"),g=n.n(h),_=n("90cd159fadd272c59cf2"),y=n.n(_),w=n("819716bda1fd0681a754"),E=n.n(w),k=n("733b0b7fc50b301159ca"),O=n("6cf195ddfada1b0033e1"),j=n("ed0e645fb10944a4fb8f");function C(e,t){var n=v()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):s.a?u()(e,s()(n)):C(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}var x=(r={},E()(r,j.a.ARTICLE,"tuwen"),E()(r,j.a.VIDEO,"video"),E()(r,j.a.WTT,"weitoutiao"),E()(r,j.a.QUESTION,"qa"),E()(r,j.a.ANSWER,"qa"),r),T=(a={},E()(a,j.a.ARTICLE,"text"),E()(a,j.a.VIDEO,"video"),E()(a,j.a.WTT,"wtt"),E()(a,j.a.SHORT_VIDEO,"shortvideo"),E()(a,j.a.QUESTION,"qa"),E()(a,j.a.ANSWER,"qa"),a);function S(e){return e?e>3?"4_picture":"1_picture":"no_picture"}function N(e){return e.__log_impr_type||(0===e.__channel_id?"__pc_feed__":"__pc_channel")}function L(e){return e.__log_enter_from||(0===e.__channel_id?"click_headline":"click_category")}function R(e){var t;return e.__log_category_name||(null===(t=e.__channel_info)||void 0===t?void 0:t.category)}function A(e){Object(O.a)("go_detail",I(I({},e),{},{log_pb:y()(e)}))}var P=function(){var e=[],t=null;function n(){for(;e.length;)t=e.shift(),n=void 0,r=void 0,a=void 0,o=void 0,i=void 0,c=void 0,u=void 0,c=(null===(n=t.__cover_urls)||void 0===n?void 0:n.length)||0,u=(null===(r=t.log_pb)||void 0===r?void 0:r.is_following)||((null===(a=t.__user_info||t.userInfo)||void 0===a?void 0:a.isFollow)?"1":"0"),Object(O.a)("client_show",I(I({},t.log_pb),{},{impr_type:N(t),enter_from:L(t),category_name:R(t),channel_id:null===(o=t.__channel_info)||void 0===o?void 0:o.channelId,group_id:t.group_id,group_source:t.group_source||(null===(i=t.log_pb)||void 0===i?void 0:i.group_source),group_type:t.__group_type||S(c),group_format:x[t.__type],cell_type:t.cell_type,article_type:T[t.__type],section:t.__log_section||"feed",position:"related"===t.__log_category_name?"detail":"list",is_top_content:t.is_stick?"1":"0",show_rank:t.__log_show_rank,is_following:u,key_name:"tt_pc_feed",page_name:t.__log_page_name,log_pb:y()(t.log_pb),item_id:t.itemId,biz_id:t.bizId,wtt_video:Object(k.a)(t),wtt_link:t.attach_card_info?"1":void 0}));var t,n,r,a,o,i,c,u}function r(){clearTimeout(t),t=setInterval((function(){n()}),6e4)}return"undefined"!=typeof window&&(r(),window.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?r():(clearTimeout(t),n())})),window.addEventListener("beforeunload",(function(){clearTimeout(t),n()}))),function(t){e=e.concat(t)}}();function D(e,t){Object(O.a)("follow_user",{enter_from:L(e),category_name:R(e),position:"list",to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,author_id:e.__user_info.userSecToken,follow_type:"from_group",group_id:e.group_id,article_type:"weitoutiao"})}function M(e,t){Object(O.a)("unfollow_user",{enter_from:L(e),category_name:R(e),position:"list",to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,author_id:e.__user_info.userSecToken,follow_type:"from_group",group_id:e.group_id,article_type:"weitoutiao"})}function U(e,t,n){var r;Object(O.a)("rt_like",I({enter_from:L(e),category_name:R(e),to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.group_source,is_following:(null===(r=e.user)||void 0===r?void 0:r.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:"list"===n.position?"feed":"detail_feed"},n))}function V(e,t,n){var r;Object(O.a)("rt_unlike",I({enter_from:L(e),category_name:R(e),to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.group_source,is_following:(null===(r=e.user)||void 0===r?void 0:r.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:"list"===n.position?"feed":"detail_feed"},n))}function F(e,t,n){var r;Object(O.a)("rt_share_to_platform",I({enter_from:L(e),category_name:R(e),to_user_id:null==t?void 0:t.userId,user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.group_source,is_following:(null===(r=e.user)||void 0===r?void 0:r.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:e.__log_section||("list"===n.position?"feed":"detail_feed")},n))}function H(e,t){Object(O.a)("rt_dislike",I({enter_from:L(e),category_name:R(e),group_id:e.group_id,group_source:e.group_source,show_rank:e.__log_show_rank,section:"list"===t.position?"feed":"detail_feed"},t))}function B(e,t){Object(O.a)("dislike_click",I({enter_from:L(e),category_name:R(e),group_id:e.group_id,group_source:e.group_source,show_rank:e.__log_show_rank,section:"list"===t.position?"feed":"detail_feed"},t))}var W=new g.a;function Y(e){W.has(e.category_name)||(W.add(e.category_name),Object(O.a)("channel_show",I({},e)))}function G(e){Object(O.a)("category_click",I({},e))}var K=0;function z(e){K=e.is_in_category_more,Object(O.a)("enter_category",I({},e))}function q(e){Object(O.a)("stay_category",I(I({},e),{},{is_in_category_more:K}))}function X(e){Object(O.a)("category_refresh",I({},e))}function Q(e){Object(O.a)("content_click",I({},e))}function Z(e,t){var n=e.log_pb||{},r=e.__channel_info||{};Object(O.a)("content_click",I(I({},n),{},{area:e.__log_area||("all"===r.key?"feed":"category"),gid:e.groupId,href:e.detailUrl,enter_from:L(e),category_name:R(e),channel_id:r.channelId,impr_id:n.impr_id,impr_type:N(e),is_top_content:e.is_stick?"1":"0",section:"list"===t.position?"feed":"detail_feed",group_source:e.group_source||n.group_source,group_id:e.group_id,item_id:e.itemId,biz_id:e.bizId,show_rank:e.__log_show_rank,group_type:e.__group_type,log_pb:y()(e.log_pb)},t))}function J(e){Object(O.a)("content_show_more_click",{position:"list",enter_from:L(e),category_name:R(e),show_rank:e.__log_show_rank,author_id:e.__user_info.userSecToken})}function $(e,t){var n;return{enter_from:L(e),category_name:R(e),user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.__group_source,is_following:(null===(n=e.user)||void 0===n?void 0:n.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:e.__log_section||("list"===t.position?"feed":"detail_feed")}}function ee(e,t){"hover"!==t.action_type&&Object(O.a)("share_button",I(I({},$(e,t)),t))}function te(e,t){Object(O.a)("repost_publish_done",I(I({},$(e,t)),t))}},fbd38813ef45ebb99472:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("173ed76c91c0d96934ab"),n("84e0a0c8a6be71b33470"),n("35cb213607f0dbaa33a3"),n("c24204dd29ff77475878");var r=n("dfb30137603785af9d6e"),a=n.n(r),o=a.a.createContext({value:"",checkedPrev:function(){},checkedNext:function(){},onChange:function(){}}),i=n("c3f6c65547e619f96c18"),c=function(e){var t=e.children,n=e.index,c=e.option,u=Object(r.useContext)(o),l=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;u.value===c&&(null===(e=l.current)||void 0===e||e.focus())}),[u.value]),a.a.cloneElement(t,{role:"radio","aria-checked":c===u.value,tabIndex:u.value||0!==n?u.value===c?0:-1:0,ref:l,onKeyDown:function(e){switch(e.stopPropagation(),e.keyCode){case i.a.SPACE:case i.a.ENTER:e.preventDefault(),u.onChange(c);break;case i.a.UP:u.checkedPrev(n);break;case i.a.DOWN:u.checkedNext(n)}}})};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,r,i=d(c);function c(){var e;return l(this,c),(e=i.apply(this,arguments)).handleCheckedPrev=function(t){var n=(t-1+e.props.options.length)%e.props.options.length;e.props.onChange(e.props.options[n])},e.handleCheckedNext=function(t){var n=(t+1)%e.props.options.length;e.props.onChange(e.props.options[n])},e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.value,r=e.onChange;return a.a.createElement(o.Provider,{value:{value:n,checkedPrev:this.handleCheckedPrev,checkedNext:this.handleCheckedNext,onChange:r}},a.a.cloneElement(t,{role:"radiogroup","aria-label":this.props["aria-label"]}))}}])&&s(t.prototype,n),r&&s(t,r),c}(a.a.Component);b.RadioButton=c},fc117aacb27df2ddee39:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("92c8006d8139d763c605"),a=n.n(r),o=n("ee10aab64b9ea632f5ab"),i=n.n(o),c=n("dfb30137603785af9d6e"),u=n("663529bce6ee6d8996f5"),l=n("2422758950d9f66b7423"),s=n("ed0e645fb10944a4fb8f"),f=n("acff6c447f863638e55f");function d(e){return e.map((function(e){var t,n,r;return{title:e.title,cover:Object(s.f)(e)[0],groupId:e.group_id,itemId:e.item_id,detailUrl:Object(f.b)(f.a.SELF_VIDEO,e.group_id),userInfo:Object(s.k)(e),playCount:null===(t=e.action)||void 0===t?void 0:t.play_count,filterWords:null===(n=e.filter_words)||void 0===n||null===(r=n.filter_words)||void 0===r?void 0:r.filter((function(e){return"21:10004"!==e.id})),log_pb:e.log_pb,group_id:e.group_id,group_source:e.group_source,cell_type:e.cell_type,duration:e.video_duration,videoId:e.video_id,source:e.source,commentCount:e.comment_count,userDigg:e.user_digg,likeCount:e.digg_count,timestamp:e.publish_time}}))}function m(e){var t=e.videoType,n=e.data,r=void 0===n?[]:n,o=e.channelId,f=e.useRawData,m=void 0!==f&&f,p=Object(c.useRef)(r),b=Object(c.useRef)(0),v=Object(c.useRef)(0),h=Object(c.useRef)(!1),g=function(){var e=i()(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.current){e.next=2;break}return e.abrupt("return");case 2:if(h.current=!0,e.prev=3,t!==l.j.VIDEO){e.next=10;break}return e.next=7,u.a.feed.getVideoData();case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,u.a.feed.getShortVideoData(o);case 12:n=e.sent;case 13:"success"===n.data.message&&(r=Object(s.l)(n.data.data,p.current,o),p.current=m?r:d(r)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log("dislike loadmore error: ",e.t0);case 19:return e.prev=19,h.current=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=i()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=p.current[b.current])){e.next=6;break}b.current++,v.current=0,e.next=11;break;case 6:return e.next=8,g();case 8:if(v.current++,!(v.current<2)){e.next=11;break}return e.abrupt("return",_());case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return _}},fc2cfd1b6b52d60a2681:function(e,t,n){},fc922df9e81cb22d6e5b:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("167789bd516d2baf7295");function a(){r.a&&(window._xssBid="toutiao_web_pc",window.xss.Config.bid="toutiao_web_pc",window.xss.Config.region="cn")}},fd2f6cebe99b8c083dd2:function(e,t,n){},fdbcb2f5089886a59aee:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return E})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return k}));var r=n("54868fd92a74e390355c"),a=n.n(r),o=n("007862268c2fc8134ebb"),i=n.n(o),c=n("c5054cf9c06ccf557fcd"),u=n.n(c),l=n("4f25322f10fce8ce9169"),s=n.n(l),f=n("a1370d8a46bf7fd478fc"),d=n.n(f),m=n("a0317e3b4020b526a9b2"),p=n.n(m),b=n("819716bda1fd0681a754"),v=n.n(b);function h(e,t){var n=p()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?i()(e,u()(n)):h(Object(n)).forEach((function(t){a()(e,t,s()(n,t))}))}return e}var _,y,w=g(g({},n("9a0812b9b795e3662b25").a),{},{RESOURCE_READY:"resourceReady",AUTONEXT_CHANGE:"autoNext_change",MEDIA_EXPIRED:"MEDIA_EXPIRED",MP4_AUTO_DESC_CHANGE:"MP4_AUTO_DESC_CHANGE",ABR_AUTO_DESC_CHANGE:"ABR_AUTO_DESC_CHANGE",PLAY_NEXT:"play_next",PLAY_PREV:"play_prev",MANUAL_PLAY_NEXT:"manual_play_next",UPDATE_PLAY_INFO:"update_play_info",DEFINITION_SWITCH_TIME:"definitionSwitchTime",SHOW_BOTTOM_LEFT_TIPS:"showBottomLeftTips"}),E={PLAY_NEXT:"play_next",PLAY_PREV:"play_prev"};!function(e){e.UNKNOWN="unknown",e.CLICK="click",e.WHEEL="wheel",e.KEYBOARD="keyboard",e.AUTO_NEXT="auto_next",e.DISLIKE="dislike"}(_||(_={})),function(e){e.SWITCH_PLAY_PAUSE="switch_play_pause",e.SWITCH_FULLSCREEN="switch_fullscreen",e.SWITCH_AUTO_NEXT="switch_auto_next",e.CHANGE_DEFINITION="change_definition",e.CHANGE_RATE="change_rate",e.CHANGE_VOLUME="change_volume",e.CHANGE_MUTED="change_muted",e.SEEK="seek"}(y||(y={}));var k,O={"360p":{text:"\u6d41\u7545 360P",iconText:"\u6d41\u7545"},"480p":{text:"\u6807\u6e05 480P",iconText:"\u6807\u6e05"},"720p":{text:"\u8d85\u6e05 720P",iconText:"\u8d85\u6e05"},"1080p":{text:"\u84dd\u5149 1080P",iconText:"\u84dd\u5149"}};!function(e){e.MEDIA_EXPIRED="MEDIA_EXPIRED",e.NEXT="NEXT",e.REPLAY="REPLAY"}(k||(k={}))}});
//# sourceMappingURL=index.2680dbfc.js.map